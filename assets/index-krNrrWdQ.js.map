{"version":3,"file":"index-krNrrWdQ.js","sources":["../../src/3D/SkateboardScene/SkateboardOptions.ts","../../src/3D/SkateboardScene/Resources/skateboard/OniMask.png","../../src/3D/SkateboardScene/Resources/skateboard/PinkSwirl.png","../../src/3D/SkateboardScene/Resources/skateboard/red-and-black.png","../../src/3D/SkateboardScene/Resources/skateboard/against-the-tide.png","../../src/3D/SkateboardScene/Resources/skateboard/thank-you-deck.png","../../src/3D/SkateboardScene/Resources/skateboard/yellow-and-black.png","../../src/3D/SkateboardScene/Resources/skateboard/red-and-white.png","../../src/3D/SkateboardScene/Resources/skateboard/black-and-yellow.png","../../src/3D/SkateboardScene/Resources/skateboard/green-and-navy.png","../../src/3D/SkateboardScene/Resources/skateboard/gray-and-black.png","../../src/3D/SkateboardScene/Resources/skateboard/grid-streaks.png","../../src/3D/SkateboardScene/Resources/skateboard/wheel-black.png","../../src/3D/SkateboardScene/Resources/skateboard/wheel-blue.png","../../src/3D/SkateboardScene/Resources/skateboard/wheel-cream.png","../../src/3D/SkateboardScene/Resources/skateboard/wheel-green.png","../../src/3D/SkateboardScene/Resources/skateboard/wheel-navy.png","../../src/3D/SkateboardScene/Resources/skateboard/wheel-pink.png","../../src/3D/SkateboardScene/Resources/skateboard/wheel-purple.png","../../src/3D/SkateboardScene/Resources/skateboard/wheel-red.png","../../src/3D/SkateboardScene/Resources/skateboard/wheel-yellow.png","../../src/3D/SkateboardScene/useCameraControls.ts","../../src/3D/SkateboardScene/CustomizerContext.tsx","../../src/3D/SkateboardScene/Controls/Options/Option/index.tsx","../../src/3D/SkateboardScene/Controls/Options/index.tsx","../../src/3D/SkateboardScene/Controls/index.tsx","../../src/3D/SkateboardScene/Resources/hdr/warehouse-512.hdr","../../src/3D/SkateboardScene/Preview/Floor.tsx","../../src/3D/SkateboardScene/Resources/concrete-normal.avif","../../src/3D/SkateboardScene/Resources/Skateboard.glb","../../src/3D/SkateboardScene/Preview/SkateboardModel/index.tsx","../../src/3D/SkateboardScene/Preview/SkateboardModel/useGripTape.ts","../../src/3D/SkateboardScene/Resources/skateboard/griptape-diffuse.webp","../../src/3D/SkateboardScene/Resources/skateboard/griptape-roughness.webp","../../src/3D/SkateboardScene/Preview/SkateboardModel/useBolts.ts","../../src/3D/SkateboardScene/Preview/SkateboardModel/useTrucks.ts","../../src/3D/SkateboardScene/Resources/skateboard/metal-normal.avif","../../src/3D/SkateboardScene/Preview/SkateboardModel/useDeck.ts","../../src/3D/SkateboardScene/Preview/SkateboardModel/useWheels.ts","../../src/3D/SkateboardScene/Preview/SkateboardModel/useSRGBTexture.ts","../../src/3D/SkateboardScene/Preview/useSelectedTexture.ts","../../src/3D/SkateboardScene/Preview/index.tsx","../../src/3D/SkateboardScene/index.tsx"],"sourcesContent":["import AgainstTheTide from \"./Resources/skateboard/against-the-tide.png\";\nimport BlackAndYellow from \"./Resources/skateboard/black-and-yellow.png\";\nimport GrayAndBlack from \"./Resources/skateboard/gray-and-black.png\";\nimport GreenAndNavy from \"./Resources/skateboard/green-and-navy.png\";\nimport GridStreaks from \"./Resources/skateboard/grid-streaks.png\";\nimport OniMask from \"./Resources/skateboard/OniMask.png\";\nimport PinkSwirl from \"./Resources/skateboard/PinkSwirl.png\";\nimport RedAndBlack from \"./Resources/skateboard/red-and-black.png\";\nimport RedAndWhite from \"./Resources/skateboard/red-and-white.png\";\nimport ThankYou from \"./Resources/skateboard/thank-you-deck.png\";\nimport WheelBlack from \"./Resources/skateboard/wheel-black.png\";\nimport WheelBlue from \"./Resources/skateboard/wheel-blue.png\";\nimport WheelCream from \"./Resources/skateboard/wheel-cream.png\";\nimport WheelGreen from \"./Resources/skateboard/wheel-green.png\";\nimport WheelNavy from \"./Resources/skateboard/wheel-navy.png\";\nimport WheelPink from \"./Resources/skateboard/wheel-pink.png\";\nimport WheelPurple from \"./Resources/skateboard/wheel-purple.png\";\nimport WheelRed from \"./Resources/skateboard/wheel-red.png\";\nimport WheelYellow from \"./Resources/skateboard/wheel-yellow.png\";\nimport YellowAndBlack from \"./Resources/skateboard/yellow-and-black.png\";\n\nexport class SkateboardOptions {\n  public static readonly METALS = [\n    \"#333\",\n    \"#6F6E6A\",\n    \"#34495E\",\n    \"#DEB887\",\n    \"#eee\",\n    \"#E84118\",\n    \"#068BD3\",\n    \"#A6E22E\",\n    \"#F1C40F\",\n    \"#8E44AD\",\n    \"#BA3763\",\n    \"#F1396E\",\n  ];\n\n  public static readonly DECKS = [\n    OniMask,\n    PinkSwirl,\n    RedAndBlack,\n    AgainstTheTide,\n    ThankYou,\n    YellowAndBlack,\n    RedAndWhite,\n    BlackAndYellow,\n    GreenAndNavy,\n    GrayAndBlack,\n    GridStreaks,\n  ];\n\n  public static readonly WHEELS = [\n    WheelBlack,\n    WheelBlue,\n    WheelCream,\n    WheelGreen,\n    WheelNavy,\n    WheelPink,\n    WheelPurple,\n    WheelRed,\n    WheelYellow,\n  ];\n}\n","export default \"__VITE_ASSET__xvwp8Rnn__\"","export default \"__VITE_ASSET__1wAkAbtI__\"","export default \"__VITE_ASSET__sUkDQYoJ__\"","export default \"__VITE_ASSET__1eh$Y5HD__\"","export default \"__VITE_ASSET__jb48tiyh__\"","export default \"__VITE_ASSET__jy3Yg8Jr__\"","export default \"__VITE_ASSET__avv$cffj__\"","export default \"__VITE_ASSET__iTf6FCZ7__\"","export default \"__VITE_ASSET__2k2a2M0e__\"","export default \"__VITE_ASSET__ezTLYmsE__\"","export default \"__VITE_ASSET__AmrMsqdM__\"","export default \"__VITE_ASSET__v8DDj7Wa__\"","export default \"__VITE_ASSET__CIkqgvzh__\"","export default \"__VITE_ASSET___3CIqszn__\"","export default \"__VITE_ASSET__7FQlAgZG__\"","export default \"__VITE_ASSET__DplcV58y__\"","export default \"__VITE_ASSET__AC3jlLzq__\"","export default \"__VITE_ASSET__DNmbfgSA__\"","export default \"__VITE_ASSET__csX0$JUH__\"","export default \"__VITE_ASSET__mseqTGld__\"","import { useCallback, useMemo, useRef } from \"react\";\nimport { Vector3 } from \"three\";\nimport { CameraControls } from \"@react-three/drei\";\n\nexport const DEFAULT_CAMERA_LOOK_AT = [0, 0.3, 0] as const;\nexport const DEFAULT_CAMERA_POSITION = [2.5, 0.75, 0] as const;\n\nexport const useCameraControls = () => {\n  const camera = useRef<CameraControls>(null);\n\n  const setCameraControls = useCallback(\n    (target: Vector3, position: Vector3) => {\n      if (!camera.current) {\n        return;\n      }\n      void camera.current.setTarget(target.x, target.y, target.z, true);\n      void camera.current.setPosition(position.x, position.y, position.z, true);\n    },\n    [camera],\n  );\n\n  const lookAtTruck = useCallback(() => {\n    setCameraControls(new Vector3(0, 0.29, 0.5), new Vector3(0.4, 0.3, 1));\n  }, [setCameraControls]);\n\n  const lookAtWheel = useCallback(() => {\n    setCameraControls(new Vector3(0.2, 0.54, 0.65), new Vector3(0.4, 1, 0.6));\n  }, [setCameraControls]);\n\n  const lookAtBolts = useCallback(() => {\n    setCameraControls(\n      new Vector3(0.15, 0.3, 0.62),\n      new Vector3(-0.75, 0.35, 0.8),\n    );\n  }, [setCameraControls]);\n\n  const lookAtDeck = useCallback(() => {\n    setCameraControls(\n      new Vector3(...DEFAULT_CAMERA_LOOK_AT),\n      new Vector3(...DEFAULT_CAMERA_POSITION),\n    );\n  }, [setCameraControls]);\n\n  return useMemo(\n    () => ({ camera, lookAtBolts, lookAtDeck, lookAtTruck, lookAtWheel }),\n    [lookAtBolts, lookAtDeck, lookAtTruck, lookAtWheel],\n  );\n};\n","import {\n  createContext,\n  createRef,\n  Dispatch,\n  RefObject,\n  SetStateAction,\n  useCallback,\n  useContext,\n  useMemo,\n  useState,\n} from \"react\";\nimport { OptionalChildren } from \"@figliolia/react-lazy\";\nimport { CameraControls } from \"@react-three/drei\";\nimport { Callback } from \"Tools/Types\";\nimport { SkateboardOptions } from \"./SkateboardOptions\";\nimport { useCameraControls } from \"./useCameraControls\";\n\nconst CustomizerContext = createContext<ICustomizerContext>({\n  wheel: SkateboardOptions.WHEELS[0],\n  updateWheels: () => {},\n  deck: SkateboardOptions.DECKS[0],\n  updateDeck: () => {},\n  truck: SkateboardOptions.METALS[0],\n  updateTrucks: () => {},\n  bolt: SkateboardOptions.METALS[0],\n  updateBolts: () => {},\n  lookAtDeck: () => {},\n  camera: createRef(),\n});\n\ninterface ICustomizerContext {\n  wheel: string;\n  updateWheels: Callback<[string]>;\n  deck: string;\n  updateDeck: Callback<[string]>;\n  truck: string;\n  updateTrucks: Callback<[string]>;\n  bolt: string;\n  lookAtDeck: Callback;\n  updateBolts: Callback<[string]>;\n  camera: RefObject<CameraControls | null>;\n}\n\nexport const CustomizerContextProvider = ({ children }: OptionalChildren) => {\n  const [wheel, setWheel] = useState(SkateboardOptions.WHEELS[0]);\n  const [bolt, setBolt] = useState(SkateboardOptions.METALS[0]);\n  const [deck, setDeck] = useState(SkateboardOptions.DECKS[0]);\n  const [truck, setTruck] = useState(SkateboardOptions.METALS[0]);\n  const { camera, lookAtBolts, lookAtTruck, lookAtWheel, lookAtDeck } =\n    useCameraControls();\n\n  const createLookAt = useCallback(\n    (stateSetter: Dispatch<SetStateAction<string>>, lookAt: Callback) =>\n      (update: string) => {\n        stateSetter(update);\n        lookAt();\n      },\n    [],\n  );\n\n  const updateWheels = useMemo(\n    () => createLookAt(setWheel, lookAtWheel),\n    [createLookAt, lookAtWheel],\n  );\n  const updateTrucks = useMemo(\n    () => createLookAt(setTruck, lookAtTruck),\n    [createLookAt, lookAtTruck],\n  );\n  const updateDeck = useMemo(\n    () => createLookAt(setDeck, lookAtDeck),\n    [createLookAt, lookAtDeck],\n  );\n  const updateBolts = useMemo(\n    () => createLookAt(setBolt, lookAtBolts),\n    [createLookAt, lookAtBolts],\n  );\n\n  const value = useMemo(\n    () => ({\n      camera,\n      wheel,\n      bolt,\n      deck,\n      truck,\n      lookAtDeck,\n      updateWheels,\n      updateTrucks,\n      updateDeck,\n      updateBolts,\n    }),\n    [\n      wheel,\n      bolt,\n      deck,\n      truck,\n      camera,\n      lookAtDeck,\n      updateWheels,\n      updateTrucks,\n      updateDeck,\n      updateBolts,\n    ],\n  );\n  return (\n    <CustomizerContext.Provider value={value}>\n      {children}\n    </CustomizerContext.Provider>\n  );\n};\n\nexport const useCustomizer = () => {\n  return useContext(CustomizerContext);\n};\n","import { CSSProperties, ReactNode, useCallback } from \"react\";\nimport { useClassNames } from \"@figliolia/classnames\";\nimport { Callback } from \"Tools/Types\";\nimport \"./styles.scss\";\n\nexport const Option = ({\n  selected,\n  children,\n  onClick,\n  colorField,\n  imageField,\n  imageStyles,\n}: Props) => {\n  const classes = useClassNames(\"option\", { selected });\n\n  const onSelect = useCallback(() => {\n    onClick(colorField ?? imageField ?? \"\");\n  }, [onClick, colorField, imageField]);\n\n  return (\n    <li>\n      <button className={classes} onClick={onSelect}>\n        {imageField ? (\n          <img src={imageField} alt=\"\" style={imageStyles} />\n        ) : (\n          <div style={{ backgroundColor: colorField ?? undefined }} />\n        )}\n        <span>{children}</span>\n      </button>\n    </li>\n  );\n};\n\ninterface CommonProps {\n  selected: boolean;\n  children: ReactNode;\n  onClick: Callback<[string]>;\n  imageStyles?: CSSProperties;\n}\n\ntype Props = CommonProps &\n  (\n    | {\n        colorField?: never;\n        imageField: string;\n      }\n    | {\n        colorField: string;\n        imageField?: never;\n        imgixParams?: never;\n      }\n  );\n","import { ReactNode, useMemo } from \"react\";\nimport { OptionalChildren } from \"Tools/Types\";\nimport \"./styles.scss\";\n\nexport const Options = ({ title, selectedName, children }: Props) => {\n  const formatted = useMemo(\n    () => (selectedName ? getName(selectedName) : \"\"),\n    [selectedName],\n  );\n  return (\n    <div className=\"options\">\n      <div>\n        <h2>{title}</h2>\n        <p>\n          <span>| </span>\n          {formatted}\n        </p>\n      </div>\n      <ul>{children}</ul>\n    </div>\n  );\n};\n\ninterface Props extends OptionalChildren {\n  title?: ReactNode;\n  selectedName?: string;\n}\n\nfunction getName(path: string) {\n  const tokens = path.split(\"/\");\n  const file = tokens[tokens.length - 1];\n  const [name] = file.split(\".\");\n  return name.replace(/-/g, \" \");\n}\n\nexport * from \"./Option\";\n","import { PropLess } from \"Tools/Types\";\nimport { useCustomizer } from \"../CustomizerContext\";\nimport { SkateboardOptions } from \"../SkateboardOptions\";\nimport { Option, Options } from \"./Options\";\nimport \"./styles.scss\";\n\nexport const Controls = (_: PropLess) => {\n  const {\n    deck,\n    bolt,\n    wheel,\n    truck,\n    updateBolts,\n    updateDeck,\n    updateTrucks,\n    updateWheels,\n  } = useCustomizer();\n\n  return (\n    <div className=\"controls\">\n      <Options title=\"Deck\" selectedName={deck}>\n        {SkateboardOptions.DECKS.map(option => (\n          <Option\n            key={option}\n            imageField={option}\n            onClick={updateDeck}\n            imageStyles={{\n              width: \"500%\",\n              height: \"500%\",\n              translate: \"20% -0%\",\n              objectFit: \"cover\",\n            }}\n            selected={option === deck}>\n            {option.replace(/-/g, \" \")}\n          </Option>\n        ))}\n      </Options>\n      <Options title=\"Wheels\" selectedName={wheel}>\n        {SkateboardOptions.WHEELS.map(option => (\n          <Option\n            key={option}\n            imageField={option}\n            onClick={updateWheels}\n            imageStyles={{\n              width: \"125%\",\n              height: \"125%\",\n              translate: \"6% 8%\",\n              objectFit: \"cover\",\n            }}\n            selected={option === wheel}>\n            {option.replace(/-/g, \" \")}\n          </Option>\n        ))}\n      </Options>\n      <Options title=\"Trucks\" selectedName={truck}>\n        {SkateboardOptions.METALS.map(option => (\n          <Option\n            key={option}\n            colorField={option}\n            onClick={updateTrucks}\n            selected={option === truck}>\n            {option.replace(/-/g, \" \")}\n          </Option>\n        ))}\n      </Options>\n      <Options title=\"Bolts\" selectedName={bolt}>\n        {SkateboardOptions.METALS.map(option => (\n          <Option\n            key={option}\n            colorField={option}\n            onClick={updateBolts}\n            selected={option === bolt}>\n            {option.replace(/-/g, \" \")}\n          </Option>\n        ))}\n      </Options>\n    </div>\n  );\n};\n","export default \"__VITE_ASSET__rsl4AS10__\"","import { useMemo } from \"react\";\nimport { MeshStandardMaterial } from \"three\";\nimport { useTexture } from \"@react-three/drei\";\nimport { Textures } from \"Tools/Textures\";\nimport { PropLess } from \"Tools/Types\";\nimport ConcreteNormal from \"../Resources/concrete-normal.avif\";\n\nexport const ENVIRONMENT_COLOR = \"#3b3a3a\";\n\nexport const Floor = (_: PropLess) => {\n  const normalMap = useTexture(ConcreteNormal, t => {\n    Textures.wrap(t).repeat(t, 30).rerender(t);\n    t.anisotropy = 8;\n  });\n\n  const material = useMemo(\n    () =>\n      new MeshStandardMaterial({\n        roughness: 0.75,\n        color: ENVIRONMENT_COLOR,\n        normalMap: normalMap,\n      }),\n    [normalMap],\n  );\n  return (\n    <mesh\n      castShadow\n      receiveShadow\n      position={[0, -0.005, 0]}\n      rotation={[-Math.PI / 2, 0, 0]}\n      material={material}>\n      <circleGeometry args={[20, 32]} />\n    </mesh>\n  );\n};\n","export default \"__VITE_ASSET__47Zf0UFr__\"","export default \"__VITE_ASSET__Ee6WvK7Q__\"","import {\n  ForwardedRef,\n  forwardRef,\n  RefObject,\n  useCallback,\n  useImperativeHandle,\n  useMemo,\n  useRef,\n} from \"react\";\nimport { type Mesh, Object3D, Texture } from \"three\";\nimport { GLTF } from \"three-stdlib\";\nimport { useGLTF } from \"@react-three/drei\";\nimport Skateboard from \"../../Resources/Skateboard.glb\";\nimport { useBolts } from \"./useBolts\";\nimport { useDeck } from \"./useDeck\";\nimport { useGripTape } from \"./useGripTape\";\nimport { useTrucks } from \"./useTrucks\";\nimport { useWheels } from \"./useWheels\";\n\ntype GLTFResult = GLTF & {\n  nodes: {\n    GripTape: Mesh;\n    Wheel1: Mesh;\n    Wheel2: Mesh;\n    Deck: Mesh;\n    Wheel4: Mesh;\n    Bolts: Mesh;\n    Wheel3: Mesh;\n    Baseplates: Mesh;\n    Truck1: Mesh;\n    Truck2: Mesh;\n  };\n};\n\nexport const SkateboardModel = forwardRef(function SkateboardModel(\n  { wheelTexture, deckTexture, boltColor, truckColor, pos = \"upright\" }: Props,\n  ref: ForwardedRef<SMController>,\n) {\n  const { nodes } = useGLTF(Skateboard) as unknown as GLTFResult;\n  const wheelRefs = useRef<Object3D[]>([]);\n  const gripTapeMaterial = useGripTape();\n  const boltMaterial = useBolts(boltColor);\n  const truckMaterial = useTrucks(truckColor);\n  const deckMaterial = useDeck(deckTexture);\n  const wheelMaterial = useWheels(wheelTexture);\n\n  const cacheObjectReference = useCallback(\n    (index: number, target: RefObject<Object3D[]>) =>\n      (node: Object3D | null) => {\n        if (node) {\n          target.current[index] = node;\n        }\n      },\n    [],\n  );\n\n  const wheelCaches = useMemo(\n    () =>\n      Array.from({ length: 4 }, (_, i) => cacheObjectReference(i, wheelRefs)),\n    [cacheObjectReference],\n  );\n\n  const positions = useMemo(\n    () =>\n      ({\n        side: { rotation: [0, 0, Math.PI / 2], position: [0.25, 0.295, 0] },\n        upright: { rotation: [0, 0, 0], position: [0, 0, 0] },\n      }) as const,\n    [],\n  );\n\n  useImperativeHandle(ref, () => ({ wheels: wheelRefs }), [wheelRefs]);\n\n  return (\n    <group\n      dispose={null}\n      rotation={positions[pos].rotation}\n      position={positions[pos].position}>\n      <group name=\"Scene\">\n        <mesh\n          name=\"GripTape\"\n          castShadow\n          receiveShadow\n          material={gripTapeMaterial}\n          geometry={nodes.GripTape.geometry}\n          position={[0, 0.286, -0.002]}\n        />\n        <mesh\n          name=\"Wheel1\"\n          castShadow\n          receiveShadow\n          ref={wheelCaches[0]}\n          geometry={nodes.Wheel1.geometry}\n          material={wheelMaterial}\n          position={[0.238, 0.086, 0.635]}\n        />\n        <mesh\n          name=\"Wheel2\"\n          castShadow\n          receiveShadow\n          ref={wheelCaches[1]}\n          geometry={nodes.Wheel2.geometry}\n          material={wheelMaterial}\n          position={[-0.237, 0.086, 0.635]}\n        />\n        <mesh\n          name=\"Deck\"\n          castShadow\n          receiveShadow\n          geometry={nodes.Deck.geometry}\n          material={deckMaterial}\n          position={[0, 0.271, -0.002]}\n        />\n        <mesh\n          name=\"Wheel4\"\n          castShadow\n          receiveShadow\n          ref={wheelCaches[3]}\n          geometry={nodes.Wheel4.geometry}\n          material={wheelMaterial}\n          position={[-0.238, 0.086, -0.635]}\n          rotation={[Math.PI, 0, Math.PI]}\n        />\n        <mesh\n          name=\"Bolts\"\n          castShadow\n          receiveShadow\n          geometry={nodes.Bolts.geometry}\n          material={boltMaterial}\n          position={[0, 0.198, 0]}\n          rotation={[Math.PI, 0, Math.PI]}\n        />\n        <mesh\n          name=\"Wheel3\"\n          castShadow\n          receiveShadow\n          ref={wheelCaches[2]}\n          geometry={nodes.Wheel3.geometry}\n          material={wheelMaterial}\n          position={[0.237, 0.086, -0.635]}\n          rotation={[Math.PI, 0, Math.PI]}\n        />\n        <mesh\n          name=\"Baseplates\"\n          castShadow\n          receiveShadow\n          geometry={nodes.Baseplates.geometry}\n          material={truckMaterial}\n          position={[0, 0.211, 0]}\n        />\n        <mesh\n          name=\"Truck1\"\n          castShadow\n          receiveShadow\n          geometry={nodes.Truck1.geometry}\n          material={truckMaterial}\n          position={[0, 0.101, -0.617]}\n        />\n        <mesh\n          name=\"Truck2\"\n          castShadow\n          receiveShadow\n          geometry={nodes.Truck2.geometry}\n          material={truckMaterial}\n          position={[0, 0.101, 0.617]}\n          rotation={[Math.PI, 0, Math.PI]}\n        />\n      </group>\n    </group>\n  );\n});\n\nuseGLTF.preload(Skateboard);\n\nexport interface Props {\n  boltColor?: string;\n  truckColor?: string;\n  deckTexture: Texture;\n  wheelTexture: Texture;\n  pos?: \"upright\" | \"side\";\n}\n\nexport interface SMController {\n  wheels: RefObject<Object3D[]>;\n}\n","import { useMemo } from \"react\";\nimport { MeshStandardMaterial } from \"three\";\nimport { useTexture } from \"@react-three/drei\";\nimport { Textures } from \"Tools/Textures\";\nimport GripTapDiffuse from \"../../Resources/skateboard/griptape-diffuse.webp\";\nimport GripTapeRoughness from \"../../Resources/skateboard/griptape-roughness.webp\";\n\nexport const useGripTape = () => {\n  const gripTapeDiffuse = useTexture(GripTapDiffuse);\n  const gripTapeRoughness = useTexture(GripTapeRoughness);\n  return useMemo(() => {\n    const material = new MeshStandardMaterial({\n      map: gripTapeDiffuse,\n      bumpMap: gripTapeRoughness,\n      roughnessMap: gripTapeRoughness,\n      bumpScale: 3.5,\n      roughness: 0.8,\n      color: \"#555\",\n    });\n    if (gripTapeDiffuse) {\n      Textures.wrap(gripTapeDiffuse)\n        .repeat(gripTapeDiffuse, 9)\n        .rerender(gripTapeDiffuse);\n    }\n    if (gripTapeRoughness) {\n      Textures.wrap(gripTapeRoughness)\n        .repeat(gripTapeRoughness, 9)\n        .rerender(gripTapeRoughness);\n      gripTapeRoughness.anisotropy = 8;\n    }\n    return material;\n  }, [gripTapeDiffuse, gripTapeRoughness]);\n};\n","export default \"__VITE_ASSET__fGgUdfM6__\"","export default \"__VITE_ASSET__T0b0KajT__\"","import { useMemo } from \"react\";\nimport { MeshStandardMaterial } from \"three\";\n\nexport const useBolts = (color = \"#555\") => {\n  return useMemo(\n    () =>\n      new MeshStandardMaterial({\n        color,\n        metalness: 0.5,\n        roughness: 0.3,\n      }),\n    [color],\n  );\n};\n","import { useMemo } from \"react\";\nimport { MeshStandardMaterial, Vector2 } from \"three\";\nimport { useTexture } from \"@react-three/drei\";\nimport { Textures } from \"Tools/Textures\";\nimport MetalNormal from \"../../Resources/skateboard/metal-normal.avif\";\n\nexport const useTrucks = (color = \"#555\") => {\n  const metalNormal = useTexture(MetalNormal, t => {\n    Textures.wrap(t).repeat(t, 8).rerender(t);\n    t.anisotropy = 8;\n  });\n  return useMemo(\n    () =>\n      new MeshStandardMaterial({\n        color,\n        metalness: 0.8,\n        roughness: 0.25,\n        normalMap: metalNormal,\n        normalScale: new Vector2(0.3, 0.3),\n      }),\n    [color, metalNormal],\n  );\n};\n","export default \"__VITE_ASSET__pFIk1vHY__\"","import { useMemo } from \"react\";\nimport { MeshStandardMaterial, Texture } from \"three\";\n\nexport const useDeck = (texture: Texture) => {\n  return useMemo(\n    () =>\n      new MeshStandardMaterial({\n        roughness: 0.1,\n        map: texture,\n      }),\n    [texture],\n  );\n};\n","import { useMemo } from \"react\";\nimport { MeshStandardMaterial, Texture } from \"three\";\n\nexport const useWheels = (texture: Texture) => {\n  return useMemo(\n    () =>\n      new MeshStandardMaterial({\n        roughness: 0.35,\n        map: texture,\n      }),\n    [texture],\n  );\n};\n","import { SRGBColorSpace, Texture } from \"three\";\nimport { useTexture } from \"@react-three/drei\";\nimport { TextureResult } from \"./types\";\n\nexport const useSRGBTexture = <T extends string | string[]>(\n  urls: T,\n): TextureResult<T> => {\n  const deckTextures = useTexture(urls, t => {\n    const returnArray = Array.isArray(t);\n    const textures: Texture[] = returnArray\n      ? (deckTextures as Texture[])\n      : [deckTextures as Texture];\n    textures.forEach(t => {\n      t.flipY = false;\n      t.colorSpace = SRGBColorSpace;\n      t.needsUpdate = true;\n    });\n  });\n  return deckTextures as TextureResult<T>;\n};\n","import { useMemo } from \"react\";\nimport { useSRGBTexture } from \"./SkateboardModel/useSRGBTexture\";\n\nexport const useSelectedTexture = (options: string[], selection?: string) => {\n  const textures = useSRGBTexture(options);\n\n  const indices = useMemo(() => {\n    const hash: Record<string, number> = {};\n    const { length } = options;\n    for (let i = 0; i < length; i++) {\n      hash[options[i]] = i;\n    }\n    return hash;\n  }, [options]);\n\n  const selectionIndex = useMemo(\n    () => indices[selection ?? \"-1\"] ?? 0,\n    [indices, selection],\n  );\n  return useMemo(() => textures[selectionIndex], [textures, selectionIndex]);\n};\n","import gsap from \"gsap\";\nimport { Fragment, Suspense, useCallback, useEffect, useRef } from \"react\";\nimport { Mesh } from \"three\";\nimport { CameraControls, Environment, Preload } from \"@react-three/drei\";\nimport { useLabsLoader } from \"Hooks/useLabsLoader\";\nimport { PropLess } from \"Tools/Types\";\nimport { useCustomizer } from \"../CustomizerContext\";\nimport Lighting from \"../Resources/hdr/warehouse-512.hdr\";\nimport { SkateboardOptions } from \"../SkateboardOptions\";\nimport { ENVIRONMENT_COLOR, Floor } from \"./Floor\";\nimport { SkateboardModel, SMController } from \"./SkateboardModel\";\nimport { useSelectedTexture } from \"./useSelectedTexture\";\n\nconst DEFAULT_METAL_COLOR = \"#6f6e6a\";\n\nexport function PreviewCanvas(_: PropLess) {\n  useLabsLoader();\n  const floor = useRef<Mesh>(null);\n  const controller = useRef<SMController>(null);\n  const { camera, wheel, deck, bolt, truck, lookAtDeck } = useCustomizer();\n\n  const deckTexture = useSelectedTexture(SkateboardOptions.DECKS, deck);\n  const wheelTexture = useSelectedTexture(SkateboardOptions.WHEELS, wheel);\n\n  const truckColor = truck ?? DEFAULT_METAL_COLOR;\n  const boltColor = bolt ?? DEFAULT_METAL_COLOR;\n\n  const onCameraControlStart = useCallback(() => {\n    if (\n      !camera.current ||\n      !floor.current ||\n      camera.current.colliderMeshes.length\n    ) {\n      return;\n    }\n    camera.current.colliderMeshes = [floor.current];\n  }, [camera]);\n\n  useEffect(() => {\n    if (!controller?.current?.wheels?.current?.length) {\n      return;\n    }\n    for (const wheelMesh of controller.current.wheels.current) {\n      if (wheelMesh) {\n        gsap.to(wheelMesh.rotation, {\n          x: \"+=30\",\n          duration: 2.5,\n          ease: \"circ.out\",\n        });\n      }\n    }\n  }, [wheel]);\n\n  useEffect(() => {\n    if (camera.current) {\n      lookAtDeck();\n    }\n  }, [lookAtDeck, camera]);\n\n  return (\n    <Fragment>\n      <Suspense fallback={null}>\n        <Environment files={Lighting} environmentIntensity={0.6} />\n        <directionalLight\n          castShadow\n          lookAt={[0, 0, 0]}\n          position={[1, 1, 1]}\n          intensity={1.6}\n        />\n        <fog attach=\"fog\" args={[ENVIRONMENT_COLOR, 3, 10]} />\n        <color attach=\"background\" args={[ENVIRONMENT_COLOR]} />\n        <Floor />\n        <mesh rotation={[-Math.PI / 2, 0, 0]} ref={floor}>\n          <planeGeometry args={[6, 6]} />\n          <meshBasicMaterial visible={false} />\n        </mesh>\n        <SkateboardModel\n          pos=\"side\"\n          ref={controller}\n          boltColor={boltColor}\n          truckColor={truckColor}\n          deckTexture={deckTexture}\n          wheelTexture={wheelTexture}\n        />\n        <CameraControls\n          makeDefault\n          ref={camera}\n          maxDistance={4}\n          minDistance={0.2}\n          onStart={onCameraControlStart}\n        />\n      </Suspense>\n      <Preload all />\n    </Fragment>\n  );\n}\n","import { Canvas } from \"@react-three/fiber\";\nimport { SplitHeading } from \"Components/SplitHeading\";\nimport { PropLess } from \"Tools/Types\";\nimport { Controls } from \"./Controls\";\nimport { CustomizerContextProvider } from \"./CustomizerContext\";\nimport { PreviewCanvas } from \"./Preview\";\nimport { DEFAULT_CAMERA_POSITION } from \"./useCameraControls\";\nimport \"./styles.scss\";\n\nexport default function SkateboardScene(_: PropLess) {\n  return (\n    <div className=\"skateboard-scene\">\n      <CustomizerContextProvider>\n        <div className=\"preview\">\n          <div className=\"canvas-container\">\n            <Canvas\n              shadows\n              camera={{\n                fov: 50,\n                position: DEFAULT_CAMERA_POSITION,\n              }}>\n              <PreviewCanvas />\n            </Canvas>\n          </div>\n        </div>\n        <div className=\"options-menu\">\n          <SplitHeading text=\"Build Your Board\" />\n          <Controls />\n        </div>\n      </CustomizerContextProvider>\n    </div>\n  );\n}\n"],"names":["SkateboardOptions","__publicField","DEFAULT_CAMERA_LOOK_AT","DEFAULT_CAMERA_POSITION","CustomizerContext","createContext","wheel","WHEELS","updateWheels","deck","DECKS","updateDeck","truck","METALS","updateTrucks","bolt","updateBolts","lookAtDeck","camera","createRef","CustomizerContextProvider","children","setWheel","useState","setBolt","setDeck","setTruck","lookAtBolts","lookAtTruck","lookAtWheel","useRef","setCameraControls","useCallback","target","position","current","setTarget","x","y","z","setPosition","Vector3","useMemo","useCameraControls","createLookAt","stateSetter","lookAt","update","value","jsx","Provider","useCustomizer","useContext","Option","selected","onClick","colorField","imageField","imageStyles","classes","useClassNames","onSelect","_a","jsxs","className","src","alt","style","backgroundColor","Options","title","selectedName","formatted","path","tokens","split","file","length","name","replace","getName","Controls","_","map","option","jsxRuntimeExports","width","height","translate","objectFit","Lighting","ENVIRONMENT_COLOR","Floor","normalMap","useTexture","t","Textures","wrap","repeat","rerender","anisotropy","material","MeshStandardMaterial","roughness","color","castShadow","receiveShadow","rotation","Math","PI","args","Skateboard","SkateboardModel","forwardRef","wheelTexture","deckTexture","boltColor","truckColor","pos","ref","nodes","useGLTF","wheelRefs","gripTapeMaterial","gripTapeDiffuse","gripTapeRoughness","bumpMap","roughnessMap","bumpScale","useGripTape","boltMaterial","metalness","useBolts","truckMaterial","metalNormal","normalScale","Vector2","useTrucks","deckMaterial","texture","wheelMaterial","useWheels","cacheObjectReference","index","node","wheelCaches","Array","from","i","positions","side","upright","wheels","dispose","geometry","GripTape","Wheel1","Wheel2","Deck","Wheel4","Bolts","Wheel3","Baseplates","Truck1","Truck2","preload","useSelectedTexture","options","selection","textures","urls","deckTextures","isArray","forEach","flipY","colorSpace","SRGBColorSpace","needsUpdate","useSRGBTexture","indices","hash","selectionIndex","DEFAULT_METAL_COLOR","PreviewCanvas","floor","controller","onCameraControlStart","colliderMeshes","useEffect","_c","_b","wheelMesh","gsapWithCSS","to","duration","ease","Fragment","Suspense","fallback","Environment","files","environmentIntensity","intensity","attach","visible","CameraControls","makeDefault","maxDistance","minDistance","onStart","Preload","all","SkateboardScene","Canvas","shadows","fov","SplitHeading","text"],"mappings":"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"}