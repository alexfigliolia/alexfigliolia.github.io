var e=Object.defineProperty,s=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,t=(s,r,a)=>r in s?e(s,r,{enumerable:!0,configurable:!0,writable:!0,value:a}):s[r]=a;import{r as n,j as i}from"./threeFiber-wgP-k_4X.js";import{L as l,u as o,h as c,r as d,s as u,j as p,F as m}from"./index-eJudY11J.js";import{S as x,u as f}from"./useMenuButtonDelay-gNaFhlQp.js";import{u as j,P as b}from"./index-nAWrFRy9.js";import{_ as h}from"./threeDrei-TbYxsnpq.js";import"./three-71H3Suoo.js";import"./threeStdLib-Ui_sxDIS.js";const g=({title:e,description:s,image:r,video:a,scene:t,preload:c})=>{const d=n.useRef(!1),u=n.useRef(!1),p=n.useRef(null),[m,f]=n.useState(!1),j=n.useCallback((()=>{d.current||(d.current=!0,null==c||c())}),[c]),b=n.useCallback((()=>{var e,s;!u.current&&p.current&&(null==c||c(),m?null==(s=null==(e=p.current)?void 0:e.play)||s.call(e):(u.current=!0,p.current.oncanplaythrough=()=>{var e,s;f(!0),u.current=!1,null==(s=null==(e=p.current)?void 0:e.play)||s.call(e)},p.current.onerror=()=>{u.current=!1},p.current.src=a))}),[m,a,c]),h=n.useCallback((()=>{j(),b()}),[j,b]),g=n.useCallback((()=>{var e,s;null==(s=null==(e=null==p?void 0:p.current)?void 0:e.pause)||s.call(e)}),[]),v=n.useCallback((()=>{l.activateScene(t)}),[t]),y=o("experiment",{ready:m});return i.jsxs("article",{role:"button",tabIndex:0,onClick:v,className:y,onTouchEnd:g,onMouseLeave:g,onMouseEnter:h,onTouchStart:h,children:[i.jsxs("div",{className:"media",children:[i.jsx("video",{ref:p,loop:!0,playsInline:!0,autoPlay:!0,muted:!0,src:a}),i.jsx("img",{src:r})]}),i.jsxs("div",{className:"meta",children:[i.jsx(x,{As:"h2",text:e}),i.jsx("p",{children:s})]})]})},v=n.memo((function(e){return i.jsx("div",{className:"labs-text",children:i.jsx(x,{id:"labsText",text:"Labs"})})}),(()=>!0)),y=e=>{const s=c(d),r=c(u),a=o("scene",{active:s});return i.jsx("div",{className:a,children:r})},_=p({loader:()=>h((()=>import("./index-v9hvGa9x.js")),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9])).then((e=>({default:e.CarScene})))}),C=p({loader:()=>h((()=>import("./index-UW7YXbZF.js")),__vite__mapDeps([10,1,2,5,6,7,8,3,4,11,12])).then((e=>({default:e.MagazineScene})))}),L=p({loader:()=>h((()=>import("./index-FSkJfGcu.js")),__vite__mapDeps([13,1,2,5,6,7,8,4,14,11,15])).then((e=>({default:e.NetflixScene})))}),E=e=>{const s=j();return n.useEffect((()=>{l.onLoad()}),[]),i.jsx(m,{className:"ripples-scene",ref:s})},S=p({loader:()=>h((()=>import("./index-VPWqSzYC.js")),__vite__mapDeps([16,1,2,17,5,6,7,8,18,14,4,9,19]))}),w=[{title:"Car Scene",description:"A guided three.js exercise in animation, lighting, and visual effects using a C8 Corvette",image:"/assets/car-scene-CFJqTbz2.webp",video:"/assets/car-scene-i6zhGs38.mp4",scene:i.jsx(_,{}),preload:_.preload},{title:"Skateboard Configurator",description:"A guided three.js tutorial building a CMS driven product configurator",image:"/assets/skateboard-configurator-OKynf1wf.webp",video:"/assets/skateboard-configurator-hzykLcF3.mp4",scene:i.jsx(S,{}),preload:S.preload},{title:"Netflix Design Concept",description:"A webGL experiment replacing all media on the netflix home page with WebGL shaders",image:"/assets/netflix-content-transition-4j8h0NZf.webp",video:"/assets/netflix-content-transition-bsLmaA3M.mp4",scene:i.jsx(L,{}),preload:L.preload},{title:"WebGL Ripples",description:"A dependency-free webGL shader library that brings water ripples to ordinary background images",image:"/assets/ripples-ryxnkl_y.webp",video:"/assets/ripples-CzMEVtiu.mp4",scene:i.jsx(E,{})},{title:"Magazine Slider",description:"A fun image slider originally designed by Wassim Samad",image:"/assets/magazine-slider-U4IJWsNC.webp",video:"/assets/magazine-slider-4unLv4HV.mp4",scene:i.jsx(C,{}),preload:C.preload}],k=n.memo((function(e){f();const u=c(d);(e=>{const s=n.useRef(e);s.current=e,n.useEffect((()=>{const{current:e}=s;return()=>e()}),[])})((()=>{l.destroy()}));const p=o("labs",{"no-scroll":u});return i.jsxs(b,{name:p,children:[i.jsx("div",{className:"heading",children:i.jsx(v,{})}),i.jsx("div",{className:"experiments",children:w.map(((e,n)=>i.jsx(g,((e,n)=>{for(var i in n||(n={}))r.call(n,i)&&t(e,i,n[i]);if(s)for(var i of s(n))a.call(n,i)&&t(e,i,n[i]);return e})({},e),n)))}),i.jsx(y,{})]})}),(()=>!1));export{k as default};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/index-v9hvGa9x.js","assets/threeFiber-wgP-k_4X.js","assets/three-71H3Suoo.js","assets/index-rSDcCok5.js","assets/useLabsLoader-0YiGFm3k.js","assets/index-eJudY11J.js","assets/threeDrei-TbYxsnpq.js","assets/threeStdLib-Ui_sxDIS.js","assets/index-4YljNM9K.css","assets/Textures-D8KxavPh.js","assets/index-UW7YXbZF.js","assets/MathUtils-DiN6UX3T.js","assets/index-BgPF7pTq.css","assets/index-FSkJfGcu.js","assets/gsap-b4RP9EQ6.js","assets/index-sgvvbS2W.css","assets/index-VPWqSzYC.js","assets/useMenuButtonDelay-gNaFhlQp.js","assets/useMenuButtonDelay-DTbhGK4h.css","assets/index-_YjuktDa.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
//# sourceMappingURL=index-C2Ttjq50.js.map
