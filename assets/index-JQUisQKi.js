var e=Object.defineProperty,r=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,t=(r,s,a)=>s in r?e(r,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):r[s]=a;import{r as n,j as i}from"./threeFiber-wgP-k_4X.js";import{h as l,j as o,r as c,L as d,u,s as p,k as m,F as x}from"./index-zVe65wBv.js";import{S as f,u as j}from"./useMenuButtonDelay-Uc17h33Q.js";import{u as b,P as v}from"./index--FKiD3TZ.js";import{_ as g}from"./threeDrei-TbYxsnpq.js";const h=e=>n.useRef(e).current,y=e=>i.jsx("div",{className:"circle-loader",children:i.jsx("svg",{viewBox:"0 0 80 80",children:i.jsx("circle",{cx:"40",cy:"40",r:"32"})})}),_=({title:e,description:r,image:s,video:a,scene:t,preload:p})=>{const m=(()=>{const e=h(new l);return n.useEffect((()=>()=>{e.abortAll()}),[e]),e})(),x=o(c),[j,b]=n.useState(!1),{videoNode:v,preloadedVideo:g,mouseOverPreloader:_}=((e,r)=>{const s=n.useRef(!1),a=n.useRef(!1),t=n.useRef(null),[i,l]=n.useState(!1),o=n.useCallback((()=>{s.current||(s.current=!0,null==r||r())}),[r]),c=n.useCallback((()=>{var s,n;!a.current&&t.current&&(null==r||r(),i?null==(n=null==(s=t.current)?void 0:s.play)||n.call(s):(a.current=!0,t.current.oncanplaythrough=()=>{var e,r;l(!0),a.current=!1,null==(r=null==(e=t.current)?void 0:e.play)||r.call(e)},t.current.onerror=()=>{a.current=!1},t.current.src=e))}),[i,e,r]),d=n.useCallback((()=>{o(),c()}),[o,c]);return n.useMemo((()=>({videoNode:t,preloadedVideo:i,mouseOverPreloader:d})),[i,d])})(a,p),C=n.useCallback((()=>{var e,r;null==(r=null==(e=null==v?void 0:v.current)?void 0:e.pause)||r.call(e)}),[v]),E=n.useCallback((()=>{b(!0),m.execute((()=>{d.activateScene(t)}),500)}),[t,m]);n.useEffect((()=>{j&&x&&m.execute((()=>{b(!1)}),1e3)}),[j,x,m]);const N=u("experiment",{ready:g,loading:j});return i.jsxs("article",{role:"button",tabIndex:0,onClick:E,className:N,onTouchEnd:C,onMouseLeave:C,onMouseEnter:_,onTouchStart:_,children:[i.jsx("div",{className:"e-loader","aria-hidden":!j,children:i.jsx(y,{})}),i.jsxs("div",{className:"media",children:[i.jsx("video",{ref:v,loop:!0,playsInline:!0,autoPlay:!0,muted:!0,src:a}),i.jsx("img",{src:s})]}),i.jsxs("div",{className:"meta",children:[i.jsx(f,{As:"h2",text:e}),i.jsx("p",{children:r})]})]})},C=n.memo((function(e){return i.jsx("div",{className:"labs-text",children:i.jsx(f,{id:"labsText",text:"Labs"})})}),(()=>!0)),E=e=>{const r=o(c),s=o(p),a=u("scene",{active:r});return i.jsx("div",{className:a,children:s})},N=m({loader:()=>g((()=>import("./index-CdfDhVvs.js")),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9])).then((e=>({default:e.CarScene})))}),S=m({loader:()=>g((()=>import("./index-5ncOjcVo.js")),__vite__mapDeps([10,1,2,5,6,7,8,3,4,11,12])).then((e=>({default:e.MagazineScene})))}),w=m({loader:()=>g((()=>import("./index-iRCU3vn4.js")),__vite__mapDeps([13,1,2,5,6,7,8,4,14,11,15,16,17,18,19])).then((e=>({default:e.NetflixScene})))}),L=e=>{const r=b();return n.useEffect((()=>{d.onLoad()}),[]),i.jsx(x,{className:"ripples-scene",ref:r})},O=m({loader:()=>g((()=>import("./index-N7OxMCDN.js")),__vite__mapDeps([20,1,2,15,5,6,7,8,16,14,4,9,21]))}),k=[{title:"Car Scene",description:"A guided three.js exercise in animation, lighting, and visual effects using a C8 Corvette",image:"/assets/car-scene-CFJqTbz2.webp",video:"/assets/car-scene-i6zhGs38.mp4",scene:i.jsx(N,{}),preload:N.preload},{title:"Skateboard Configurator",description:"A guided three.js tutorial building a CMS driven product configurator",image:"/assets/skateboard-configurator-OKynf1wf.webp",video:"/assets/skateboard-configurator-hzykLcF3.mp4",scene:i.jsx(O,{}),preload:O.preload},{title:"Netflix Design Concept",description:"A webGL experiment replacing all media on the netflix home page with WebGL shaders",image:"/assets/netflix-content-transition-4j8h0NZf.webp",video:"/assets/netflix-content-transition-bsLmaA3M.mp4",scene:i.jsx(w,{}),preload:w.preload},{title:"WebGL Ripples",description:"A dependency-free webGL shader library that brings water ripples to ordinary background images",image:"/assets/ripples-ryxnkl_y.webp",video:"/assets/ripples-CzMEVtiu.mp4",scene:i.jsx(L,{})},{title:"Magazine Slider",description:"A fun image slider originally designed by Wassim Samad",image:"/assets/magazine-slider-U4IJWsNC.webp",video:"/assets/magazine-slider-4unLv4HV.mp4",scene:i.jsx(S,{}),preload:S.preload}],A=n.memo((function(e){j(2e3);const l=o(c);(e=>{const r=n.useRef(e);r.current=e,n.useEffect((()=>{const{current:e}=r;return()=>e()}),[])})((()=>{d.destroy()}));const p=u("labs",{"no-scroll":l});return i.jsxs(v,{name:p,children:[i.jsx("div",{className:"heading",children:i.jsx(C,{})}),i.jsx("div",{className:"experiments",children:k.map(((e,n)=>i.jsx(_,((e,n)=>{for(var i in n||(n={}))s.call(n,i)&&t(e,i,n[i]);if(r)for(var i of r(n))a.call(n,i)&&t(e,i,n[i]);return e})({},e),n)))}),i.jsx(E,{})]})}),(()=>!1)),P=Object.freeze(Object.defineProperty({__proto__:null,default:A},Symbol.toStringTag,{value:"Module"}));export{P as i,h as u};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/index-CdfDhVvs.js","assets/threeFiber-wgP-k_4X.js","assets/three-71H3Suoo.js","assets/index-9w1YpGEH.js","assets/useLabsLoader-ysXV7W1A.js","assets/index-zVe65wBv.js","assets/threeDrei-TbYxsnpq.js","assets/threeStdLib-Ui_sxDIS.js","assets/index-4YljNM9K.css","assets/Textures-D8KxavPh.js","assets/index-5ncOjcVo.js","assets/MathUtils-DiN6UX3T.js","assets/index-BgPF7pTq.css","assets/index-iRCU3vn4.js","assets/gsap-b4RP9EQ6.js","assets/useMenuButtonDelay-Uc17h33Q.js","assets/useMenuButtonDelay-DTbhGK4h.css","assets/index--FKiD3TZ.js","assets/index-09cmykHC.css","assets/index-sgvvbS2W.css","assets/index-N7OxMCDN.js","assets/index-_YjuktDa.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
//# sourceMappingURL=index-JQUisQKi.js.map
