{"version":3,"file":"index-FJa8LJB2.js","sources":["../../src/3D/SkateboardScene/SkateboardOptions.ts","../../src/3D/SkateboardScene/Resources/skateboard/OniMask.webp","../../src/3D/SkateboardScene/Resources/skateboard/PinkSwirl.webp","../../src/3D/SkateboardScene/Resources/skateboard/red-and-black.webp","../../src/3D/SkateboardScene/Resources/skateboard/against-the-tide.webp","../../src/3D/SkateboardScene/Resources/skateboard/thank-you-deck.webp","../../src/3D/SkateboardScene/Resources/skateboard/yellow-and-black.webp","../../src/3D/SkateboardScene/Resources/skateboard/red-and-white.webp","../../src/3D/SkateboardScene/Resources/skateboard/black-and-yellow.webp","../../src/3D/SkateboardScene/Resources/skateboard/green-and-navy.webp","../../src/3D/SkateboardScene/Resources/skateboard/gray-and-black.webp","../../src/3D/SkateboardScene/Resources/skateboard/grid-streaks.webp","../../src/3D/SkateboardScene/Resources/skateboard/wheel-black.webp","../../src/3D/SkateboardScene/Resources/skateboard/wheel-blue.webp","../../src/3D/SkateboardScene/Resources/skateboard/wheel-cream.webp","../../src/3D/SkateboardScene/Resources/skateboard/wheel-green.webp","../../src/3D/SkateboardScene/Resources/skateboard/wheel-navy.webp","../../src/3D/SkateboardScene/Resources/skateboard/wheel-pink.webp","../../src/3D/SkateboardScene/Resources/skateboard/wheel-purple.webp","../../src/3D/SkateboardScene/Resources/skateboard/wheel-red.webp","../../src/3D/SkateboardScene/Resources/skateboard/wheel-yellow.webp","../../src/3D/SkateboardScene/useCameraControls.ts","../../src/3D/SkateboardScene/CustomizerContext.tsx","../../src/3D/SkateboardScene/Controls/Options/Option/index.tsx","../../src/3D/SkateboardScene/Controls/Options/index.tsx","../../src/3D/SkateboardScene/Controls/index.tsx","../../src/3D/SkateboardScene/Resources/hdr/warehouse-512.hdr","../../src/3D/SkateboardScene/Resources/concrete-normal.avif","../../src/3D/SkateboardScene/Preview/Floor.tsx","../../src/3D/SkateboardScene/Resources/Skateboard.glb","../../src/3D/SkateboardScene/Resources/skateboard/griptape-diffuse.webp","../../src/3D/SkateboardScene/Resources/skateboard/griptape-roughness.webp","../../src/3D/SkateboardScene/Preview/SkateboardModel/useGripTape.ts","../../src/3D/SkateboardScene/Resources/skateboard/metal-normal.avif","../../src/3D/SkateboardScene/Preview/SkateboardModel/useTrucks.ts","../../src/3D/SkateboardScene/Preview/SkateboardModel/useWheels.ts","../../src/3D/SkateboardScene/Preview/SkateboardModel/index.tsx","../../src/3D/SkateboardScene/Preview/SkateboardModel/useBolts.ts","../../src/3D/SkateboardScene/Preview/SkateboardModel/useDeck.ts","../../src/3D/SkateboardScene/Preview/SkateboardModel/useSRGBTexture.ts","../../src/3D/SkateboardScene/Preview/useSelectedTexture.ts","../../src/3D/SkateboardScene/Preview/index.tsx","../../src/3D/SkateboardScene/index.tsx"],"sourcesContent":["import AgainstTheTide from \"./Resources/skateboard/against-the-tide.webp\";\nimport BlackAndYellow from \"./Resources/skateboard/black-and-yellow.webp\";\nimport GrayAndBlack from \"./Resources/skateboard/gray-and-black.webp\";\nimport GreenAndNavy from \"./Resources/skateboard/green-and-navy.webp\";\nimport GridStreaks from \"./Resources/skateboard/grid-streaks.webp\";\nimport OniMask from \"./Resources/skateboard/OniMask.webp\";\nimport PinkSwirl from \"./Resources/skateboard/PinkSwirl.webp\";\nimport RedAndBlack from \"./Resources/skateboard/red-and-black.webp\";\nimport RedAndWhite from \"./Resources/skateboard/red-and-white.webp\";\nimport ThankYou from \"./Resources/skateboard/thank-you-deck.webp\";\nimport WheelBlack from \"./Resources/skateboard/wheel-black.webp\";\nimport WheelBlue from \"./Resources/skateboard/wheel-blue.webp\";\nimport WheelCream from \"./Resources/skateboard/wheel-cream.webp\";\nimport WheelGreen from \"./Resources/skateboard/wheel-green.webp\";\nimport WheelNavy from \"./Resources/skateboard/wheel-navy.webp\";\nimport WheelPink from \"./Resources/skateboard/wheel-pink.webp\";\nimport WheelPurple from \"./Resources/skateboard/wheel-purple.webp\";\nimport WheelRed from \"./Resources/skateboard/wheel-red.webp\";\nimport WheelYellow from \"./Resources/skateboard/wheel-yellow.webp\";\nimport YellowAndBlack from \"./Resources/skateboard/yellow-and-black.webp\";\n\nexport class SkateboardOptions {\n  public static readonly METALS = [\n    \"#333\",\n    \"#6F6E6A\",\n    \"#34495E\",\n    \"#DEB887\",\n    \"#eee\",\n    \"#E84118\",\n    \"#068BD3\",\n    \"#A6E22E\",\n    \"#F1C40F\",\n    \"#8E44AD\",\n    \"#BA3763\",\n    \"#F1396E\",\n  ];\n\n  public static readonly DECKS = [\n    OniMask,\n    PinkSwirl,\n    RedAndBlack,\n    AgainstTheTide,\n    ThankYou,\n    YellowAndBlack,\n    RedAndWhite,\n    BlackAndYellow,\n    GreenAndNavy,\n    GrayAndBlack,\n    GridStreaks,\n  ];\n\n  public static readonly WHEELS = [\n    WheelBlack,\n    WheelBlue,\n    WheelCream,\n    WheelGreen,\n    WheelNavy,\n    WheelPink,\n    WheelPurple,\n    WheelRed,\n    WheelYellow,\n  ];\n\n  public static get bitmapTextures() {\n    return [...this.DECKS, ...this.WHEELS];\n  }\n}\n","export default \"__VITE_ASSET__TbRls5BE__\"","export default \"__VITE_ASSET__cHKM2Z63__\"","export default \"__VITE_ASSET__k9_KIigw__\"","export default \"__VITE_ASSET__aLzltEmO__\"","export default \"__VITE_ASSET__YID1T3Pb__\"","export default \"__VITE_ASSET__fOB_EbOt__\"","export default \"__VITE_ASSET__N2ElJhnX__\"","export default \"__VITE_ASSET__auF9LW4v__\"","export default \"__VITE_ASSET__Bl5w6Wtz__\"","export default \"__VITE_ASSET__jJUCCupM__\"","export default \"__VITE_ASSET__SqG2cxzG__\"","export default \"__VITE_ASSET__JiWFOmfa__\"","export default \"__VITE_ASSET__UvkssBPj__\"","export default \"__VITE_ASSET__W5f5_A1M__\"","export default \"__VITE_ASSET__0b0Uvbly__\"","export default \"__VITE_ASSET__Dq5HsRtV__\"","export default \"__VITE_ASSET__0nXfaQlr__\"","export default \"__VITE_ASSET__mcSaL8pw__\"","export default \"__VITE_ASSET__8QJSQhdi__\"","export default \"__VITE_ASSET___6tc93dv__\"","import { useCallback, useMemo, useRef } from \"react\";\nimport { Vector3 } from \"three\";\nimport { CameraControls } from \"@react-three/drei\";\n\nexport const DEFAULT_CAMERA_LOOK_AT = [0, 0.3, 0] as const;\nexport const DEFAULT_CAMERA_POSITION = [2.5, 0.75, 0] as const;\n\nexport const useCameraControls = () => {\n  const camera = useRef<CameraControls>(null);\n\n  const setCameraControls = useCallback(\n    (target: Vector3, position: Vector3) => {\n      if (!camera.current) {\n        return;\n      }\n      void camera.current.setTarget(target.x, target.y, target.z, true);\n      void camera.current.setPosition(position.x, position.y, position.z, true);\n    },\n    [camera],\n  );\n\n  const lookAtTruck = useCallback(() => {\n    setCameraControls(new Vector3(0, 0.29, 0.5), new Vector3(0.4, 0.3, 1));\n  }, [setCameraControls]);\n\n  const lookAtWheel = useCallback(() => {\n    setCameraControls(new Vector3(0.2, 0.54, 0.65), new Vector3(0.4, 1, 0.6));\n  }, [setCameraControls]);\n\n  const lookAtBolts = useCallback(() => {\n    setCameraControls(\n      new Vector3(0.15, 0.3, 0.62),\n      new Vector3(-0.75, 0.35, 0.8),\n    );\n  }, [setCameraControls]);\n\n  const lookAtDeck = useCallback(() => {\n    setCameraControls(\n      new Vector3(...DEFAULT_CAMERA_LOOK_AT),\n      new Vector3(...DEFAULT_CAMERA_POSITION),\n    );\n  }, [setCameraControls]);\n\n  return useMemo(\n    () => ({ camera, lookAtBolts, lookAtDeck, lookAtTruck, lookAtWheel }),\n    [lookAtBolts, lookAtDeck, lookAtTruck, lookAtWheel],\n  );\n};\n","import {\n  createContext,\n  createRef,\n  Dispatch,\n  RefObject,\n  SetStateAction,\n  useCallback,\n  useContext,\n  useMemo,\n  useState,\n} from \"react\";\nimport { OptionalChildren } from \"@figliolia/react-lazy\";\nimport { CameraControls } from \"@react-three/drei\";\nimport { Callback } from \"Tools/Types\";\nimport { SkateboardOptions } from \"./SkateboardOptions\";\nimport { useCameraControls } from \"./useCameraControls\";\n\nconst CustomizerContext = createContext<ICustomizerContext>({\n  wheel: SkateboardOptions.WHEELS[0],\n  updateWheels: () => {},\n  deck: SkateboardOptions.DECKS[0],\n  updateDeck: () => {},\n  truck: SkateboardOptions.METALS[0],\n  updateTrucks: () => {},\n  bolt: SkateboardOptions.METALS[0],\n  updateBolts: () => {},\n  lookAtDeck: () => {},\n  camera: createRef(),\n});\n\ninterface ICustomizerContext {\n  wheel: string;\n  updateWheels: Callback<[string]>;\n  deck: string;\n  updateDeck: Callback<[string]>;\n  truck: string;\n  updateTrucks: Callback<[string]>;\n  bolt: string;\n  lookAtDeck: Callback;\n  updateBolts: Callback<[string]>;\n  camera: RefObject<CameraControls | null>;\n}\n\nexport const CustomizerContextProvider = ({ children }: OptionalChildren) => {\n  const [wheel, setWheel] = useState(SkateboardOptions.WHEELS[0]);\n  const [bolt, setBolt] = useState(SkateboardOptions.METALS[0]);\n  const [deck, setDeck] = useState(SkateboardOptions.DECKS[0]);\n  const [truck, setTruck] = useState(SkateboardOptions.METALS[0]);\n  const { camera, lookAtBolts, lookAtTruck, lookAtWheel, lookAtDeck } =\n    useCameraControls();\n\n  const createLookAt = useCallback(\n    (stateSetter: Dispatch<SetStateAction<string>>, lookAt: Callback) =>\n      (update: string) => {\n        stateSetter(update);\n        lookAt();\n      },\n    [],\n  );\n\n  const updateWheels = useMemo(\n    () => createLookAt(setWheel, lookAtWheel),\n    [createLookAt, lookAtWheel],\n  );\n  const updateTrucks = useMemo(\n    () => createLookAt(setTruck, lookAtTruck),\n    [createLookAt, lookAtTruck],\n  );\n  const updateDeck = useMemo(\n    () => createLookAt(setDeck, lookAtDeck),\n    [createLookAt, lookAtDeck],\n  );\n  const updateBolts = useMemo(\n    () => createLookAt(setBolt, lookAtBolts),\n    [createLookAt, lookAtBolts],\n  );\n\n  const value = useMemo(\n    () => ({\n      camera,\n      wheel,\n      bolt,\n      deck,\n      truck,\n      lookAtDeck,\n      updateWheels,\n      updateTrucks,\n      updateDeck,\n      updateBolts,\n    }),\n    [\n      wheel,\n      bolt,\n      deck,\n      truck,\n      camera,\n      lookAtDeck,\n      updateWheels,\n      updateTrucks,\n      updateDeck,\n      updateBolts,\n    ],\n  );\n  return (\n    <CustomizerContext.Provider value={value}>\n      {children}\n    </CustomizerContext.Provider>\n  );\n};\n\nexport const useCustomizer = () => {\n  return useContext(CustomizerContext);\n};\n","import { CSSProperties, ReactNode, useCallback } from \"react\";\nimport { useClassNames } from \"@figliolia/classnames\";\nimport { Callback } from \"Tools/Types\";\nimport \"./styles.scss\";\n\nexport const Option = ({\n  selected,\n  children,\n  onClick,\n  colorField,\n  imageField,\n  imageStyles,\n}: Props) => {\n  const classes = useClassNames(\"option\", { selected });\n\n  const onSelect = useCallback(() => {\n    onClick(colorField ?? imageField ?? \"\");\n  }, [onClick, colorField, imageField]);\n\n  return (\n    <li>\n      <button className={classes} onClick={onSelect}>\n        {imageField ? (\n          <img src={imageField} alt=\"\" style={imageStyles} />\n        ) : (\n          <div style={{ backgroundColor: colorField ?? undefined }} />\n        )}\n        <span>{children}</span>\n      </button>\n    </li>\n  );\n};\n\ninterface CommonProps {\n  selected: boolean;\n  children: ReactNode;\n  onClick: Callback<[string]>;\n  imageStyles?: CSSProperties;\n}\n\ntype Props = CommonProps &\n  (\n    | {\n        colorField?: never;\n        imageField: string;\n      }\n    | {\n        colorField: string;\n        imageField?: never;\n        imgixParams?: never;\n      }\n  );\n","import { ReactNode, useMemo } from \"react\";\nimport { OptionalChildren } from \"Tools/Types\";\nimport \"./styles.scss\";\n\nexport const Options = ({ title, selectedName, children }: Props) => {\n  const formatted = useMemo(\n    () => (selectedName ? getName(selectedName) : \"\"),\n    [selectedName],\n  );\n  return (\n    <div className=\"options\">\n      <div>\n        <h2>{title}</h2>\n        <p>\n          <span>| </span>\n          {formatted}\n        </p>\n      </div>\n      <ul>{children}</ul>\n    </div>\n  );\n};\n\ninterface Props extends OptionalChildren {\n  title?: ReactNode;\n  selectedName?: string;\n}\n\nfunction getName(path: string) {\n  const tokens = path.split(\"/\");\n  const file = tokens[tokens.length - 1];\n  const [name] = file.split(\".\");\n  return name.replace(/-/g, \" \");\n}\n\nexport * from \"./Option\";\n","import { PropLess } from \"Tools/Types\";\nimport { useCustomizer } from \"../CustomizerContext\";\nimport { SkateboardOptions } from \"../SkateboardOptions\";\nimport { Option, Options } from \"./Options\";\nimport \"./styles.scss\";\n\nexport const Controls = (_: PropLess) => {\n  const {\n    deck,\n    bolt,\n    wheel,\n    truck,\n    updateBolts,\n    updateDeck,\n    updateTrucks,\n    updateWheels,\n  } = useCustomizer();\n\n  return (\n    <div className=\"controls\">\n      <Options title=\"Deck\" selectedName={deck}>\n        {SkateboardOptions.DECKS.map(option => (\n          <Option\n            key={option}\n            imageField={option}\n            onClick={updateDeck}\n            imageStyles={{\n              width: \"500%\",\n              height: \"500%\",\n              translate: \"20% -0%\",\n              objectFit: \"cover\",\n            }}\n            selected={option === deck}>\n            {option.replace(/-/g, \" \")}\n          </Option>\n        ))}\n      </Options>\n      <Options title=\"Wheels\" selectedName={wheel}>\n        {SkateboardOptions.WHEELS.map(option => (\n          <Option\n            key={option}\n            imageField={option}\n            onClick={updateWheels}\n            imageStyles={{\n              width: \"125%\",\n              height: \"125%\",\n              translate: \"6% 8%\",\n              objectFit: \"cover\",\n            }}\n            selected={option === wheel}>\n            {option.replace(/-/g, \" \")}\n          </Option>\n        ))}\n      </Options>\n      <Options title=\"Trucks\" selectedName={truck}>\n        {SkateboardOptions.METALS.map(option => (\n          <Option\n            key={option}\n            colorField={option}\n            onClick={updateTrucks}\n            selected={option === truck}>\n            {option.replace(/-/g, \" \")}\n          </Option>\n        ))}\n      </Options>\n      <Options title=\"Bolts\" selectedName={bolt}>\n        {SkateboardOptions.METALS.map(option => (\n          <Option\n            key={option}\n            colorField={option}\n            onClick={updateBolts}\n            selected={option === bolt}>\n            {option.replace(/-/g, \" \")}\n          </Option>\n        ))}\n      </Options>\n    </div>\n  );\n};\n","export default \"__VITE_ASSET__rsl4AS10__\"","export default \"__VITE_ASSET__47Zf0UFr__\"","import { useMemo } from \"react\";\nimport { MeshStandardMaterial } from \"three\";\nimport { useTexture } from \"@react-three/drei\";\nimport { Textures } from \"Tools/Textures\";\nimport { PropLess } from \"Tools/Types\";\nimport ConcreteNormal from \"../Resources/concrete-normal.avif\";\n\nexport const ENVIRONMENT_COLOR = \"#3b3a3a\";\n\nexport const Floor = (_: PropLess) => {\n  const normalMap = useTexture(ConcreteNormal, t => {\n    Textures.wrap(t).repeat(t, 30).rerender(t);\n    t.anisotropy = 8;\n  });\n\n  const material = useMemo(\n    () =>\n      new MeshStandardMaterial({\n        roughness: 0.75,\n        color: ENVIRONMENT_COLOR,\n        normalMap: normalMap,\n      }),\n    [normalMap],\n  );\n  return (\n    <mesh\n      castShadow\n      receiveShadow\n      position={[0, -0.005, 0]}\n      rotation={[-Math.PI / 2, 0, 0]}\n      material={material}>\n      <circleGeometry args={[20, 32]} />\n    </mesh>\n  );\n};\n\nuseTexture.preload(ConcreteNormal);\n","export default \"__VITE_ASSET__Ee6WvK7Q__\"","export default \"__VITE_ASSET__fGgUdfM6__\"","export default \"__VITE_ASSET__T0b0KajT__\"","import { useMemo } from \"react\";\nimport { MeshStandardMaterial } from \"three\";\nimport { useTexture } from \"@react-three/drei\";\nimport { Textures } from \"Tools/Textures\";\nimport GripTapDiffuse from \"../../Resources/skateboard/griptape-diffuse.webp\";\nimport GripTapeRoughness from \"../../Resources/skateboard/griptape-roughness.webp\";\n\nexport const useGripTape = () => {\n  const gripTapeDiffuse = useTexture(GripTapDiffuse);\n  const gripTapeRoughness = useTexture(GripTapeRoughness);\n  return useMemo(() => {\n    const material = new MeshStandardMaterial({\n      map: gripTapeDiffuse,\n      bumpMap: gripTapeRoughness,\n      roughnessMap: gripTapeRoughness,\n      bumpScale: 3.5,\n      roughness: 0.8,\n      color: \"#555\",\n    });\n    if (gripTapeDiffuse) {\n      Textures.wrap(gripTapeDiffuse)\n        .repeat(gripTapeDiffuse, 9)\n        .rerender(gripTapeDiffuse);\n    }\n    if (gripTapeRoughness) {\n      Textures.wrap(gripTapeRoughness)\n        .repeat(gripTapeRoughness, 9)\n        .rerender(gripTapeRoughness);\n      gripTapeRoughness.anisotropy = 8;\n    }\n    return material;\n  }, [gripTapeDiffuse, gripTapeRoughness]);\n};\n\nuseTexture.preload([GripTapDiffuse, GripTapeRoughness]);\n","export default \"__VITE_ASSET__pFIk1vHY__\"","import { useMemo } from \"react\";\nimport { MeshStandardMaterial, Vector2 } from \"three\";\nimport { useTexture } from \"@react-three/drei\";\nimport { Textures } from \"Tools/Textures\";\nimport MetalNormal from \"../../Resources/skateboard/metal-normal.avif\";\n\nexport const useTrucks = (color = \"#555\") => {\n  const metalNormal = useTexture(MetalNormal, t => {\n    Textures.wrap(t).repeat(t, 8).rerender(t);\n    t.anisotropy = 8;\n  });\n  return useMemo(\n    () =>\n      new MeshStandardMaterial({\n        color,\n        metalness: 0.8,\n        roughness: 0.25,\n        normalMap: metalNormal,\n        normalScale: new Vector2(0.3, 0.3),\n      }),\n    [color, metalNormal],\n  );\n};\n\nuseTexture.preload(MetalNormal);\n","import { useMemo } from \"react\";\nimport { MeshStandardMaterial, Texture } from \"three\";\n\nexport const useWheels = (texture: Texture) => {\n  return useMemo(\n    () =>\n      new MeshStandardMaterial({\n        roughness: 0.35,\n        map: texture,\n      }),\n    [texture],\n  );\n};\n","import {\n  ForwardedRef,\n  forwardRef,\n  RefObject,\n  useCallback,\n  useImperativeHandle,\n  useMemo,\n  useRef,\n} from \"react\";\nimport { type Mesh, Object3D, Texture } from \"three\";\nimport { GLTF } from \"three-stdlib\";\nimport { useGLTF } from \"@react-three/drei\";\nimport Skateboard from \"../../Resources/Skateboard.glb\";\nimport { useBolts } from \"./useBolts\";\nimport { useDeck } from \"./useDeck\";\nimport { useGripTape } from \"./useGripTape\";\nimport { useTrucks } from \"./useTrucks\";\nimport { useWheels } from \"./useWheels\";\n\ntype GLTFResult = GLTF & {\n  nodes: {\n    GripTape: Mesh;\n    Wheel1: Mesh;\n    Wheel2: Mesh;\n    Deck: Mesh;\n    Wheel4: Mesh;\n    Bolts: Mesh;\n    Wheel3: Mesh;\n    Baseplates: Mesh;\n    Truck1: Mesh;\n    Truck2: Mesh;\n  };\n};\n\nexport const SkateboardModel = forwardRef(function SkateboardModel(\n  { wheelTexture, deckTexture, boltColor, truckColor, pos = \"upright\" }: Props,\n  ref: ForwardedRef<SMController>,\n) {\n  const { nodes } = useGLTF(Skateboard) as unknown as GLTFResult;\n  const wheelRefs = useRef<Object3D[]>([]);\n  const gripTapeMaterial = useGripTape();\n  const boltMaterial = useBolts(boltColor);\n  const truckMaterial = useTrucks(truckColor);\n  const deckMaterial = useDeck(deckTexture);\n  const wheelMaterial = useWheels(wheelTexture);\n\n  const cacheObjectReference = useCallback(\n    (index: number, target: RefObject<Object3D[]>) =>\n      (node: Object3D | null) => {\n        if (node) {\n          target.current[index] = node;\n        }\n      },\n    [],\n  );\n\n  const wheelCaches = useMemo(\n    () =>\n      Array.from({ length: 4 }, (_, i) => cacheObjectReference(i, wheelRefs)),\n    [cacheObjectReference],\n  );\n\n  const positions = useMemo(\n    () =>\n      ({\n        side: { rotation: [0, 0, Math.PI / 2], position: [0.25, 0.295, 0] },\n        upright: { rotation: [0, 0, 0], position: [0, 0, 0] },\n      }) as const,\n    [],\n  );\n\n  useImperativeHandle(ref, () => ({ wheels: wheelRefs }), [wheelRefs]);\n\n  return (\n    <group\n      dispose={null}\n      rotation={positions[pos].rotation}\n      position={positions[pos].position}>\n      <group name=\"Scene\">\n        <mesh\n          name=\"GripTape\"\n          castShadow\n          receiveShadow\n          material={gripTapeMaterial}\n          geometry={nodes.GripTape.geometry}\n          position={[0, 0.286, -0.002]}\n        />\n        <mesh\n          name=\"Wheel1\"\n          castShadow\n          receiveShadow\n          ref={wheelCaches[0]}\n          geometry={nodes.Wheel1.geometry}\n          material={wheelMaterial}\n          position={[0.238, 0.086, 0.635]}\n        />\n        <mesh\n          name=\"Wheel2\"\n          castShadow\n          receiveShadow\n          ref={wheelCaches[1]}\n          geometry={nodes.Wheel2.geometry}\n          material={wheelMaterial}\n          position={[-0.237, 0.086, 0.635]}\n        />\n        <mesh\n          name=\"Deck\"\n          castShadow\n          receiveShadow\n          geometry={nodes.Deck.geometry}\n          material={deckMaterial}\n          position={[0, 0.271, -0.002]}\n        />\n        <mesh\n          name=\"Wheel4\"\n          castShadow\n          receiveShadow\n          ref={wheelCaches[3]}\n          geometry={nodes.Wheel4.geometry}\n          material={wheelMaterial}\n          position={[-0.238, 0.086, -0.635]}\n          rotation={[Math.PI, 0, Math.PI]}\n        />\n        <mesh\n          name=\"Bolts\"\n          castShadow\n          receiveShadow\n          geometry={nodes.Bolts.geometry}\n          material={boltMaterial}\n          position={[0, 0.198, 0]}\n          rotation={[Math.PI, 0, Math.PI]}\n        />\n        <mesh\n          name=\"Wheel3\"\n          castShadow\n          receiveShadow\n          ref={wheelCaches[2]}\n          geometry={nodes.Wheel3.geometry}\n          material={wheelMaterial}\n          position={[0.237, 0.086, -0.635]}\n          rotation={[Math.PI, 0, Math.PI]}\n        />\n        <mesh\n          name=\"Baseplates\"\n          castShadow\n          receiveShadow\n          geometry={nodes.Baseplates.geometry}\n          material={truckMaterial}\n          position={[0, 0.211, 0]}\n        />\n        <mesh\n          name=\"Truck1\"\n          castShadow\n          receiveShadow\n          geometry={nodes.Truck1.geometry}\n          material={truckMaterial}\n          position={[0, 0.101, -0.617]}\n        />\n        <mesh\n          name=\"Truck2\"\n          castShadow\n          receiveShadow\n          geometry={nodes.Truck2.geometry}\n          material={truckMaterial}\n          position={[0, 0.101, 0.617]}\n          rotation={[Math.PI, 0, Math.PI]}\n        />\n      </group>\n    </group>\n  );\n});\n\nuseGLTF.preload(Skateboard);\n\nexport interface Props {\n  boltColor?: string;\n  truckColor?: string;\n  deckTexture: Texture;\n  wheelTexture: Texture;\n  pos?: \"upright\" | \"side\";\n}\n\nexport interface SMController {\n  wheels: RefObject<Object3D[]>;\n}\n","import { useMemo } from \"react\";\nimport { MeshStandardMaterial } from \"three\";\n\nexport const useBolts = (color = \"#555\") => {\n  return useMemo(\n    () =>\n      new MeshStandardMaterial({\n        color,\n        metalness: 0.5,\n        roughness: 0.3,\n      }),\n    [color],\n  );\n};\n","import { useMemo } from \"react\";\nimport { MeshStandardMaterial, Texture } from \"three\";\n\nexport const useDeck = (texture: Texture) => {\n  return useMemo(\n    () =>\n      new MeshStandardMaterial({\n        roughness: 0.1,\n        map: texture,\n      }),\n    [texture],\n  );\n};\n","import { SRGBColorSpace, Texture } from \"three\";\nimport { useTexture } from \"@react-three/drei\";\nimport { TextureResult } from \"./types\";\n\nexport const useSRGBTexture = <T extends string | string[]>(\n  urls: T,\n): TextureResult<T> => {\n  const deckTextures = useTexture(urls, t => {\n    const returnArray = Array.isArray(t);\n    const textures: Texture[] = returnArray\n      ? (deckTextures as Texture[])\n      : [deckTextures as Texture];\n    textures.forEach(t => {\n      t.flipY = false;\n      t.colorSpace = SRGBColorSpace;\n      t.needsUpdate = true;\n    });\n  });\n  return deckTextures as TextureResult<T>;\n};\n","import { useMemo } from \"react\";\nimport { useSRGBTexture } from \"./SkateboardModel/useSRGBTexture\";\n\nexport const useSelectedTexture = (options: string[], selection?: string) => {\n  const textures = useSRGBTexture(options);\n\n  const indices = useMemo(() => {\n    const hash: Record<string, number> = {};\n    const { length } = options;\n    for (let i = 0; i < length; i++) {\n      hash[options[i]] = i;\n    }\n    return hash;\n  }, [options]);\n\n  const selectionIndex = useMemo(\n    () => indices[selection ?? \"-1\"] ?? 0,\n    [indices, selection],\n  );\n  return useMemo(() => textures[selectionIndex], [textures, selectionIndex]);\n};\n","import gsap from \"gsap\";\nimport { Fragment, Suspense, useCallback, useEffect, useRef } from \"react\";\nimport { Mesh } from \"three\";\nimport {\n  CameraControls,\n  Environment,\n  Preload,\n  useTexture,\n} from \"@react-three/drei\";\nimport { useLabsLoader } from \"Hooks/useLabsLoader\";\nimport { PropLess } from \"Tools/Types\";\nimport { useCustomizer } from \"../CustomizerContext\";\nimport Lighting from \"../Resources/hdr/warehouse-512.hdr\";\nimport { SkateboardOptions } from \"../SkateboardOptions\";\nimport { ENVIRONMENT_COLOR, Floor } from \"./Floor\";\nimport { SkateboardModel, SMController } from \"./SkateboardModel\";\nimport { useSelectedTexture } from \"./useSelectedTexture\";\n\nconst DEFAULT_METAL_COLOR = \"#6f6e6a\";\n\nexport function PreviewCanvas(_: PropLess) {\n  useLabsLoader();\n  const floor = useRef<Mesh>(null);\n  const controller = useRef<SMController>(null);\n  const { camera, wheel, deck, bolt, truck, lookAtDeck } = useCustomizer();\n\n  const deckTexture = useSelectedTexture(SkateboardOptions.DECKS, deck);\n  const wheelTexture = useSelectedTexture(SkateboardOptions.WHEELS, wheel);\n\n  const truckColor = truck ?? DEFAULT_METAL_COLOR;\n  const boltColor = bolt ?? DEFAULT_METAL_COLOR;\n\n  const onCameraControlStart = useCallback(() => {\n    if (\n      !camera.current ||\n      !floor.current ||\n      camera.current.colliderMeshes.length\n    ) {\n      return;\n    }\n    camera.current.colliderMeshes = [floor.current];\n  }, [camera]);\n\n  useEffect(() => {\n    if (!controller?.current?.wheels?.current?.length) {\n      return;\n    }\n    for (const wheelMesh of controller.current.wheels.current) {\n      if (wheelMesh) {\n        gsap.to(wheelMesh.rotation, {\n          x: \"+=30\",\n          duration: 2.5,\n          ease: \"circ.out\",\n        });\n      }\n    }\n  }, [wheel]);\n\n  useEffect(() => {\n    if (camera.current) {\n      lookAtDeck();\n    }\n  }, [lookAtDeck, camera]);\n\n  return (\n    <Fragment>\n      <Suspense fallback={null}>\n        <Environment files={Lighting} environmentIntensity={0.6} />\n        <directionalLight\n          castShadow\n          lookAt={[0, 0, 0]}\n          position={[1, 1, 1]}\n          intensity={1.6}\n        />\n        <fog attach=\"fog\" args={[ENVIRONMENT_COLOR, 3, 10]} />\n        <color attach=\"background\" args={[ENVIRONMENT_COLOR]} />\n        <Floor />\n        <mesh rotation={[-Math.PI / 2, 0, 0]} ref={floor}>\n          <planeGeometry args={[6, 6]} />\n          <meshBasicMaterial visible={false} />\n        </mesh>\n        <SkateboardModel\n          pos=\"side\"\n          ref={controller}\n          boltColor={boltColor}\n          truckColor={truckColor}\n          deckTexture={deckTexture}\n          wheelTexture={wheelTexture}\n        />\n        <CameraControls\n          makeDefault\n          ref={camera}\n          maxDistance={4}\n          minDistance={0.2}\n          onStart={onCameraControlStart}\n        />\n      </Suspense>\n      <Preload all />\n    </Fragment>\n  );\n}\n\nuseTexture.preload(SkateboardOptions.bitmapTextures);\n","import { Canvas } from \"@react-three/fiber\";\nimport { SplitHeading } from \"Components/SplitHeading\";\nimport { PropLess } from \"Tools/Types\";\nimport { Controls } from \"./Controls\";\nimport { CustomizerContextProvider } from \"./CustomizerContext\";\nimport { PreviewCanvas } from \"./Preview\";\nimport { DEFAULT_CAMERA_POSITION } from \"./useCameraControls\";\nimport \"./styles.scss\";\n\nexport default function SkateboardScene(_: PropLess) {\n  return (\n    <div className=\"skateboard-scene\">\n      <CustomizerContextProvider>\n        <div className=\"preview\">\n          <div className=\"canvas-container\">\n            <Canvas\n              shadows\n              camera={{\n                fov: 50,\n                position: DEFAULT_CAMERA_POSITION,\n              }}>\n              <PreviewCanvas />\n            </Canvas>\n          </div>\n        </div>\n        <div className=\"options-menu\">\n          <SplitHeading text=\"Build Your Board\" />\n          <Controls />\n        </div>\n      </CustomizerContextProvider>\n    </div>\n  );\n}\n"],"names":["SkateboardOptions","bitmapTextures","this","DECKS","WHEELS","__publicField","DEFAULT_CAMERA_LOOK_AT","DEFAULT_CAMERA_POSITION","CustomizerContext","createContext","wheel","updateWheels","deck","updateDeck","truck","METALS","updateTrucks","bolt","updateBolts","lookAtDeck","camera","createRef","CustomizerContextProvider","children","setWheel","useState","setBolt","setDeck","setTruck","lookAtBolts","lookAtTruck","lookAtWheel","useRef","setCameraControls","useCallback","target","position","current","setTarget","x","y","z","setPosition","Vector3","useMemo","useCameraControls","createLookAt","stateSetter","lookAt","update","value","jsx","Provider","useCustomizer","useContext","Option","selected","onClick","colorField","imageField","imageStyles","classes","useClassNames","onSelect","_a","jsxs","className","src","alt","style","backgroundColor","Options","title","selectedName","formatted","path","tokens","split","file","length","name","replace","getName","Controls","_","map","option","jsxRuntimeExports","width","height","translate","objectFit","Lighting","ConcreteNormal","ENVIRONMENT_COLOR","Floor","normalMap","useTexture","t","Textures","wrap","repeat","rerender","anisotropy","material","MeshStandardMaterial","roughness","color","castShadow","receiveShadow","rotation","Math","PI","args","preload","Skateboard","GripTapDiffuse","GripTapeRoughness","MetalNormal","SkateboardModel","forwardRef","wheelTexture","deckTexture","boltColor","truckColor","pos","ref","nodes","useGLTF","wheelRefs","gripTapeMaterial","gripTapeDiffuse","gripTapeRoughness","bumpMap","roughnessMap","bumpScale","useGripTape","boltMaterial","metalness","useBolts","truckMaterial","metalNormal","normalScale","Vector2","useTrucks","deckMaterial","texture","wheelMaterial","useWheels","cacheObjectReference","index","node","wheelCaches","Array","from","i","positions","side","upright","wheels","dispose","geometry","GripTape","Wheel1","Wheel2","Deck","Wheel4","Bolts","Wheel3","Baseplates","Truck1","Truck2","useSelectedTexture","options","selection","textures","urls","deckTextures","isArray","forEach","flipY","colorSpace","SRGBColorSpace","needsUpdate","useSRGBTexture","indices","hash","selectionIndex","DEFAULT_METAL_COLOR","PreviewCanvas","floor","controller","onCameraControlStart","colliderMeshes","useEffect","_c","_b","wheelMesh","gsapWithCSS","to","duration","ease","Fragment","Suspense","fallback","Environment","files","environmentIntensity","intensity","attach","visible","CameraControls","makeDefault","maxDistance","minDistance","onStart","Preload","all","SkateboardScene","Canvas","shadows","fov","SplitHeading","text"],"mappings":"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"}