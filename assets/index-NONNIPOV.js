var t=Object.defineProperty,e=Object.defineProperties,o=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,n=(e,o,s)=>o in e?t(e,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[o]=s,a=(t,e,o)=>(n(t,"symbol"!=typeof e?e+"":e,o),o);import{r as h,j as c}from"./threeFiber-wgP-k_4X.js";import{n as u}from"./index-DQmXluNN.js";class l{constructor(t){a(this,"top",0),a(this,"left",0),a(this,"width",0),a(this,"height",0),a(this,"mouseEnter",(t=>{this.cacheTargetData(t.currentTarget),this.setFrame(this.getRotations(...this.getCoordinates(t)),.5)})),a(this,"mouseMove",(t=>{this.setFrame(this.getRotations(...this.getCoordinates(t)),0)})),a(this,"mouseLeave",(()=>{this.setAnimatedProperties({rotX:0,rotY:0,scale:1,transition:"0.5s",boxShadow:"none"})})),a(this,"events",{onMouseMove:this.mouseMove,onTouchEnd:this.mouseLeave,onTouchMove:this.mouseMove,onTouchStart:this.mouseEnter,onMouseEnter:this.mouseEnter,onMouseLeave:this.mouseLeave}),this.setAnimationFrame=t}cacheTargetData(t){const e=t,{top:o,left:s,height:i,width:r}=e.getBoundingClientRect();this.top=o,this.height=i;const n=.2*r;this.left=s-n/2,this.width=r+.2*r}getRotations(t,e){const o=e-this.top,s=.5-(t-this.left)/this.width;return[50*(.5-o/this.height),20*s]}setFrame([t,e],o){this.setAnimatedProperties({rotX:t,rotY:e,transition:`${o}s`,scale:1.1,boxShadow:`0 ${t}px ${this.height/5}px rgba(0,0,0,0.5), ${t}px ${e}px ${this.width/5}px rgba(0,0,0,0.45)`})}getCoordinates(t){return"touches"in t?[t.touches[0].clientX,t.touches[0].clientY]:[t.clientX,t.clientY]}setAnimatedProperties(t){this.setAnimationFrame({transform:`rotateX(${t.rotX}deg) rotateY(${t.rotY}deg) skew(-10deg) scale(${t.scale})`,transitionDuration:`${t.transition}`,boxShadow:t.boxShadow})}}const m=h.memo((function({text:t,onClick:a}){const[m,p]=h.useState(),d=u(new l(p));return c.jsx("button",(g=((t,e)=>{for(var o in e||(e={}))i.call(e,o)&&n(t,o,e[o]);if(s)for(var o of s(e))r.call(e,o)&&n(t,o,e[o]);return t})({onClick:a},d.events),e(g,o({className:"outline-button",style:m,children:c.jsx("div",{children:t})}))));var g}));export{m as B};
//# sourceMappingURL=index-NONNIPOV.js.map
