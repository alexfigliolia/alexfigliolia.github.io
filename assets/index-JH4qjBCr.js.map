{"version":3,"file":"index-JH4qjBCr.js","sources":["../../node_modules/@figliolia/data-structures/dist/mjs/LinkedList.js","../../node_modules/@figliolia/react-hooks/dist/mjs/Hooks/useController.js","../../src/3D/Netflix/Content.ts","../../src/3D/Netflix/Resources/Movies/12-angry-men.jpg","../../src/3D/Netflix/Resources/Movies/a-working-man.jpg","../../src/3D/Netflix/Resources/Movies/ballerina.jpg","../../src/3D/Netflix/Resources/Movies/clown-in-a-cornfield.jpg","../../src/3D/Netflix/Resources/Movies/final-destination-bloodlines.jpg","../../src/3D/Netflix/Resources/Movies/forrest-gump.jpg","../../src/3D/Netflix/Resources/Movies/goodfellas.jpg","../../src/3D/Netflix/Resources/Movies/how-to-train-your-dragon.jpg","../../src/3D/Netflix/Resources/Movies/interstellar.jpg","../../src/3D/Netflix/Resources/Movies/jewel-thief.jpg","../../src/3D/Netflix/Resources/Movies/ko.jpg","../../src/3D/Netflix/Resources/Movies/life-is-beautifu.jpg","../../src/3D/Netflix/Resources/Movies/liloandstitch.jpg","../../src/3D/Netflix/Resources/Movies/lord-of-the-rings.jpg","../../src/3D/Netflix/Resources/Movies/mikaela.jpg","../../src/3D/Netflix/Resources/Movies/minecraft.jpg","../../src/3D/Netflix/Resources/Movies/mission-impossible.jpg","../../src/3D/Netflix/Resources/Movies/preditor-killer.jpg","../../src/3D/Netflix/Resources/Movies/pulp-fiction.jpg","../../src/3D/Netflix/Resources/Movies/schindlers-list.jpg","../../src/3D/Netflix/Resources/Movies/seven-samurai.jpg","../../src/3D/Netflix/Resources/Movies/shadow-force.jpg","../../src/3D/Netflix/Resources/Movies/sinners.jpg","../../src/3D/Netflix/Resources/Movies/the-accountant.jpg","../../src/3D/Netflix/Resources/Movies/the-amateur.jpg","../../src/3D/Netflix/Resources/Movies/the-dark-knight.jpg","../../src/3D/Netflix/Resources/Movies/the-godfather.jpg","../../src/3D/Netflix/Resources/Movies/the-godfather-2.jpg","../../src/3D/Netflix/Resources/Movies/the-good-bad-ugly.jpg","../../src/3D/Netflix/Resources/Movies/the-green-mile.jpg","../../src/3D/Netflix/Resources/Movies/the-last-stand.jpg","../../src/3D/Netflix/Resources/Movies/the-shawshank-redemption.jpg","../../src/3D/Netflix/Resources/Shows/andy-cohen.jpg","../../src/3D/Netflix/Resources/Shows/anne-with-ane.jpg","../../src/3D/Netflix/Resources/Shows/arcane.jpg","../../src/3D/Netflix/Resources/Shows/attack-on-titan.jpg","../../src/3D/Netflix/Resources/Shows/avatar.jpg","../../src/3D/Netflix/Resources/Shows/better-call-saul.jpg","../../src/3D/Netflix/Resources/Shows/breaking-bad.jpg","../../src/3D/Netflix/Resources/Shows/chernobyl.jpg","../../src/3D/Netflix/Resources/Shows/csi.jpg","../../src/3D/Netflix/Resources/Shows/dine-with-me.jpg","../../src/3D/Netflix/Resources/Shows/fighting-spirit.jpg","../../src/3D/Netflix/Resources/Shows/fionna-and-cake.jpg","../../src/3D/Netflix/Resources/Shows/frieren.jpg","../../src/3D/Netflix/Resources/Shows/fullmetal-alchemist.jpg","../../src/3D/Netflix/Resources/Shows/graham-show.jpg","../../src/3D/Netflix/Resources/Shows/grave-fireflies.jpg","../../src/3D/Netflix/Resources/Shows/grays-anatomy.jpg","../../src/3D/Netflix/Resources/Shows/hazbin-hotel.jpg","../../src/3D/Netflix/Resources/Shows/hunter.jpg","../../src/3D/Netflix/Resources/Shows/james-cordon.jpg","../../src/3D/Netflix/Resources/Shows/late-night.jpg","../../src/3D/Netflix/Resources/Shows/law-and-order.jpg","../../src/3D/Netflix/Resources/Shows/nova.jpg","../../src/3D/Netflix/Resources/Shows/one-piece.jpg","../../src/3D/Netflix/Resources/Shows/parasite.jpg","../../src/3D/Netflix/Resources/Shows/real-time.jpg","../../src/3D/Netflix/Resources/Shows/rick-and-morty.jpg","../../src/3D/Netflix/Resources/Shows/spirited-away.jpg","../../src/3D/Netflix/Resources/Shows/straw.jpg","../../src/3D/Netflix/Resources/Shows/the-amazing-race.jpg","../../src/3D/Netflix/Resources/Shows/the-choses.jpg","../../src/3D/Netflix/Resources/Shows/the-daily-show.jpg","../../src/3D/Netflix/Resources/Shows/the-late-show-craig.jpg","../../src/3D/Netflix/Resources/Shows/the-late-show-steve.jpg","../../src/3D/Netflix/Resources/Shows/the-late-show.jpg","../../src/3D/Netflix/Resources/Shows/the-owl-house.jpg","../../src/3D/Netflix/Resources/Shows/the-sopranos.jpg","../../src/3D/Netflix/Resources/Shows/the-tonight-show.jpg","../../src/3D/Netflix/Resources/Shows/the-ugly-stepsister.jpg","../../src/3D/Netflix/Resources/Shows/tonight-show.jpg","../../src/3D/Netflix/Resources/Shows/worrior-queen.jpg","../../src/3D/Netflix/Resources/Shows/your-name.jpg","../../node_modules/lodash.debounce/index.js","../../node_modules/@figliolia/frame-pooler/dist/mjs/FramePooler.js","../../src/3D/Netflix/WebGLImages/Context/Controller.ts","../../src/3D/Netflix/WebGLImages/Context/Provider.tsx","../../src/3D/Netflix/WebGLImages/Context/useActiveImage.ts","../../src/3D/Netflix/WebGLImages/WebGLContentList/Context.tsx","../../src/Hooks/useMergedRefs.ts","../../src/Icons/LeftChevron.tsx","../../src/Icons/RightChevron.tsx","../../src/3D/Netflix/ContentList/index.tsx","../../src/3D/Netflix/WebGLImages/WebGLContentList/WebGLContentList.tsx","../../src/3D/Netflix/WebGLImages/WebGLImages/BackButton/index.tsx","../../src/3D/Netflix/WebGLImages/WebGLImages/BackDrop/index.tsx","../../src/3D/Netflix/WebGLImages/WebGLImages/Camera.tsx","../../src/3D/Netflix/WebGLImageGenerator/createImageMaterial.ts","../../src/3D/Netflix/WebGLImageGenerator/vertex.glsl?raw","../../src/3D/Netflix/WebGLImageGenerator/fragment.glsl?raw","../../node_modules/@react-three/drei/core/shaderMaterial.js","../../src/3D/Netflix/GLWaveImage/index.tsx","../../src/3D/Netflix/WebGLImageGenerator/index.tsx","../../src/3D/Netflix/GLWaveImage/vertex.glsl?raw","../../src/3D/Netflix/GLWaveImage/fragment.glsl?raw","../../src/Tools/Geometry.ts","../../src/3D/Netflix/WebGLImages/WebGLImages/WebGLImageRenderer/WebGLImageMesh/Geometry.ts","../../src/3D/Netflix/WebGLImages/WebGLImages/WebGLImageRenderer/WebGLImageMesh/index.tsx","../../src/3D/Netflix/WebGLImages/WebGLImages/WebGLImageRenderer/index.tsx","../../src/3D/Netflix/WebGLImages/WebGLImages/WebGLTransitionRenderer/TransitionNode/WebGLTransitionElement/Geometry.ts","../../src/3D/Netflix/WebGLImages/WebGLImages/WebGLTransitionRenderer/TransitionNode/WebGLTransitionElement/index.tsx","../../src/3D/Netflix/WebGLImages/WebGLImages/WebGLTransitionRenderer/TransitionNode/index.tsx","../../src/3D/Netflix/WebGLImages/WebGLImages/WebGLTransitionRenderer/index.tsx","../../src/3D/Netflix/WebGLImages/WebGLImages/index.tsx","../../src/3D/Netflix/Poster/index.tsx","../../src/3D/Netflix/WebGLPoster/index.tsx","../../src/3D/Netflix/index.tsx"],"sourcesContent":["class ListNode {\n    value;\n    previous = null;\n    next = null;\n    constructor(value, previous = null, next = null) {\n        this.value = value;\n        this.next = next;\n        this.previous = previous;\n    }\n}\n/**\n * Linked List\n *\n * A doubly linked list mimicking the interface of JavaScript arrays\n *\n * ```typescript\n * import { LinkedList } from \"@figliolia/data-structures\";\n *\n * const list = new LinkedList<number>();\n * list.push(1);\n * list.push(2);\n * list.push(3);\n * for(const item of list) {\n *   console.log(item); // 1, 2, 3\n * }\n * list.pop(); // 3 -> O(1)\n * list.shift() // 1 -> O(1)\n * list.push(3) // O(1)\n * list.unshift(1) // O(1)\n * ```\n */\nexport class LinkedList {\n    size = 0;\n    head = null;\n    tail = null;\n    constructor(...items) {\n        for (const item of items) {\n            this.push(item);\n        }\n    }\n    push(item) {\n        this.size++;\n        const node = new ListNode(item);\n        if (!this.head && !this.tail) {\n            this.head = node;\n            this.tail = node;\n            return this.size;\n        }\n        this.tail.next = node;\n        node.previous = this.tail;\n        this.tail = node;\n        return this.size;\n    }\n    unshift(item) {\n        this.size++;\n        const node = new ListNode(item);\n        if (!this.head && !this.tail) {\n            this.head = node;\n            this.tail = node;\n            return this.size;\n        }\n        this.head.previous = node;\n        node.next = this.head;\n        this.head = node;\n        return this.size;\n    }\n    shift() {\n        if (!this.head) {\n            return;\n        }\n        this.size--;\n        const node = this.head;\n        if (this.head === this.tail) {\n            this.head = null;\n            this.tail = null;\n            return node.value;\n        }\n        this.head = node.next;\n        this.head.previous = null;\n        return node.value;\n    }\n    pop() {\n        if (!this.tail) {\n            return;\n        }\n        this.size--;\n        const node = this.tail;\n        if (this.head === this.tail) {\n            this.head = null;\n            this.tail = null;\n            return node.value;\n        }\n        this.tail = node.previous;\n        this.tail.next = null;\n        return node.value;\n    }\n    peekLeft() {\n        return this.head?.value;\n    }\n    peekRight() {\n        return this.tail?.value;\n    }\n    *[Symbol.iterator]() {\n        let current = this.head;\n        while (current) {\n            yield current.value;\n            current = current.next;\n        }\n    }\n}\n","import { useRef } from \"react\";\nexport const useController = (Controller) => {\n    const controller = useRef(Controller);\n    return controller.current;\n};\n","import TwelveAngryMen from \"./Resources/Movies/12-angry-men.jpg\";\nimport AWorkingMan from \"./Resources/Movies/a-working-man.jpg\";\nimport Ballerina from \"./Resources/Movies/ballerina.jpg\";\nimport ClownInACornfield from \"./Resources/Movies/clown-in-a-cornfield.jpg\";\nimport FinalDestination from \"./Resources/Movies/final-destination-bloodlines.jpg\";\nimport ForestGump from \"./Resources/Movies/forrest-gump.jpg\";\nimport GoodFellas from \"./Resources/Movies/goodfellas.jpg\";\nimport Dragon from \"./Resources/Movies/how-to-train-your-dragon.jpg\";\nimport Interstellar from \"./Resources/Movies/interstellar.jpg\";\nimport JewelThief from \"./Resources/Movies/jewel-thief.jpg\";\nimport KO from \"./Resources/Movies/ko.jpg\";\nimport LifeIsBeautiful from \"./Resources/Movies/life-is-beautifu.jpg\";\nimport LiloAndStitch from \"./Resources/Movies/liloandstitch.jpg\";\nimport LordOfTheRings from \"./Resources/Movies/lord-of-the-rings.jpg\";\nimport Mikaela from \"./Resources/Movies/mikaela.jpg\";\nimport Minecraft from \"./Resources/Movies/minecraft.jpg\";\nimport MissionImpossible from \"./Resources/Movies/mission-impossible.jpg\";\nimport Preditor from \"./Resources/Movies/preditor-killer.jpg\";\nimport PulpFiction from \"./Resources/Movies/pulp-fiction.jpg\";\nimport Schindler from \"./Resources/Movies/schindlers-list.jpg\";\nimport Sanurai from \"./Resources/Movies/seven-samurai.jpg\";\nimport ShadowForce from \"./Resources/Movies/shadow-force.jpg\";\nimport Sinners from \"./Resources/Movies/sinners.jpg\";\nimport TheAccountant from \"./Resources/Movies/the-accountant.jpg\";\nimport TheAmateur from \"./Resources/Movies/the-amateur.jpg\";\nimport TheDarkKnight from \"./Resources/Movies/the-dark-knight.jpg\";\nimport Godfather from \"./Resources/Movies/the-godfather.jpg\";\nimport Godfather2 from \"./Resources/Movies/the-godfather-2.jpg\";\nimport GoodBad from \"./Resources/Movies/the-good-bad-ugly.jpg\";\nimport GreenMile from \"./Resources/Movies/the-green-mile.jpg\";\nimport LastStand from \"./Resources/Movies/the-last-stand.jpg\";\nimport Shawshank from \"./Resources/Movies/the-shawshank-redemption.jpg\";\nimport AndyCohen from \"./Resources/Shows/andy-cohen.jpg\";\nimport Anne from \"./Resources/Shows/anne-with-ane.jpg\";\nimport Arcane from \"./Resources/Shows/arcane.jpg\";\nimport AttackOnTitan from \"./Resources/Shows/attack-on-titan.jpg\";\nimport Avatar from \"./Resources/Shows/avatar.jpg\";\nimport BetterSaul from \"./Resources/Shows/better-call-saul.jpg\";\nimport BreakingBad from \"./Resources/Shows/breaking-bad.jpg\";\nimport Chernobyl from \"./Resources/Shows/chernobyl.jpg\";\nimport CSI from \"./Resources/Shows/csi.jpg\";\nimport Dine from \"./Resources/Shows/dine-with-me.jpg\";\nimport FightingSpirit from \"./Resources/Shows/fighting-spirit.jpg\";\nimport FionaAndCake from \"./Resources/Shows/fionna-and-cake.jpg\";\nimport Fieren from \"./Resources/Shows/frieren.jpg\";\nimport Alchemist from \"./Resources/Shows/fullmetal-alchemist.jpg\";\nimport GrahamShow from \"./Resources/Shows/graham-show.jpg\";\nimport GraveFireflies from \"./Resources/Shows/grave-fireflies.jpg\";\nimport GraysAnatomy from \"./Resources/Shows/grays-anatomy.jpg\";\nimport HazbinHotel from \"./Resources/Shows/hazbin-hotel.jpg\";\nimport Hunter from \"./Resources/Shows/hunter.jpg\";\nimport Cordon from \"./Resources/Shows/james-cordon.jpg\";\nimport LateNight from \"./Resources/Shows/late-night.jpg\";\nimport LawAndOrder from \"./Resources/Shows/law-and-order.jpg\";\nimport Nova from \"./Resources/Shows/nova.jpg\";\nimport OnePiece from \"./Resources/Shows/one-piece.jpg\";\nimport Parasite from \"./Resources/Shows/parasite.jpg\";\nimport RealTime from \"./Resources/Shows/real-time.jpg\";\nimport RickAndMorty from \"./Resources/Shows/rick-and-morty.jpg\";\nimport SpiritedAway from \"./Resources/Shows/spirited-away.jpg\";\nimport Straw from \"./Resources/Shows/straw.jpg\";\nimport AmazingRace from \"./Resources/Shows/the-amazing-race.jpg\";\nimport TheChosen from \"./Resources/Shows/the-choses.jpg\";\nimport DailyShow from \"./Resources/Shows/the-daily-show.jpg\";\nimport LateShow from \"./Resources/Shows/the-late-show.jpg\";\nimport Craig from \"./Resources/Shows/the-late-show-craig.jpg\";\nimport Steve from \"./Resources/Shows/the-late-show-steve.jpg\";\nimport OwlHouse from \"./Resources/Shows/the-owl-house.jpg\";\nimport Sopranos from \"./Resources/Shows/the-sopranos.jpg\";\nimport TonightShow from \"./Resources/Shows/the-tonight-show.jpg\";\nimport Ugly from \"./Resources/Shows/the-ugly-stepsister.jpg\";\nimport TheTonightShow from \"./Resources/Shows/tonight-show.jpg\";\nimport WarriorQueen from \"./Resources/Shows/worrior-queen.jpg\";\nimport YourName from \"./Resources/Shows/your-name.jpg\";\n\nexport class Content {\n  public static readonly MOVIES = [\n    TwelveAngryMen,\n    AWorkingMan,\n    Ballerina,\n    ClownInACornfield,\n    FinalDestination,\n    ForestGump,\n    GoodFellas,\n    Dragon,\n    Interstellar,\n    JewelThief,\n    KO,\n    LifeIsBeautiful,\n    LiloAndStitch,\n    LordOfTheRings,\n    Mikaela,\n    Minecraft,\n    MissionImpossible,\n    Preditor,\n    PulpFiction,\n    Schindler,\n    Sanurai,\n    ShadowForce,\n    Sinners,\n    TheAccountant,\n    TheAmateur,\n    TheDarkKnight,\n    Godfather,\n    Godfather2,\n    GoodBad,\n    GreenMile,\n    LastStand,\n    Shawshank,\n  ];\n\n  public static readonly SHOWS = [\n    AndyCohen,\n    Anne,\n    Arcane,\n    AttackOnTitan,\n    Avatar,\n    BetterSaul,\n    BreakingBad,\n    Chernobyl,\n    CSI,\n    Dine,\n    FightingSpirit,\n    FionaAndCake,\n    Fieren,\n    Alchemist,\n    GrahamShow,\n    GraveFireflies,\n    GraysAnatomy,\n    HazbinHotel,\n    Hunter,\n    Cordon,\n    LateNight,\n    LawAndOrder,\n    Nova,\n    OnePiece,\n    Parasite,\n    RealTime,\n    RickAndMorty,\n    SpiritedAway,\n    Straw,\n    AmazingRace,\n    TheChosen,\n    DailyShow,\n    Craig,\n    Steve,\n    LateShow,\n    OwlHouse,\n    Sopranos,\n    TonightShow,\n    Ugly,\n    TheTonightShow,\n    WarriorQueen,\n    YourName,\n  ];\n}\n","export default \"__VITE_ASSET__mAm9Mrp$__\"","export default \"__VITE_ASSET__YkTlgl96__\"","export default \"__VITE_ASSET__S$ftdNH8__\"","export default \"__VITE_ASSET__J0uyYgtx__\"","export default \"__VITE_ASSET__Ki99iepB__\"","export default \"__VITE_ASSET__5Lh4$2vR__\"","export default \"__VITE_ASSET__Sb_FPjj$__\"","export default \"__VITE_ASSET__kbDKKufc__\"","export default \"__VITE_ASSET__yTYvaIJW__\"","export default \"__VITE_ASSET__RTI0dWR8__\"","export default \"__VITE_ASSET__btg9PtKg__\"","export default \"__VITE_ASSET__d$quLtl2__\"","export default \"__VITE_ASSET__ucEkF$LF__\"","export default \"__VITE_ASSET__EH05DET6__\"","export default \"__VITE_ASSET__IXUB7h8T__\"","export default \"__VITE_ASSET__3DRF2eEk__\"","export default \"__VITE_ASSET__tEvJKmQM__\"","export default \"__VITE_ASSET__0FzseYl1__\"","export default \"__VITE_ASSET__Q7zFXOZq__\"","export default \"__VITE_ASSET__ISbau953__\"","export default \"__VITE_ASSET__Ua7oBd4T__\"","export default \"__VITE_ASSET__AAZ9GaOS__\"","export default \"__VITE_ASSET__eRz4MG38__\"","export default \"__VITE_ASSET__436mmSBn__\"","export default \"__VITE_ASSET__eIy1n_Fa__\"","export default \"__VITE_ASSET__fHp95PjW__\"","export default \"__VITE_ASSET__k6D04$xf__\"","export default \"__VITE_ASSET__jxhV9v9L__\"","export default \"__VITE_ASSET__tu12DjEV__\"","export default \"__VITE_ASSET__bMxe6yoO__\"","export default \"__VITE_ASSET__TiA2Z69U__\"","export default \"__VITE_ASSET__Lw33_y2D__\"","export default \"__VITE_ASSET__YvEoQnJH__\"","export default \"__VITE_ASSET__OKMqZ8Lk__\"","export default \"__VITE_ASSET__uaMkkI4b__\"","export default \"__VITE_ASSET__SD5uqcfM__\"","export default \"__VITE_ASSET__9os2Tbt6__\"","export default \"__VITE_ASSET__x3z2Bdgf__\"","export default \"__VITE_ASSET__HpthUp1t__\"","export default \"__VITE_ASSET__53lvXWPn__\"","export default \"__VITE_ASSET__QJeFaRgC__\"","export default \"__VITE_ASSET__AjQgKTpn__\"","export default \"__VITE_ASSET__ZaziuAOg__\"","export default \"__VITE_ASSET__6qwUbNsS__\"","export default \"__VITE_ASSET__xe3dvnnu__\"","export default \"__VITE_ASSET__xvVJy93m__\"","export default \"__VITE_ASSET__HVDr_Tf3__\"","export default \"__VITE_ASSET__xiR2GkVT__\"","export default \"__VITE_ASSET__Aeek3pi5__\"","export default \"__VITE_ASSET__rQ67rYE2__\"","export default \"__VITE_ASSET__4i3G8t2r__\"","export default \"__VITE_ASSET__UbyZdwFw__\"","export default \"__VITE_ASSET__S8Pi3efJ__\"","export default \"__VITE_ASSET__hAuokP3i__\"","export default \"__VITE_ASSET__l$IKPc1I__\"","export default \"__VITE_ASSET__hGIIJiw2__\"","export default \"__VITE_ASSET__lh1zKtvu__\"","export default \"__VITE_ASSET__MMXc3yIx__\"","export default \"__VITE_ASSET__8szl_e6g__\"","export default \"__VITE_ASSET__WHrnFifT__\"","export default \"__VITE_ASSET__GIeiyslK__\"","export default \"__VITE_ASSET__KHscTAZH__\"","export default \"__VITE_ASSET__fYzN_rlE__\"","export default \"__VITE_ASSET__IDVhYUji__\"","export default \"__VITE_ASSET__PZJGFr4w__\"","export default \"__VITE_ASSET__ZgyeaxoM__\"","export default \"__VITE_ASSET__2cNQcyfF__\"","export default \"__VITE_ASSET__W4b2yn66__\"","export default \"__VITE_ASSET__fe04yNzY__\"","export default \"__VITE_ASSET__2GlwWj_Z__\"","export default \"__VITE_ASSET__SyedQAsH__\"","export default \"__VITE_ASSET__MZsPjPmk__\"","export default \"__VITE_ASSET__oThBZB5U__\"","export default \"__VITE_ASSET__j7ikr7dD__\"","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        result = wait - timeSinceLastCall;\n\n    return maxing ? nativeMin(result, maxWait - timeSinceLastInvoke) : result;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = debounce;\n","import { LinkedList } from \"@figliolia/data-structures\";\n/**\n * Frame Pooler\n *\n * A queue that distributes tasks between animation\n * frames. Designed to optimize applications using\n * heavy or concurrent usage of request animation\n * frame\n *\n * ```typescript\n * const Pool = new FramePooler(100);\n *\n * Pool.run((time: number) => {\n *  // run expensive DOM update\n * });\n * ```\n */\nexport class FramePooler {\n    maxStackSize;\n    queue;\n    currentFrame = null;\n    constructor(maxStackSize = Infinity) {\n        this.maxStackSize = maxStackSize;\n        this.queue = new LinkedList();\n    }\n    /**\n     * Run\n     *\n     * Executes a task using your Pooler instance\n     * Your task will be executed in the next\n     * available animation frame\n     */\n    run(task) {\n        this.queue.push(task);\n        this.execute();\n    }\n    execute() {\n        if (this.currentFrame !== null) {\n            return;\n        }\n        this.currentFrame = requestAnimationFrame(time => {\n            const now = performance.now();\n            for (let i = 0; i < this.maxStackSize && this.queue.size; i++) {\n                void this.queue.shift()?.(time);\n                const then = performance.now();\n                if (then - now >= 16) {\n                    break;\n                }\n            }\n            this.onPool();\n        });\n    }\n    onPool() {\n        this.currentFrame = null;\n        if (this.queue.size) {\n            this.execute();\n        }\n    }\n}\n","import debounce from \"lodash.debounce\";\nimport { Mesh } from \"three\";\nimport { EventEmitter, Listener } from \"@figliolia/event-emitter\";\nimport { AutoIncrementingID } from \"@figliolia/event-emitter\";\nimport { FramePooler } from \"@figliolia/frame-pooler\";\nimport {\n  IImage,\n  IImageCallback,\n  ImageID,\n  IScrollView,\n  RootNode,\n  WebGLImageStream,\n} from \"./types\";\n/* eslint-disable @typescript-eslint/no-misused-spread */\n\nexport class WebGLImagesController {\n  public rootScrollX = 0;\n  public rootScrollY = 0;\n  public root?: RootNode;\n  public initialized = false;\n  public desiredRoot: RootNode | string;\n  private FramePooler = new FramePooler();\n  public activeImage: ImageID | null = null;\n  public deactivatingImage: ImageID | null = null;\n  private debounceImageEmission = debounce(() => {\n    this.emitEvent(\"images\", this.imageState);\n  }, 50);\n  private imageIDs = new AutoIncrementingID();\n  private imageData = new Map<string, IImage>();\n  private Emitter = new EventEmitter<WebGLImageStream>();\n  private scrollViews = new Map<HTMLElement, IScrollView>();\n  constructor(\n    desiredRoot: RootNode | string = typeof window === \"undefined\"\n      ? \"shim\"\n      : window,\n  ) {\n    this.desiredRoot = desiredRoot;\n  }\n\n  public initialize() {\n    if (this.initialized) {\n      return;\n    }\n    this.initialized = true;\n    this.root = this.findRoot(this.desiredRoot);\n    const { y, x } = this.getScrollCoordinates(this.root);\n    this.rootScrollY = y;\n    this.rootScrollX = x;\n    window.addEventListener(\"resize\", this.onWindowResize);\n    this.root.addEventListener(\"scroll\", this.onScrollRoot);\n  }\n\n  public destroy() {\n    this.Emitter.storage.clear();\n    if (!this.initialized) {\n      return;\n    }\n    this.initialized = false;\n    window.removeEventListener(\"resize\", this.onWindowResize);\n    this.withRoot(root => {\n      root.removeEventListener(\"scroll\", this.onScrollRoot);\n    });\n    for (const [node] of this.scrollViews) {\n      node.removeEventListener(\"scroll\", this.onScrollViewScroll);\n    }\n  }\n\n  public subscribeToImages(callback: IImageCallback) {\n    callback(this.imageState);\n    return this.subscribe(\"images\", callback);\n  }\n\n  public unsubscribeFromImages(ID: string) {\n    return this.unsubscribe(\"images\", ID);\n  }\n\n  public unmountScrollView(node: HTMLElement) {\n    this.scrollViews.delete(node);\n    node.removeEventListener(\"scroll\", this.onScrollViewScroll);\n  }\n\n  public registerImage(image: HTMLImageElement, scrollViews: HTMLDivElement[]) {\n    const ID = this.imageIDs.get() as ImageID;\n    for (const scrollView of scrollViews) {\n      const data =\n        this.scrollViews.get(scrollView) ?? this.registerScrollView(scrollView);\n      data.images.set(ID, image);\n      this.scrollViews.set(scrollView, data);\n    }\n    this.imageData.set(ID, {\n      ID,\n      image,\n      ...(image.getBoundingClientRect().toJSON() as DOMRect),\n    });\n    this.debounceImageEmission();\n    return ID;\n  }\n\n  public unmountImage(ID: ImageID, scrollViews: HTMLDivElement[]) {\n    const cachedImage = this.imageData.get(ID);\n    if (!cachedImage) {\n      return;\n    }\n    for (const scrollView of scrollViews) {\n      const data = this.scrollViews.get(scrollView);\n      if (data) {\n        data.images.delete(cachedImage.ID);\n        this.scrollViews.set(scrollView, data);\n      }\n    }\n    this.imageData.delete(ID);\n    this.debounceImageEmission();\n  }\n\n  public registerMesh(ID: ImageID, mesh: Mesh) {\n    const data = this.imageData.get(ID);\n    if (!data) {\n      return;\n    }\n    data.mesh = mesh;\n    this.imageData.set(ID, data);\n    this.FramePooler.run(() => {\n      this.resizeImage(ID);\n      this.repositionImage(ID);\n    });\n  }\n\n  public disposeMesh(ID: ImageID) {\n    const data = this.imageData.get(ID);\n    if (!data) {\n      return;\n    }\n    data.mesh = undefined;\n    this.imageData.set(ID, data);\n  }\n\n  public emitEvent<K extends Extract<keyof WebGLImageStream, string>>(\n    event: K,\n    payload: WebGLImageStream[K],\n  ) {\n    this.Emitter.emit(event, payload);\n  }\n\n  public subscribe<K extends Extract<keyof WebGLImageStream, string>>(\n    event: K,\n    callback: Listener<WebGLImageStream[K]>,\n  ) {\n    return this.Emitter.on(event, callback);\n  }\n\n  public unsubscribe<K extends Extract<keyof WebGLImageStream, string>>(\n    event: K,\n    ID: string,\n  ) {\n    return this.Emitter.off(event, ID);\n  }\n\n  public activateImage(image: ImageID | null) {\n    if (this.activeImage) {\n      this.deactivatingImage = this.activeImage;\n    }\n    if (image) {\n      this.emitEvent(image, {\n        type: \"activation\",\n        position: { x: 0, y: 0 },\n      });\n    }\n    this.activeImage = image;\n    this.debounceImageEmission();\n  }\n\n  public resetDeactivatedImage() {\n    this.deactivatingImage = null;\n    this.debounceImageEmission();\n  }\n\n  public getImageData(image: ImageID) {\n    return this.imageData.get(image);\n  }\n\n  private registerScrollView(scrollView: HTMLElement) {\n    this.scrollViews.set(scrollView, {\n      scrollY: scrollView.scrollTop,\n      scrollX: scrollView.scrollLeft,\n      images: new Map<string, HTMLImageElement>(),\n    });\n    scrollView.addEventListener(\"scroll\", this.onScrollViewScroll);\n    return this.scrollViews.get(scrollView)!;\n  }\n\n  private findRoot(root: RootNode | string) {\n    if (typeof root === \"string\") {\n      const node = document.querySelector(root);\n      if (!node) {\n        throw new Error('Root node with selector \"${root}\" as not found');\n      }\n      return node as HTMLElement;\n    }\n    return root;\n  }\n\n  private onScrollRoot = () => {\n    this.withRoot(root => {\n      const { x, y } = this.getScrollCoordinates(root);\n      for (const [scrollView, { images }] of this.scrollViews) {\n        if (this.isRootsChild(scrollView)) {\n          this.FramePooler.run(() => {\n            for (const [ID, image] of images) {\n              const data = this.imageData.get(ID);\n              if (!data) {\n                continue;\n              }\n              this.imageData.set(\n                ID,\n                this.mutateImageData(\n                  data,\n                  image.getBoundingClientRect().toJSON() as DOMRect,\n                ),\n              );\n              this.repositionImage(ID);\n            }\n          });\n        }\n      }\n      this.rootScrollY = y;\n      this.rootScrollX = x;\n    });\n  };\n\n  private onScrollViewScroll = (e: Event) => {\n    const target = e.target as HTMLElement;\n    const data = this.scrollViews.get(target);\n    if (!data) {\n      return;\n    }\n    const { scrollY, scrollX, images } = data;\n    const { scrollLeft, scrollTop } = target;\n    const deltaX = scrollX - scrollLeft;\n    const deltaY = scrollY - scrollTop;\n    if (deltaX !== 0 || deltaY !== 0) {\n      this.FramePooler.run(() => {\n        for (const [ID] of images) {\n          const data = this.imageData.get(ID);\n          if (data?.mesh) {\n            data.mesh.position.x += deltaX;\n            data.mesh.position.y += deltaY;\n          }\n        }\n      });\n      data.scrollX = scrollLeft;\n      data.scrollY = scrollTop;\n      this.scrollViews.set(target, data);\n    }\n  };\n\n  private onWindowResize = () => {\n    this.FramePooler.run(() => {\n      for (const [ID, data] of this.imageData) {\n        this.imageData.set(\n          ID,\n          this.mutateImageData(\n            data,\n            data.image.getBoundingClientRect().toJSON() as DOMRect,\n          ),\n        );\n        this.FramePooler.run(() => {\n          this.resizeImage(ID);\n          this.repositionImage(ID);\n        });\n      }\n    });\n  };\n\n  private resizeImage(ID: string) {\n    const data = this.imageData.get(ID);\n    if (!data) {\n      return;\n    }\n    const { width, height, mesh } = data;\n    if (mesh) {\n      mesh.scale.set(width, height, 1);\n    }\n  }\n\n  private repositionImage(ID: string) {\n    const data = this.imageData.get(ID);\n    if (!data) {\n      return;\n    }\n    const { width, height, left, top, mesh } = data;\n    if (!mesh) {\n      return;\n    }\n    const XPosition = left - window.innerWidth / 2 + width / 2;\n    const YPosition = -top + window.innerHeight / 2 - height / 2;\n    mesh.position.set(XPosition, YPosition, 1);\n  }\n\n  private getScrollCoordinates(node: RootNode) {\n    if (node === window) {\n      return { x: node.scrollX, y: node.scrollY };\n    }\n    if (node instanceof HTMLElement) {\n      return { x: node.scrollLeft, y: node.scrollTop };\n    }\n    return { x: 0, y: 0 };\n  }\n\n  private withRoot(fn: (root: RootNode) => void | Promise<void>) {\n    if (this.root) {\n      void fn(this.root);\n    }\n  }\n\n  private isRootsChild(node: HTMLElement) {\n    if (!this.root) {\n      return false;\n    }\n    if (this.root === window) {\n      return true;\n    }\n    if (this.root instanceof HTMLElement) {\n      return this.root.contains(node);\n    }\n    return false;\n  }\n\n  private get imageState() {\n    return {\n      activeImage: this.activeImage,\n      deactivatingImage: this.deactivatingImage,\n      images: Array.from(this.imageData.values()),\n    };\n  }\n\n  private mutateImageData(data: IImage, update: Partial<IImage>) {\n    for (const key in update) {\n      const K = key as keyof IImage;\n      if (update[K] !== undefined) {\n        // @ts-ignore\n        data[K] = update[K];\n      }\n    }\n    return data;\n  }\n}\n","import { createContext, useEffect, useMemo } from \"react\";\nimport { OptionalChildren } from \"Tools/Types\";\nimport { WebGLImagesController } from \"./Controller\";\n\nexport const WebGLImagesContext = createContext<WebGLImagesController>(\n  new WebGLImagesController(\"shim\"),\n);\n\nexport const WebGLImagesContextProvider = ({ children, root }: Props) => {\n  const controller = useMemo(() => new WebGLImagesController(root), [root]);\n\n  useEffect(() => {\n    controller.initialize();\n    return () => {\n      controller.destroy();\n    };\n  }, [controller]);\n\n  return <WebGLImagesContext value={controller}>{children}</WebGLImagesContext>;\n};\n\ninterface Props extends OptionalChildren {\n  root?: HTMLElement | string;\n}\n","import { useContext, useEffect, useState } from \"react\";\nimport { WebGLImagesContext } from \"./Provider\";\n\nexport const useActiveImage = () => {\n  const [imageActive, setImageActive] = useState(false);\n  const controller = useContext(WebGLImagesContext);\n\n  useEffect(() => {\n    const ID = controller.subscribeToImages(({ activeImage }) => {\n      setImageActive(!!activeImage);\n    });\n    return () => {\n      controller.unsubscribeFromImages(ID);\n    };\n  }, [controller]);\n\n  return imageActive;\n};\n","import { createContext, RefObject, use, useMemo } from \"react\";\nimport { OptionalChildren } from \"Tools/Types\";\n\nexport const WebGLContentListContext = createContext<ScrollViewRef[]>([]);\n\nexport const WebGLContentListContextProvider = ({\n  scrollView,\n  children,\n}: Props) => {\n  const parents = use(WebGLContentListContext);\n  const value = useMemo(() => [...parents, scrollView], [parents, scrollView]);\n  return (\n    <WebGLContentListContext value={value}>{children}</WebGLContentListContext>\n  );\n};\n\ninterface Props extends OptionalChildren {\n  scrollView: ScrollViewRef;\n}\n\ntype ScrollViewRef = RefObject<HTMLDivElement | null>;\n","import { ForwardedRef, RefCallback, RefObject, useCallback } from \"react\";\n\nexport const useMergedRefs = <T>(\n  ...args: (RefObject<T> | RefCallback<T> | ForwardedRef<T> | undefined)[]\n) => {\n  return useCallback(\n    (instance: T | null) => {\n      for (const ref of args) {\n        if (typeof ref === \"function\") {\n          ref(instance);\n        } else if (ref) {\n          ref.current = instance;\n        }\n      }\n    },\n    [args],\n  );\n};\n","import { SVGProps } from \"react\";\n\nexport const LeftChevron = (props: SVGProps<SVGSVGElement>) => {\n  return (\n    <svg\n      viewBox=\"0 0 24 24\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      {...props}>\n      <path\n        fillRule=\"evenodd\"\n        clipRule=\"evenodd\"\n        d=\"M15.7071 4.29289C16.0976 4.68342 16.0976 5.31658 15.7071 5.70711L9.41421 12L15.7071 18.2929C16.0976 18.6834 16.0976 19.3166 15.7071 19.7071C15.3166 20.0976 14.6834 20.0976 14.2929 19.7071L7.29289 12.7071C7.10536 12.5196 7 12.2652 7 12C7 11.7348 7.10536 11.4804 7.29289 11.2929L14.2929 4.29289C14.6834 3.90237 15.3166 3.90237 15.7071 4.29289Z\"\n      />\n    </svg>\n  );\n};\n","import { SVGProps } from \"react\";\n\nexport const RightChevron = (props: SVGProps<SVGSVGElement>) => {\n  return (\n    <svg\n      viewBox=\"0 0 24 24\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      {...props}>\n      <path\n        fillRule=\"evenodd\"\n        clipRule=\"evenodd\"\n        d=\"M8.29289 4.29289C8.68342 3.90237 9.31658 3.90237 9.70711 4.29289L16.7071 11.2929C17.0976 11.6834 17.0976 12.3166 16.7071 12.7071L9.70711 19.7071C9.31658 20.0976 8.68342 20.0976 8.29289 19.7071C7.90237 19.3166 7.90237 18.6834 8.29289 18.2929L14.5858 12L8.29289 5.70711C7.90237 5.31658 7.90237 4.68342 8.29289 4.29289Z\"\n      />\n    </svg>\n  );\n};\n","import {\n  ForwardedRef,\n  forwardRef,\n  ReactNode,\n  useCallback,\n  useId,\n  useRef,\n} from \"react\";\nimport { useClassNames } from \"@figliolia/classnames\";\nimport { OptionalChildren } from \"@figliolia/react-lazy\";\nimport { useMergedRefs } from \"Hooks/useMergedRefs\";\nimport { LeftChevron } from \"Icons/LeftChevron\";\nimport { RightChevron } from \"Icons/RightChevron\";\nimport { Callback } from \"Tools/Types\";\nimport \"./styles.scss\";\n\nexport const ContentList = forwardRef(function ContentList(\n  {\n    title,\n    onNext,\n    children,\n    className,\n    onPrevious,\n    \"aria-label\": ariaLabel,\n  }: IContentList,\n  ref: ForwardedRef<HTMLDivElement>,\n) {\n  const scrollViewID = useId();\n  const scrollView = useRef<HTMLDivElement>(null);\n  const classes = useClassNames(\"content-list\", className);\n\n  const cacheRef = useMergedRefs(scrollView, ref);\n\n  const withScrollView = useCallback(\n    (callback: (view: HTMLDivElement) => void) => {\n      if (scrollView.current) {\n        callback(scrollView.current);\n        return;\n      }\n    },\n    [],\n  );\n\n  const scrollViewDimensions = useCallback(() => {\n    if (!scrollView.current) {\n      return { width: 0, scrollWidth: 0, scrollLeft: 0 };\n    }\n    const { offsetWidth, scrollWidth, scrollLeft } = scrollView.current;\n    return { width: offsetWidth, scrollWidth, scrollLeft };\n  }, []);\n\n  const previousPage = useCallback(() => {\n    const { width, scrollLeft } = scrollViewDimensions();\n    withScrollView(view => {\n      if (scrollLeft > 0) {\n        view.scrollBy({ left: -width, behavior: \"smooth\" });\n        onPrevious?.();\n      }\n    });\n  }, [onPrevious, scrollViewDimensions, withScrollView]);\n\n  const nextPage = useCallback(() => {\n    const { width, scrollWidth, scrollLeft } = scrollViewDimensions();\n    withScrollView(view => {\n      if (scrollLeft < scrollWidth) {\n        view.scrollBy({ left: width, behavior: \"smooth\" });\n        onNext?.();\n      }\n    });\n  }, [withScrollView, scrollViewDimensions, onNext]);\n\n  return (\n    <section className={classes}>\n      <h2>{title}</h2>\n      <div className=\"content-list__content\">\n        <button\n          onClick={previousPage}\n          className=\"content-list__scroller previous\"\n          aria-controls={scrollViewID}\n          aria-label=\"Previous Page\">\n          <LeftChevron aria-hidden />\n        </button>\n        <div\n          ref={cacheRef}\n          id={scrollViewID}\n          className=\"content-list__items\"\n          aria-label={ariaLabel}\n          aria-roledescription=\"carousel\">\n          {children}\n        </div>\n        <button\n          onClick={nextPage}\n          className=\"content-list__scroller next\"\n          aria-controls={scrollViewID}\n          aria-label=\"Next Page\">\n          <RightChevron aria-hidden />\n        </button>\n      </div>\n    </section>\n  );\n});\n\nexport interface IContentList extends OptionalChildren {\n  title: ReactNode;\n  className?: string;\n  \"aria-label\": string;\n  onPrevious?: Callback;\n  onNext?: Callback;\n}\n","import { use, useEffect, useRef } from \"react\";\nimport { ContentList, IContentList } from \"3D/Netflix/ContentList\";\nimport { WebGLImagesContext } from \"../Context\";\nimport { WebGLContentListContextProvider } from \"./Context\";\n\nexport const WebGLContentList = (props: IContentList) => {\n  const controller = use(WebGLImagesContext);\n  const scrollViewRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    if (!scrollViewRef.current) {\n      return;\n    }\n    const scrollView = scrollViewRef.current;\n    return () => {\n      controller.unmountScrollView(scrollView);\n    };\n  }, [controller]);\n\n  return (\n    <WebGLContentListContextProvider scrollView={scrollViewRef}>\n      <ContentList ref={scrollViewRef} {...props} />\n    </WebGLContentListContextProvider>\n  );\n};\n","import { useCallback, useContext } from \"react\";\nimport { useClassNames } from \"@figliolia/classnames\";\nimport { PropLess } from \"Tools/Types\";\nimport { useActiveImage, WebGLImagesContext } from \"../../Context\";\nimport \"./styles.scss\";\n\nexport const BackButton = (_: PropLess) => {\n  const visible = useActiveImage();\n  const controller = useContext(WebGLImagesContext);\n\n  const onClick = useCallback(() => {\n    controller.activateImage(null);\n  }, [controller]);\n\n  const classes = useClassNames(\"back-button\", { visible });\n\n  return (\n    <button onClick={onClick} className={classes}>\n      Back\n    </button>\n  );\n};\n","import { useClassNames } from \"@figliolia/classnames\";\nimport { PropLess } from \"Tools/Types\";\nimport { useActiveImage } from \"../../Context\";\nimport \"./styles.scss\";\n\nexport const BackDrop = (_: PropLess) => {\n  const visible = useActiveImage();\n  const classes = useClassNames(\"backdrop\", { visible });\n  return <div className={classes} />;\n};\n","import { useMemo } from \"react\";\nimport { PerspectiveCamera } from \"@react-three/drei\";\nimport { selectHeight, useScreen } from \"State/Screen\";\nimport { PropLess } from \"Tools/Types\";\n\nconst DISTANCE = 1000;\n\nexport const Camera = (_: PropLess) => {\n  const height = useScreen(selectHeight);\n\n  const fov = useMemo(\n    () => 2 * Math.atan(height / 2 / DISTANCE) * (180 / Math.PI),\n    [height],\n  );\n\n  return <PerspectiveCamera fov={fov} makeDefault position-z={DISTANCE} />;\n};\n","import {\n  Color,\n  Matrix3,\n  Matrix4,\n  Quaternion,\n  Texture,\n  TypedArray,\n  Vector2,\n  Vector3,\n  Vector4,\n} from \"three\";\nimport { MeshBVHUniformStruct } from \"three-mesh-bvh\";\nimport { shaderMaterial } from \"@react-three/drei\";\nimport fragmentShader from \"./fragment.glsl?raw\";\nimport vertexShader from \"./vertex.glsl?raw\";\n\nexport const createImageMaterial = <T extends Record<string, UniformValue>>(\n  unforms: T,\n  vertex: string = vertexShader,\n  fragment: string = fragmentShader,\n) =>\n  shaderMaterial(\n    {\n      color: new Color(\"white\"),\n      scale: new Vector2(1, 1),\n      imageBounds: new Vector2(1, 1),\n      resolution: 1024,\n      map: null,\n      zoom: 1,\n      radius: 0,\n      grayscale: 0,\n      transparent: true,\n      opacity: 1,\n      ...unforms,\n    },\n    vertex,\n    fragment,\n  );\n\nexport type UniformValue =\n  | Texture\n  | TypedArray\n  | Matrix4\n  | Matrix3\n  | Quaternion\n  | Vector4\n  | Vector3\n  | Vector2\n  | Color\n  | MeshBVHUniformStruct\n  | number\n  | boolean\n  | null;\n","export default \"varying vec2 vUv;\\nvarying vec2 vPos;\\n\\nvoid main() {\\n  gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4(position, 1.);\\n  vUv = uv;\\n  vPos = position.xy;\\n}\"","export default \"varying vec2 vUv;\\nvarying vec2 vPos;\\nuniform vec2 scale;\\nuniform vec2 imageBounds;\\nuniform float resolution;\\nuniform vec3 color;\\nuniform sampler2D map;\\nuniform float radius;\\nuniform float zoom;\\nuniform float grayscale;\\nuniform float opacity;\\nconst vec3 luma = vec3(.299, 0.587, 0.114);\\n\\nvec4 toGrayscale(vec4 color, float intensity) {\\n  return vec4(mix(color.rgb, vec3(dot(color.rgb, luma)), intensity), color.a);\\n}\\nvec2 aspect(vec2 size) {\\n  return size / min(size.x, size.y);\\n}\\n\\nconst float PI = 3.14159265;\\n  \\n// from https://iquilezles.org/articles/distfunctions\\nfloat udRoundBox( vec2 p, vec2 b, float r ) {\\n  return length(max(abs(p)-b+r,0.0))-r;\\n}\\n\\nvoid main() {\\n  vec2 s = aspect(scale);\\n  vec2 i = aspect(imageBounds);\\n  float rs = s.x / s.y;\\n  float ri = i.x / i.y;\\n  vec2 new = rs < ri ? vec2(i.x * s.y / i.y, s.y) : vec2(s.x, i.y * s.x / i.x);\\n  vec2 offset = (rs < ri ? vec2((new.x - s.x) / 2.0, 0.0) : vec2(0.0, (new.y - s.y) / 2.0)) / new;\\n  vec2 uv = vUv * s / new + offset;\\n  vec2 zUv = (uv - vec2(0.5, 0.5)) / zoom + vec2(0.5, 0.5);\\n\\n  vec2 res = vec2(scale * resolution);\\n  vec2 halfRes = 0.5 * res;\\n  float b = udRoundBox(vUv.xy * res - halfRes, halfRes, resolution * radius);    \\n  vec3 a = mix(vec3(1.0,0.0,0.0), vec3(0.0,0.0,0.0), smoothstep(0.0, 1.0, b));\\n  gl_FragColor = toGrayscale(texture2D(map, zUv) * vec4(color, opacity * a), grayscale);\\n  \\n  #include <tonemapping_fragment>\\n  #include <colorspace_fragment>\\n}\"","import * as THREE from 'three';\n\nfunction shaderMaterial(uniforms, vertexShader, fragmentShader, onInit) {\n  var _Class;\n  return _Class = class extends THREE.ShaderMaterial {\n    constructor(parameters) {\n      super({\n        vertexShader,\n        fragmentShader,\n        ...parameters\n      });\n      for (const key in uniforms) {\n        this.uniforms[key] = new THREE.Uniform(uniforms[key]);\n        Object.defineProperty(this, key, {\n          get() {\n            return this.uniforms[key].value;\n          },\n          set(value) {\n            this.uniforms[key].value = value;\n          }\n        });\n      }\n      this.uniforms = THREE.UniformsUtils.clone(this.uniforms);\n      onInit == null || onInit(this);\n    }\n  }, _Class.key = THREE.MathUtils.generateUUID(), _Class;\n}\n\nexport { shaderMaterial };\n","import { Mesh, ShaderMaterial, Vector2 } from \"three\";\nimport {\n  IGeometry,\n  IMaterial,\n  WebGLImageGenerator,\n} from \"../WebGLImageGenerator\";\nimport fragmentShader from \"./fragment.glsl?raw\";\nimport vertexShader from \"./vertex.glsl?raw\";\n\nexport const DEFAULT_MOUSE_COORDINATES = new Vector2(0.5, 0.5);\n\nexport const GLWaveImage = WebGLImageGenerator(\n  {\n    uTime: 0,\n    uOpacity: 1,\n    uHoverState: 0,\n    uXPointerFromCenter: 0,\n    uMouseCoordinates: DEFAULT_MOUSE_COORDINATES.clone(),\n  },\n  vertexShader,\n  fragmentShader,\n);\n\nexport type IWaveShaderMaterial = ShaderMaterial & {\n  uTime: number;\n  uOpacity: number;\n  uHoverState: number;\n  uMouseCoordinates: Vector2;\n  uXPointerFromCenter: number;\n};\n\nexport type WaveImageMesh = Mesh<IGeometry, IMaterial & IWaveShaderMaterial>;\n","import {\n  ForwardedRef,\n  forwardRef,\n  useLayoutEffect,\n  useMemo,\n  useRef,\n} from \"react\";\nimport { BufferGeometry, Color, Mesh, ShaderMaterial, Side } from \"three\";\nimport { useTexture } from \"@react-three/drei\";\nimport { extend, ThreeElements, useThree } from \"@react-three/fiber\";\nimport { useMergedRefs } from \"Hooks/useMergedRefs\";\nimport { createImageMaterial, UniformValue } from \"./createImageMaterial\";\n/* eslint-disable @typescript-eslint/no-unsafe-return */\n\nexport const WebGLImageGenerator = <T extends Record<string, UniformValue>>(\n  ...args: Parameters<typeof createImageMaterial<T>>\n) => {\n  const material = createImageMaterial(...args);\n  const WebGLImage = forwardRef(function WebGLImage(\n    {\n      url,\n      color,\n      side,\n      segments = 1,\n      zoom = 1,\n      grayscale = 0,\n      opacity = 1,\n      radius = 0,\n      toneMapped,\n      transparent,\n      scale = [1, 1],\n      ...props\n    }: WebGLImageProps,\n    forwardedRef: ForwardedRef<Mesh<IGeometry, IMaterial>>,\n  ) {\n    extend({ ImageMaterial: material });\n    const [width, height] = scale;\n    const texture = useTexture(url);\n    const size = useThree(state => state.size);\n    const mesh = useRef<Mesh<IGeometry, IMaterial>>(null);\n    const cacheRef = useMergedRefs(mesh, forwardedRef);\n    const imageBounds = useMemo(\n      () => [texture.image.width, texture.image.height],\n      [texture],\n    );\n    const resolution = useMemo(() => Math.max(size.width, size.height), [size]);\n\n    useLayoutEffect(() => {\n      if (!mesh.current) {\n        return;\n      }\n      if (mesh.current.geometry.parameters) {\n        const { width: pWidth, height: pHeight } =\n          mesh.current.geometry.parameters;\n        mesh.current.material.scale.set(width * pWidth, height * pHeight);\n      }\n    }, [width, height]);\n\n    return (\n      <mesh ref={cacheRef} {...props} scale={[width, height, 1]}>\n        <planeGeometry args={[1, 1, segments, segments]} />\n        <imageMaterial\n          color={color}\n          map={texture}\n          zoom={zoom}\n          grayscale={grayscale}\n          opacity={opacity}\n          scale={scale}\n          imageBounds={imageBounds}\n          resolution={resolution}\n          radius={radius}\n          toneMapped={toneMapped}\n          transparent={transparent}\n          side={side}\n        />\n      </mesh>\n    );\n  });\n  return WebGLImage;\n};\n\nexport interface WebGLImageProps\n  extends Omit<ThreeElements[\"mesh\"], \"scale\" | \"children\"> {\n  segments?: number;\n  scale?: [number, number];\n  color?: Color;\n  zoom?: number;\n  radius?: number;\n  grayscale?: number;\n  toneMapped?: boolean;\n  transparent?: boolean;\n  opacity?: number;\n  side?: Side;\n  url: string;\n}\n\nexport interface IGeometry extends BufferGeometry {\n  parameters?: { width: number; height: number };\n}\n\nexport interface IMaterial extends ShaderMaterial {\n  scale: {\n    set: (x: number, y: number) => void;\n  };\n}\n","export default \"varying vec2 vUv;\\nuniform float uTime;\\nuniform vec2 uHover;\\nuniform float uXPointerFromCenter;\\nuniform vec2 uMouseCoordinates;\\nuniform float uHoverState;\\nvarying float vPointerDistance;\\nvarying float vNoise;\\n\\nvoid main() {\\n  vec3 newPosition = position;\\n  \\n  vPointerDistance = distance(uv, uMouseCoordinates);\\n\\n  newPosition.z += uHoverState * 10. * sin((1. - vPointerDistance) * 5. + uTime * 5.);\\n\\n  newPosition.x += uXPointerFromCenter / 30.;\\n\\n  gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4(newPosition, 1.);\\n\\n  vNoise = vPointerDistance * uHoverState * 1.5;\\n\\n  vUv = uv;\\n} \"","export default \"varying vec2 vUv;\\nuniform vec2 scale;\\nuniform vec2 imageBounds;\\nuniform float resolution;\\nuniform vec3 color;\\nuniform sampler2D map;\\nuniform float radius;\\nuniform float zoom;\\nuniform float grayscale;\\nuniform float opacity;\\nvarying float vPointerDistance;\\nvarying float vNoise;\\nuniform float uHoverState;\\nuniform float uOpacity;\\n\\nconst vec3 luma = vec3(.299, 0.587, 0.114);\\n\\nvec4 toGrayscale(vec4 color, float intensity) {\\n  return vec4(mix(color.rgb, vec3(dot(color.rgb, luma)), intensity), color.a);\\n}\\nvec2 aspect(vec2 size) {\\n  return size / min(size.x, size.y);\\n}\\n\\nconst float PI = 3.14159265;\\n  \\n// from https://iquilezles.org/articles/distfunctions\\nfloat udRoundBox( vec2 p, vec2 b, float r ) {\\n  return length(max(abs(p)-b+r,0.0))-r;\\n}\\n\\nvoid main() {\\n  vec2 s = aspect(scale);\\n  vec2 i = aspect(imageBounds);\\n  float rs = s.x / s.y;\\n  float ri = i.x / i.y;\\n  vec2 new = rs < ri ? vec2(i.x * s.y / i.y, s.y) : vec2(s.x, i.y * s.x / i.x);\\n  vec2 offset = (rs < ri ? vec2((new.x - s.x) / 2.0, 0.0) : vec2(0.0, (new.y - s.y) / 2.0)) / new;\\n  vec2 uv = vUv * s / new + offset;\\n  vec2 zUv = (uv - vec2(0.5, 0.5)) / zoom + vec2(0.5, 0.5);\\n\\n  vec2 res = vec2(scale * resolution);\\n  vec2 halfRes = 0.5 * res;\\n  float b = udRoundBox(vUv.xy * res - halfRes, halfRes, resolution * radius);    \\n  vec3 a = mix(vec3(1.0,0.0,0.0), vec3(0.0,0.0,0.0), smoothstep(0.0, 1.0, b));\\n\\n  vec4 imageTexture = toGrayscale(texture2D(map, zUv) * vec4(color, opacity * a), grayscale);\\n\\n  gl_FragColor = imageTexture;\\n  gl_FragColor.rgb += 0.1 * vec3(vNoise);\\n  gl_FragColor.a = uOpacity;\\n\\n  #include <tonemapping_fragment>\\n  #include <colorspace_fragment>\\n}\"","import { Material, Mesh } from \"three\";\nimport { Callback } from \"./Types\";\n/* eslint-disable @typescript-eslint/no-unsafe-return */\n/* eslint-disable @typescript-eslint/no-confusing-void-expression */\n\nexport class Geometry<T extends Mesh = Mesh, M extends Material = Material> {\n  public mesh: T | null = null;\n\n  public cacheReference = (mesh: T) => {\n    this.mesh = mesh;\n  };\n\n  public get meshXY() {\n    return this.withMesh(mesh => {\n      const { x, y } = mesh.position;\n      return { \"position-x\": x, \"position-y\": y };\n    });\n  }\n\n  public withMesh<F extends Callback<[T], any>>(fn: F) {\n    if (!this.mesh) {\n      return;\n    }\n    return fn(this.mesh) as ReturnType<F>;\n  }\n\n  public withMaterial<F extends Callback<[M]>>(fn: F) {\n    return this.withMesh(mesh => {\n      return fn(mesh.material as M) as ReturnType<F>;\n    });\n  }\n}\n","import gsap from \"gsap\";\nimport { Vector2 } from \"three\";\nimport {\n  DEFAULT_MOUSE_COORDINATES,\n  IWaveShaderMaterial,\n  WaveImageMesh,\n} from \"3D/Netflix/GLWaveImage\";\nimport { IPointerEvent } from \"3D/Netflix/WebGLImages/Context\";\nimport { Geometry } from \"Tools/Geometry\";\nimport { Point } from \"Tools/Types\";\n/* eslint-disable @typescript-eslint/no-misused-spread */\n\nexport class GeometryController extends Geometry<\n  WaveImageMesh,\n  IWaveShaderMaterial\n> {\n  public get meshPosition() {\n    if (this.mesh) {\n      const { x, y } = this.mesh.position;\n      return { \"position-x\": x, \"position-y\": y };\n    }\n  }\n\n  public onPointer = ({ type, position }: IPointerEvent) => {\n    switch (type) {\n      case \"pointer-enter\": {\n        this.onPointerEnter(position);\n        return;\n      }\n      case \"pointer-move\": {\n        this.onPointerMove(position);\n        return;\n      }\n      case \"pointer-leave\": {\n        this.onPointerLeave();\n        return;\n      }\n      case \"activation\": {\n        this.fadeMesh();\n        return;\n      }\n      case \"deactivation\": {\n        this.revealMesh();\n        return;\n      }\n      default:\n        return;\n    }\n  };\n\n  private onPointerEnter({ x, y }: Point) {\n    this.withMaterial(material => {\n      this.transitionUniforms([[material.uniforms.uHoverState, 1]]);\n      material.uniforms.uMouseCoordinates.value = new Vector2(x, y);\n    });\n  }\n\n  private onPointerMove(position: Point) {\n    const { x, y } = this.pointerEventFromCenter(position);\n    this.withMaterial(material => {\n      this.transitionVector2(\n        material.uniforms.uMouseCoordinates.value as Vector2,\n        new Vector2(position.x, position.y),\n        0.25,\n      );\n      this.transitionUniforms([[material.uniforms.uXPointerFromCenter, x]]);\n    });\n    this.withMesh(mesh => {\n      this.rotateMesh(mesh, x * 0.1, y * -0.1);\n    });\n  }\n\n  private onPointerLeave() {\n    this.withMaterial(material => {\n      this.transitionUniforms([\n        [material.uniforms.uHoverState, 0],\n        [material.uniforms.uXPointerFromCenter, 0],\n      ]);\n      this.transitionVector2(\n        material.uniforms.uMouseCoordinates.value as Vector2,\n        DEFAULT_MOUSE_COORDINATES,\n        0.25,\n      );\n    });\n    this.withMesh(mesh => {\n      this.rotateMesh(mesh, 0, 0);\n    });\n  }\n\n  private pointerEventFromCenter(position: Point) {\n    return {\n      x: this.pointerFromCenter(position.x),\n      y: this.pointerFromCenter(position.y),\n    };\n  }\n\n  private pointerFromCenter(uv: number) {\n    return uv <= 0.5 ? 0.5 - uv : -(uv - 0.5);\n  }\n\n  private transitionUniforms(transitions: [{ value: number }, number][]) {\n    for (const [property, value] of transitions) {\n      gsap.to(property, {\n        duration: 0.5,\n        value,\n      });\n    }\n  }\n\n  private transitionVector2(uniform: Vector2, value: Vector2, duration = 0.5) {\n    gsap.to(uniform, {\n      ...value,\n      duration,\n    });\n  }\n\n  private rotateMesh(mesh: WaveImageMesh, x: number, y: number) {\n    gsap.to(mesh.rotation, {\n      duration: 0.5,\n      y: x,\n      x: y,\n    });\n  }\n\n  private fadeMesh() {\n    this.withMaterial(material => {\n      gsap.to(material.uniforms.uOpacity, {\n        duration: 0.2,\n        delay: 0.1,\n        value: 0,\n      });\n    });\n  }\n\n  private revealMesh() {\n    this.withMaterial(material => {\n      gsap.to(material.uniforms.uOpacity, {\n        duration: 0.1,\n        value: 1,\n      });\n    });\n  }\n}\n","import { use, useEffect } from \"react\";\nimport { useController } from \"@figliolia/react-hooks\";\nimport { useFrame } from \"@react-three/fiber\";\nimport { GLWaveImage } from \"3D/Netflix/GLWaveImage\";\nimport { ImageID, WebGLImagesContext } from \"3D/Netflix/WebGLImages/Context\";\nimport { GeometryController } from \"./Geometry\";\n\nexport const WebGLImageMesh = ({ ID, image, width, height }: Props) => {\n  const controller = use(WebGLImagesContext);\n  const geometry = useController(new GeometryController());\n\n  useEffect(() => {\n    if (!geometry.mesh) {\n      return;\n    }\n    controller.registerMesh(ID, geometry.mesh);\n    const listenerID = controller.subscribe(ID, geometry.onPointer);\n    return () => {\n      controller.disposeMesh(ID);\n      controller.unsubscribe(ID, listenerID);\n    };\n  }, [controller, geometry, ID]);\n\n  useFrame((_, delta) => {\n    geometry.withMaterial(material => {\n      material.uniforms.uTime.value =\n        (material.uniforms.uTime.value as number) + delta;\n    });\n  });\n\n  return (\n    <GLWaveImage\n      position-z={0}\n      scale={[width, height]}\n      ref={geometry.cacheReference}\n      url={`${image.src}?bypass-cors-please`}\n    />\n  );\n};\n\nexport interface Props {\n  ID: ImageID;\n  image: HTMLImageElement;\n  width: number;\n  height: number;\n}\n","import { Fragment, use, useEffect, useState } from \"react\";\nimport { PropLess } from \"Tools/Types\";\nimport { IImage, WebGLImagesContext } from \"../../Context\";\nimport { WebGLImageMesh } from \"./WebGLImageMesh\";\n\nexport const WebGLImageRenderer = (_: PropLess) => {\n  const controller = use(WebGLImagesContext);\n  const [state, setState] = useState<IImage[]>([]);\n\n  useEffect(() => {\n    const ID = controller.subscribeToImages(({ images }) => {\n      setState(images);\n    });\n    return () => {\n      controller.unsubscribeFromImages(ID);\n    };\n  }, [controller]);\n\n  return (\n    <Fragment>\n      {state.map(({ width, height, ID, image }) => (\n        <WebGLImageMesh\n          ID={ID}\n          key={ID}\n          image={image}\n          width={width}\n          height={height}\n        />\n      ))}\n    </Fragment>\n  );\n};\n","import gsap from \"gsap\";\nimport { degToRad } from \"three/src/math/MathUtils.js\";\nimport { IWaveShaderMaterial, WaveImageMesh } from \"3D/Netflix/GLWaveImage\";\nimport { Geometry } from \"Tools/Geometry\";\nimport { Callback } from \"Tools/Types\";\n\nexport class GeometryController extends Geometry<\n  WaveImageMesh,\n  IWaveShaderMaterial\n> {\n  public activate(positionX = 0) {\n    this.withMesh(mesh => {\n      const { x, y } = mesh.scale;\n      let xSize: number;\n      let ySize: number;\n      if (window.innerWidth < window.innerHeight) {\n        xSize = window.innerWidth;\n        ySize = (xSize * y) / x;\n      } else {\n        ySize = window.innerHeight;\n        xSize = (ySize * x) / y;\n      }\n      gsap\n        .timeline()\n        .to(mesh.scale, {\n          y: ySize,\n          x: xSize,\n          duration: 1,\n          ease: \"power2.inOut\",\n        })\n        .to(\n          mesh.position,\n          {\n            x: 0,\n            y: 0,\n            duration: 1,\n            ease: \"power2.inOut\",\n          },\n          0,\n        )\n        .to(\n          mesh.rotation,\n          {\n            y: this.rotateBy(positionX, true),\n            duration: 0.3,\n          },\n          0.1,\n        )\n        .to(\n          mesh.rotation,\n          {\n            y: 0,\n            duration: 0.6,\n          },\n          0.4,\n        );\n    });\n  }\n\n  public deactivate({\n    width,\n    height,\n    positionX = 0,\n    positionY = 0,\n    onTransitionComplete,\n  }: IOriginalPosition) {\n    this.withMesh(mesh => {\n      gsap\n        .timeline({\n          // @ts-ignore\n          onComplete: onTransitionComplete,\n        })\n        .to(mesh.scale, {\n          x: width,\n          y: height,\n          duration: 1,\n          ease: \"power2.inOut\",\n        })\n        .to(\n          mesh.position,\n          {\n            x: positionX,\n            y: positionY,\n            z: 1,\n            duration: 1,\n            ease: \"power2.inOut\",\n          },\n          0,\n        )\n        .to(\n          mesh.rotation,\n          {\n            y: this.rotateBy(positionX, true),\n            duration: 0.4,\n          },\n          0.1,\n        )\n        .to(\n          mesh.rotation,\n          {\n            y: 0,\n            duration: 0.5,\n          },\n          0.5,\n        );\n    });\n  }\n\n  private rotateBy(positionX: number, forward: boolean) {\n    return degToRad(\n      (50 * positionX) / (window.innerWidth / (2 * (forward ? -1 : 1))),\n    );\n  }\n}\n\nexport interface IOriginalPosition {\n  width: number;\n  height: number;\n  positionX?: number;\n  positionY?: number;\n  onTransitionComplete: Callback;\n}\n","import { use, useEffect, useRef } from \"react\";\nimport { useController } from \"@figliolia/react-hooks\";\nimport { GLWaveImage } from \"3D/Netflix/GLWaveImage\";\nimport { WebGLImagesContext } from \"3D/Netflix/WebGLImages/Context\";\nimport type { Props as WebGLImageProps } from \"../index\";\nimport { GeometryController } from \"./Geometry\";\n\nexport const WebGLTransitionElement = ({\n  ID,\n  image,\n  width,\n  height,\n  activating,\n  deactivating,\n  ...rest\n}: Props) => {\n  const controller = use(WebGLImagesContext);\n  const geometry = useController(new GeometryController());\n  const cachedImage = useRef(controller.getImageData(ID));\n\n  useEffect(() => {\n    const { x, y } = cachedImage.current?.mesh?.position ?? { x: 0, y: 0 };\n    if (activating) {\n      geometry.activate(x);\n    } else if (deactivating) {\n      geometry.deactivate({\n        width,\n        height,\n        positionX: x,\n        positionY: y,\n        onTransitionComplete: () => {\n          controller.resetDeactivatedImage();\n          controller.emitEvent(ID, {\n            type: \"deactivation\",\n            position: { x: 0, y: 0 },\n          });\n        },\n      });\n    }\n  }, [ID, activating, deactivating, geometry, width, height, controller]);\n\n  return (\n    <GLWaveImage\n      {...rest}\n      position-z={1}\n      scale={[width, height]}\n      ref={geometry.cacheReference}\n      url={`${image.src}?bypass-cors-please`}\n      position-x={cachedImage.current?.mesh?.position.x}\n      position-y={cachedImage.current?.mesh?.position.y}\n    />\n  );\n};\n\ninterface Props extends Omit<WebGLImageProps, \"active\"> {\n  activating: boolean;\n  deactivating: boolean;\n}\n","import { ImageID } from \"3D/Netflix/WebGLImages/Context\";\nimport { WebGLTransitionElement } from \"./WebGLTransitionElement\";\n\nexport const TransitionNode = (props: Props) => {\n  if (!props.activating && !props.deactivating) {\n    return null;\n  }\n\n  return <WebGLTransitionElement {...props} />;\n};\n\nexport interface Props {\n  ID: ImageID;\n  image: HTMLImageElement;\n  width: number;\n  height: number;\n  activating: boolean;\n  deactivating: boolean;\n}\n","import { Fragment, use, useEffect, useState } from \"react\";\nimport { PropLess } from \"Tools/Types\";\nimport { IImageState, WebGLImagesContext } from \"../../Context\";\nimport { TransitionNode } from \"./TransitionNode\";\n\nexport const WebGLTransitionRenderer = (_: PropLess) => {\n  const controller = use(WebGLImagesContext);\n  const [state, setState] = useState<IImageState>({\n    images: [],\n    activeImage: null,\n    deactivatingImage: null,\n  });\n\n  useEffect(() => {\n    const ID = controller.subscribeToImages(setState);\n    return () => {\n      controller.unsubscribeFromImages(ID);\n    };\n  }, [controller]);\n\n  return (\n    <Fragment>\n      {state.images.map(({ width, height, ID, image }) => (\n        <TransitionNode\n          ID={ID}\n          key={ID}\n          image={image}\n          width={width}\n          height={height}\n          activating={ID === state.activeImage}\n          deactivating={ID === state.deactivatingImage}\n        />\n      ))}\n    </Fragment>\n  );\n};\n","import { Suspense } from \"react\";\nimport { Canvas } from \"@react-three/fiber\";\nimport { LoadDetector } from \"3D/LoadDetector\";\nimport { OptionalChildren } from \"Tools/Types\";\nimport { WebGLImagesContextProvider } from \"../Context\";\nimport { BackButton } from \"./BackButton\";\nimport { BackDrop } from \"./BackDrop\";\nimport { Camera } from \"./Camera\";\nimport { WebGLImageRenderer } from \"./WebGLImageRenderer\";\nimport { WebGLTransitionRenderer } from \"./WebGLTransitionRenderer\";\nimport \"./styles.scss\";\n\nexport const WebGLImages = ({ children }: OptionalChildren) => {\n  return (\n    <WebGLImagesContextProvider root=\"#netflixGLTarget\">\n      {children}\n      <div className=\"webgl-images\" aria-hidden>\n        <Canvas\n          flat\n          linear\n          style={{ pointerEvents: \"none\" }}\n          gl={{ antialias: true, alpha: true }}>\n          <LoadDetector />\n          <Suspense>\n            <Camera />\n            <WebGLImageRenderer />\n          </Suspense>\n        </Canvas>\n      </div>\n      <div className=\"webgl-transition-element\">\n        <Canvas\n          flat\n          linear\n          style={{ pointerEvents: \"none\" }}\n          gl={{ antialias: true, alpha: true }}>\n          <Suspense>\n            <Camera />\n            <WebGLTransitionRenderer />\n          </Suspense>\n        </Canvas>\n      </div>\n      <BackButton />\n      <BackDrop />\n    </WebGLImagesContextProvider>\n  );\n};\n","import { ForwardedRef, forwardRef, HTMLProps, useMemo } from \"react\";\nimport { classnames } from \"@figliolia/classnames\";\nimport { Callback } from \"Tools/Types\";\nimport \"./styles.scss\";\n\nexport const Poster = forwardRef(function Poster(\n  { title, posterURL, className, onClick, ...rest }: IPoster,\n  ref: ForwardedRef<HTMLImageElement>,\n) {\n  const imageNode = useMemo(\n    () => <img ref={ref} src={posterURL} alt={title} />,\n    [posterURL, title, ref],\n  );\n  return (\n    <div\n      role=\"group\"\n      className={classnames(\"content-poster\", className)}\n      {...rest}>\n      {onClick ? <button onClick={onClick}>{imageNode}</button> : imageNode}\n    </div>\n  );\n});\n\nexport interface IPoster extends Omit<HTMLProps<HTMLDivElement>, \"id\" | \"ref\"> {\n  className?: string;\n  posterURL: string;\n  onClick?: Callback;\n}\n","\"use client\";\nimport {\n  MouseEvent,\n  TouchEvent,\n  use,\n  useCallback,\n  useEffect,\n  useMemo,\n  useRef,\n  useState,\n} from \"react\";\nimport { IPoster, Poster } from \"../Poster\";\nimport {\n  ImageID,\n  PointerType,\n  WebGLContentListContext,\n  WebGLImagesContext,\n} from \"../WebGLImages\";\n\nexport const WebGLPoster = (props: IPoster) => {\n  const controller = use(WebGLImagesContext);\n  const node = useRef<HTMLImageElement>(null);\n  const scrollViewParents = use(WebGLContentListContext);\n  const [imageID, setImageID] = useState<ImageID | null>(null);\n\n  useEffect(() => {\n    if (!node.current) {\n      return;\n    }\n    const scrollViews: HTMLDivElement[] = [];\n    for (const { current } of scrollViewParents) {\n      if (current) {\n        scrollViews.push(current);\n      }\n    }\n    const ID = controller.registerImage(node.current, scrollViews);\n    setImageID(ID);\n    return () => {\n      controller.unmountImage(ID, scrollViews);\n    };\n  }, [controller, scrollViewParents]);\n\n  const getPointerPosition = useCallback((e: PointerEvent) => {\n    if (!node.current) {\n      return;\n    }\n    let clientX: number;\n    let clientY: number;\n    if (\"touches\" in e) {\n      if (!e.touches[0]) {\n        return;\n      }\n      ({ clientX, clientY } = e.touches[0]);\n    } else {\n      ({ clientX, clientY } = e);\n    }\n    const { left, top, width, height } = node.current.getBoundingClientRect();\n    return {\n      x: Math.abs((clientX - left) / width),\n      y: 1 - Math.abs((clientY - top) / height),\n    };\n  }, []);\n\n  const pointerEmitter = useCallback(\n    (type: PointerType) => (e: PointerEvent) => {\n      const position = getPointerPosition(e);\n      if (position && imageID) {\n        controller.emitEvent(imageID, {\n          type,\n          position,\n        });\n      }\n    },\n    [getPointerPosition, controller, imageID],\n  );\n\n  const onPointerEnter = useMemo(\n    () => pointerEmitter(\"pointer-enter\"),\n    [pointerEmitter],\n  );\n  const onPointerMove = useMemo(\n    () => pointerEmitter(\"pointer-move\"),\n    [pointerEmitter],\n  );\n  const onPointerLeave = useMemo(\n    () => pointerEmitter(\"pointer-leave\"),\n    [pointerEmitter],\n  );\n\n  const onClick = useCallback(() => {\n    if (imageID) {\n      controller.activateImage(imageID);\n    }\n  }, [imageID, controller]);\n\n  return (\n    <Poster\n      ref={node}\n      {...props}\n      onClick={onClick}\n      onMouseEnter={onPointerEnter}\n      onTouchStart={onPointerEnter}\n      onMouseMove={onPointerMove}\n      onTouchMove={onPointerMove}\n      onMouseLeave={onPointerLeave}\n      onTouchEnd={onPointerLeave}\n    />\n  );\n};\n\ntype PointerEvent = MouseEvent<HTMLElement> | TouchEvent<HTMLDivElement>;\n","import { selectHeight, useScreen } from \"State/Screen\";\nimport { PropLess } from \"Tools/Types\";\nimport { Content } from \"./Content\";\nimport { WebGLContentList, WebGLImages } from \"./WebGLImages\";\nimport { WebGLPoster } from \"./WebGLPoster\";\nimport \"./styles.scss\";\n\nexport const NetflixScene = (_: PropLess) => {\n  const height = useScreen(selectHeight);\n  return (\n    <div\n      id=\"netflixGLTarget\"\n      className=\"netflix-scene\"\n      style={{ maxHeight: height, height }}>\n      <WebGLImages>\n        <WebGLContentList title=\"Popular Movies\" aria-label=\"Popular Movies\">\n          {Content.MOVIES.map((movie, i) => {\n            return <WebGLPoster key={i} posterURL={movie} />;\n          })}\n        </WebGLContentList>\n        <WebGLContentList title=\"Popular Shows\" aria-label=\"Popular Shows\">\n          {Content.SHOWS.map((show, i) => {\n            return <WebGLPoster key={i} posterURL={show} />;\n          })}\n        </WebGLContentList>\n        <WebGLContentList\n          title=\"Top Rated Movies\"\n          aria-label=\"Top Rated Movies\">\n          {Content.MOVIES.map((movie, i) => {\n            return <WebGLPoster key={i} posterURL={movie} />;\n          })}\n        </WebGLContentList>\n        <WebGLContentList title=\"Top Rated Shows\" aria-label=\"Top Rated Shows\">\n          {Content.SHOWS.map((show, i) => {\n            return <WebGLPoster key={i} posterURL={show} />;\n          })}\n        </WebGLContentList>\n      </WebGLImages>\n      <div className=\"padding\" />\n    </div>\n  );\n};\n"],"names":["ListNode","constructor","value","previous","next","__publicField","this","LinkedList","items","item","push","size","node","head","tail","unshift","shift","pop","peekLeft","_a","peekRight","Symbol","iterator","current","useController","Controller","useRef","Content","NAN","symbolTag","reTrim","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","parseInt","freeGlobal","global","Object","freeSelf","self","root","Function","objectToString","prototype","toString","nativeMax","Math","max","nativeMin","min","now","Date","isObject","type","toNumber","isObjectLike","call","isSymbol","other","valueOf","replace","isBinary","test","slice","func","wait","options","lastArgs","lastThis","maxWait","result","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","TypeError","invokeFunc","time","args","thisArg","apply","shouldInvoke","timeSinceLastCall","timerExpired","trailingEdge","setTimeout","remainingWait","debounced","isInvoking","arguments","leadingEdge","cancel","clearTimeout","flush","FramePooler","maxStackSize","Infinity","queue","run","task","execute","currentFrame","requestAnimationFrame","performance","i","onPool","WebGLImagesController","desiredRoot","window","debounce","emitEvent","imageState","AutoIncrementingID","Map","EventEmitter","withRoot","x","y","getScrollCoordinates","scrollView","images","scrollViews","isRootsChild","ID","image","data","imageData","get","set","mutateImageData","getBoundingClientRect","toJSON","repositionImage","rootScrollY","rootScrollX","e","target","scrollY","scrollX","scrollLeft","scrollTop","deltaX","deltaY","mesh","data2","position","resizeImage","initialize","initialized","findRoot","addEventListener","onWindowResize","onScrollRoot","destroy","Emitter","storage","clear","removeEventListener","onScrollViewScroll","subscribeToImages","callback","subscribe","unsubscribeFromImages","unsubscribe","unmountScrollView","delete","registerImage","imageIDs","registerScrollView","__spreadValues","debounceImageEmission","unmountImage","cachedImage","registerMesh","disposeMesh","event","payload","emit","on","off","activateImage","activeImage","deactivatingImage","resetDeactivatedImage","getImageData","document","querySelector","Error","width","height","scale","left","top","XPosition","innerWidth","YPosition","innerHeight","HTMLElement","fn","contains","Array","from","values","update","key","K","WebGLImagesContext","createContext","WebGLImagesContextProvider","children","controller","useMemo","useEffect","jsx","useActiveImage","imageActive","setImageActive","useState","useContext","WebGLContentListContext","WebGLContentListContextProvider","parents","use","useMergedRefs","useCallback","instance","ref","LeftChevron","props","jsxRuntimeExports","__spreadProps","viewBox","fill","xmlns","fillRule","clipRule","d","RightChevron","ContentList","forwardRef","title","onNext","className","onPrevious","ariaLabel","scrollViewID","useId","classes","useClassNames","cacheRef","withScrollView","scrollViewDimensions","scrollWidth","offsetWidth","previousPage","view","scrollBy","behavior","nextPage","jsxs","onClick","id","WebGLContentList","scrollViewRef","BackButton","_","visible","BackDrop","Camera","useScreen","selectHeight","fov","atan","PI","PerspectiveCamera","makeDefault","createImageMaterial","unforms","vertex","fragment","shaderMaterial","uniforms","color","Color","Vector2","imageBounds","resolution","map","zoom","radius","grayscale","transparent","opacity","vertexShader","fragmentShader","_Class","THREE.ShaderMaterial","parameters","super","THREE.Uniform","defineProperty","THREE.UniformsUtils","clone","onInit","THREE.MathUtils","generateUUID","DEFAULT_MOUSE_COORDINATES","GLWaveImage","material","forwardedRef","_b","url","side","segments","toneMapped","__objRest","extend","ImageMaterial","texture","useTexture","useThree","state","useLayoutEffect","geometry","pWidth","pHeight","WebGLImageGenerator","uTime","uOpacity","uHoverState","uXPointerFromCenter","uMouseCoordinates","Geometry","meshXY","withMesh","withMaterial","onPointerEnter","onPointerMove","onPointerLeave","fadeMesh","revealMesh","meshPosition","transitionUniforms","pointerEventFromCenter","transitionVector2","rotateMesh","pointerFromCenter","uv","transitions","property","gsap","to","duration","uniform","gsapWithCSS","rotation","delay","WebGLImageMesh","GeometryController","listenerID","onPointer","useFrame","delta","cacheReference","src","WebGLImageRenderer","setState","Fragment","activate","positionX","xSize","ySize","timeline","ease","rotateBy","deactivate","positionY","onTransitionComplete","onComplete","z","forward","degToRad","WebGLTransitionElement","activating","deactivating","rest","_c","_d","TransitionNode","WebGLTransitionRenderer","WebGLImages","Canvas","flat","linear","style","pointerEvents","gl","antialias","alpha","LoadDetector","Suspense","Poster","posterURL","imageNode","alt","role","classnames","WebGLPoster","scrollViewParents","imageID","setImageID","getPointerPosition","clientX","clientY","touches","abs","pointerEmitter","onMouseEnter","onTouchStart","onMouseMove","onTouchMove","onMouseLeave","onTouchEnd","NetflixScene","maxHeight","MOVIES","movie","SHOWS","show"],"mappings":"08BAAA,MAAMA,EAIF,WAAAC,CAAYC,EAAOC,EAAW,KAAMC,EAAO,MAH3CC,EAAAC,KAAA,SACWD,EAAAC,KAAA,WAAA,MACJD,EAAAC,KAAA,OAAA,MAEHA,KAAKJ,MAAQA,EACbI,KAAKF,KAAOA,EACZE,KAAKH,SAAWA,CACnB,EAuBE,MAAMI,EAIT,WAAAN,IAAeO,GAHRH,EAAAC,KAAA,OAAA,GACAD,EAAAC,KAAA,OAAA,MACAD,EAAAC,KAAA,OAAA,MAEH,IAAA,MAAWG,KAAQD,EACfF,KAAKI,KAAKD,EAEjB,CACD,IAAAC,CAAKD,GACIH,KAAAK,OACC,MAAAC,EAAO,IAAIZ,EAASS,GAC1B,OAAKH,KAAKO,MAASP,KAAKQ,MAKxBR,KAAKQ,KAAKV,KAAOQ,EACjBA,EAAKT,SAAWG,KAAKQ,KACrBR,KAAKQ,KAAOF,EACLN,KAAKK,OAPRL,KAAKO,KAAOD,EACZN,KAAKQ,KAAOF,EACLN,KAAKK,KAMnB,CACD,OAAAI,CAAQN,GACCH,KAAAK,OACC,MAAAC,EAAO,IAAIZ,EAASS,GAC1B,OAAKH,KAAKO,MAASP,KAAKQ,MAKxBR,KAAKO,KAAKV,SAAWS,EACrBA,EAAKR,KAAOE,KAAKO,KACjBP,KAAKO,KAAOD,EACLN,KAAKK,OAPRL,KAAKO,KAAOD,EACZN,KAAKQ,KAAOF,EACLN,KAAKK,KAMnB,CACD,KAAAK,GACQ,IAACV,KAAKO,KACN,OAECP,KAAAK,OACL,MAAMC,EAAON,KAAKO,KACd,OAAAP,KAAKO,OAASP,KAAKQ,MACnBR,KAAKO,KAAO,KACZP,KAAKQ,KAAO,KACLF,EAAKV,QAEhBI,KAAKO,KAAOD,EAAKR,KACjBE,KAAKO,KAAKV,SAAW,KACdS,EAAKV,MACf,CACD,GAAAe,GACQ,IAACX,KAAKQ,KACN,OAECR,KAAAK,OACL,MAAMC,EAAON,KAAKQ,KACd,OAAAR,KAAKO,OAASP,KAAKQ,MACnBR,KAAKO,KAAO,KACZP,KAAKQ,KAAO,KACLF,EAAKV,QAEhBI,KAAKQ,KAAOF,EAAKT,SACjBG,KAAKQ,KAAKV,KAAO,KACVQ,EAAKV,MACf,CACD,QAAAgB,SACW,OAAA,OAAAC,EAAAb,KAAKO,WAAM,EAAAM,EAAAjB,KACrB,CACD,SAAAkB,SACW,OAAA,OAAAD,EAAAb,KAAKQ,WAAM,EAAAK,EAAAjB,KACrB,CACD,EAAEmB,OAAOC,YACL,IAAIC,EAAUjB,KAAKO,KACnB,KAAOU,SACGA,EAAQrB,MACdqB,EAAUA,EAAQnB,IAEzB,EC3GE,MAAMoB,EAAiBC,GACPC,SAAOD,GACRF,QCwEf,MAAMI,GACXtB,EADWsB,EACY,SAAS,CC5EnB,oCCAA,qCCAA,iCCAA,4CCAA,oDCAA,oCCAA,kCCAA,gDCAA,oCCAA,mCCAA,0BCAA,wCCAA,qCCAA,yCCAA,+BCAA,iCCAA,0CCAA,uCCAA,oCCAA,uCCAA,qCCAA,oCCAA,+BCAA,sCCAA,mCCAA,uCCAA,qCCAA,uCCAA,yCCAA,sCCAA,sCCAA,kDhC+GbtB,EApCWsB,EAoCY,QAAQ,CiC/GlB,kCCAA,qCCAA,8BCAA,uCCAA,8BCAA,wCCAA,oCCAA,iCCAA,2BCAA,oCCAA,uCCAA,uCCAA,+BCAA,2CCAA,mCCAA,uCCAA,qCCAA,oCCAA,8BCAA,oCCAA,kCCAA,qCCAA,4BCAA,iCCAA,gCCAA,iCCAA,sCCAA,qCCAA,6BCAA,wCCAA,kCCAA,sCCAA,2CCAA,2CCAA,qCCAA,qCCAA,oCCAA,wCCAA,2CCAA,oCCAA,qCCAA,mCCUf,IAGIC,EAAM,IAGNC,EAAY,kBAGZC,EAAS,aAGTC,EAAa,qBAGbC,EAAa,aAGbC,EAAY,cAGZC,EAAeC,SAGfC,EAA8B,iBAAVC,GAAsBA,GAAUA,EAAOC,SAAWA,QAAUD,EAGhFE,EAA0B,iBAARC,MAAoBA,MAAQA,KAAKF,SAAWA,QAAUE,KAGxEC,EAAOL,GAAcG,GAAYG,SAAS,cAATA,GAUjCC,EAPcL,OAAOM,UAOQC,SAG7BC,EAAYC,KAAKC,IACjBC,EAAYF,KAAKG,IAkBjBC,EAAM,WACD,OAAAV,EAAKW,KAAKD,KACnB,EA2MA,SAASE,GAASnD,GAChB,IAAIoD,SAAcpD,EAClB,QAASA,IAAkB,UAARoD,GAA4B,YAARA,EACzC,CA2EA,SAASC,GAASrD,GACZ,GAAgB,iBAATA,EACF,OAAAA,EAEL,GAhCN,SAAkBA,GACT,MAAgB,iBAATA,GAtBhB,SAAsBA,GACpB,QAASA,GAAyB,iBAATA,CAC3B,CAqBKsD,CAAatD,IAAUyC,EAAec,KAAKvD,IAAU2B,CAC1D,CA6BM6B,CAASxD,GACJ,OAAA0B,EAEL,GAAAyB,GAASnD,GAAQ,CACnB,IAAIyD,EAAgC,mBAAjBzD,EAAM0D,QAAwB1D,EAAM0D,UAAY1D,EACnEA,EAAQmD,GAASM,GAAUA,EAAQ,GAAMA,CAC1C,CACG,GAAgB,iBAATzD,EACF,OAAU,IAAVA,EAAcA,GAASA,EAExBA,EAAAA,EAAM2D,QAAQ/B,EAAQ,IAC1B,IAAAgC,EAAW9B,EAAW+B,KAAK7D,GAC/B,OAAQ4D,GAAY7B,EAAU8B,KAAK7D,GAC/BgC,EAAahC,EAAM8D,MAAM,GAAIF,EAAW,EAAI,GAC3C/B,EAAWgC,KAAK7D,GAAS0B,GAAO1B,CACvC,aApPA,SAAkB+D,EAAMC,EAAMC,GAC5B,IAAIC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EAAiB,EACjBC,GAAU,EACVC,GAAS,EACTC,GAAW,EAEX,GAAe,mBAARZ,EACH,MAAA,IAAIa,UArIQ,uBA+IpB,SAASC,EAAWC,GACd,IAAAC,EAAOb,EACPc,EAAUb,EAKP,OAHPD,EAAWC,OAAW,EACLK,EAAAM,EACRT,EAAAN,EAAKkB,MAAMD,EAASD,EAE9B,CAmBD,SAASG,EAAaJ,GACpB,IAAIK,EAAoBL,EAAOP,EAM/B,YAAyB,IAAjBA,GAA+BY,GAAqBnB,GACzDmB,EAAoB,GAAOT,GANJI,EAAON,GAM8BJ,CAChE,CAED,SAASgB,IACP,IAAIN,EAAO7B,IACP,GAAAiC,EAAaJ,GACf,OAAOO,EAAaP,GAGtBR,EAAUgB,WAAWF,EAzBvB,SAAuBN,GACrB,IAEIT,EAASL,GAFWc,EAAOP,GAI/B,OAAOG,EAAS3B,EAAUsB,EAAQD,GAHRU,EAAON,IAGkCH,CACpE,CAmBoCkB,CAAcT,GAClD,CAED,SAASO,EAAaP,GAKpB,OAJUR,OAAA,EAINK,GAAYT,EACPW,EAAWC,IAEpBZ,EAAWC,OAAW,EACfE,EACR,CAcD,SAASmB,IACP,IAAIV,EAAO7B,IACPwC,EAAaP,EAAaJ,GAM9B,GAJWZ,EAAAwB,UACAvB,EAAA/D,KACImE,EAAAO,EAEXW,EAAY,CACd,QAAgB,IAAZnB,EACF,OAvEN,SAAqBQ,GAMZ,OAJUN,EAAAM,EAEPR,EAAAgB,WAAWF,EAAcpB,GAE5BS,EAAUI,EAAWC,GAAQT,CACrC,CAgEYsB,CAAYpB,GAErB,GAAIG,EAGF,OADUJ,EAAAgB,WAAWF,EAAcpB,GAC5Ba,EAAWN,EAErB,CAIM,YAHS,IAAZD,IACQA,EAAAgB,WAAWF,EAAcpB,IAE9BK,CACR,CAGM,OAxGAL,EAAAX,GAASW,IAAS,EACrBb,GAASc,KACDQ,IAAER,EAAQQ,QAEVL,GADVM,EAAS,YAAaT,GACHrB,EAAUS,GAASY,EAAQG,UAAY,EAAGJ,GAAQI,EACrEO,EAAW,aAAcV,IAAYA,EAAQU,SAAWA,GAiG1Da,EAAUI,OAnCV,gBACkB,IAAZtB,GACFuB,aAAavB,GAEEE,EAAA,EACNN,EAAAK,EAAeJ,EAAWG,OAAU,CAChD,EA8BDkB,EAAUM,MA5BV,WACE,YAAmB,IAAZxB,EAAwBD,EAASgB,EAAapC,IACtD,EA2BMuC,CACT,ICzOO,MAAMO,GAIT,WAAAhG,CAAYiG,EAAeC,KAH3B9F,EAAAC,KAAA,gBACAD,EAAAC,KAAA,SACeD,EAAAC,KAAA,eAAA,MAEXA,KAAK4F,aAAeA,EACf5F,KAAA8F,MAAQ,IAAI7F,CACpB,CAQD,GAAA8F,CAAIC,GACKhG,KAAA8F,MAAM1F,KAAK4F,GAChBhG,KAAKiG,SACR,CACD,OAAAA,GAC8B,OAAtBjG,KAAKkG,eAGJlG,KAAAkG,aAAeC,uBAA8BzB,UACxC7B,MAAAA,EAAMuD,YAAYvD,MACf,IAAA,IAAAwD,EAAI,EAAGA,EAAIrG,KAAK4F,cAAgB5F,KAAK8F,MAAMzF,KAAMgG,IAAK,CACtD,OAAAxF,EAAKb,KAAA8F,MAAMpF,UAAUG,EAAA6D,GAEtB,GADS0B,YAAYvD,MACdA,GAAO,GACd,KAEP,CACD7C,KAAKsG,QAAM,IAElB,CACD,MAAAA,GACItG,KAAKkG,aAAe,KAChBlG,KAAK8F,MAAMzF,MACXL,KAAKiG,SAEZ,EC1CE,MAAMM,GAgBX,WAAA5G,CACE6G,GAAmD,oBAAXC,OACpC,OACAA,SAlBe1G,EAAAC,KAAA,cAAA,GACAD,EAAAC,KAAA,cAAA,GACdD,EAAAC,KAAA,QACcD,EAAAC,KAAA,eAAA,GACdD,EAAAC,KAAA,eACCD,EAAAC,KAAA,cAAc,IAAI2F,IACW5F,EAAAC,KAAA,cAAA,MACMD,EAAAC,KAAA,oBAAA,MACnCD,EAAAC,KAAA,wBAAwB0G,IAAS,KAClC1G,KAAA2G,UAAU,SAAU3G,KAAK4G,WAAU,GACvC,KACK7G,EAAAC,KAAA,WAAW,IAAI6G,GACf9G,EAAAC,KAAA,gBAAgB8G,KAChB/G,EAAAC,KAAA,UAAU,IAAI+G,GACdhH,EAAAC,KAAA,kBAAkB8G,KA2KlB/G,EAAAC,KAAA,gBAAe,KAChBA,KAAAgH,UAAiB7E,IACpB,MAAM8E,EAAEA,EAAGC,EAAAA,GAAMlH,KAAKmH,qBAAqBhF,GAC3C,IAAA,MAAYiF,GAAYC,OAAEA,MAAarH,KAAKsH,YACtCtH,KAAKuH,aAAaH,IACfpH,KAAA2F,YAAYI,KAAI,KACnB,IAAA,MAAYyB,EAAIC,KAAUJ,EAAQ,CAChC,MAAMK,EAAO1H,KAAK2H,UAAUC,IAAIJ,GAC3BE,IAGL1H,KAAK2H,UAAUE,IACbL,EACAxH,KAAK8H,gBACHJ,EACAD,EAAMM,wBAAwBC,WAGlChI,KAAKiI,gBAAgBT,GACvB,KAINxH,KAAKkI,YAAchB,EACnBlH,KAAKmI,YAAclB,CAAA,GACpB,IAGKlH,EAAAC,KAAA,sBAAsBoI,IAC5B,MAAMC,EAASD,EAAEC,OACXX,EAAO1H,KAAKsH,YAAYM,IAAIS,GAClC,IAAKX,EACH,OAEF,MAAMY,QAAEA,EAAAC,QAASA,EAASlB,OAAAA,GAAWK,GAC/Bc,WAAEA,EAAYC,UAAAA,GAAcJ,EAC5BK,EAASH,EAAUC,EACnBG,EAASL,EAAUG,EACV,IAAXC,GAA2B,IAAXC,IACb3I,KAAA2F,YAAYI,KAAI,KACR,IAAA,MAACyB,KAAOH,EAAQ,CACzB,MAAMK,EAAO1H,KAAK2H,UAAUC,IAAIJ,UAC5BE,WAAMkB,QACHC,EAAAD,KAAKE,SAAS7B,GAAKyB,EACnBG,EAAAD,KAAKE,SAAS5B,GAAKyB,EAE5B,KAEFjB,EAAKa,QAAUC,EACfd,EAAKY,QAAUG,EACVzI,KAAAsH,YAAYO,IAAIQ,EAAQX,GAC/B,IAGM3H,EAAAC,KAAA,kBAAiB,KAClBA,KAAA2F,YAAYI,KAAI,KACnB,IAAA,MAAYyB,EAAIE,KAAS1H,KAAK2H,UAC5B3H,KAAK2H,UAAUE,IACbL,EACAxH,KAAK8H,gBACHJ,EACAA,EAAKD,MAAMM,wBAAwBC,WAGlChI,KAAA2F,YAAYI,KAAI,KACnB/F,KAAK+I,YAAYvB,GACjBxH,KAAKiI,gBAAgBT,EAAE,GAE3B,GACD,IA1ODxH,KAAKwG,YAAcA,CACrB,CAEO,UAAAwC,GACL,GAAIhJ,KAAKiJ,YACP,OAEFjJ,KAAKiJ,aAAc,EACnBjJ,KAAKmC,KAAOnC,KAAKkJ,SAASlJ,KAAKwG,aAC/B,MAAMU,EAAEA,EAAGD,EAAAA,GAAMjH,KAAKmH,qBAAqBnH,KAAKmC,MAChDnC,KAAKkI,YAAchB,EACnBlH,KAAKmI,YAAclB,EACZR,OAAA0C,iBAAiB,SAAUnJ,KAAKoJ,gBACvCpJ,KAAKmC,KAAKgH,iBAAiB,SAAUnJ,KAAKqJ,aAC5C,CAEO,OAAAC,GAED,GADCtJ,KAAAuJ,QAAQC,QAAQC,QAChBzJ,KAAKiJ,YAAN,CAGJjJ,KAAKiJ,aAAc,EACZxC,OAAAiD,oBAAoB,SAAU1J,KAAKoJ,gBACrCpJ,KAAAgH,UAAiB7E,IACfA,EAAAuH,oBAAoB,SAAU1J,KAAKqJ,aAAY,IAEtD,IAAA,MAAY/I,KAASN,KAAKsH,YACnBhH,EAAAoJ,oBAAoB,SAAU1J,KAAK2J,mBAP1C,CASF,CAEO,iBAAAC,CAAkBC,GAEhB,OADPA,EAAS7J,KAAK4G,YACP5G,KAAK8J,UAAU,SAAUD,EAClC,CAEO,qBAAAE,CAAsBvC,GACpB,OAAAxH,KAAKgK,YAAY,SAAUxC,EACpC,CAEO,iBAAAyC,CAAkB3J,GAClBN,KAAAsH,YAAY4C,OAAO5J,GACnBA,EAAAoJ,oBAAoB,SAAU1J,KAAK2J,mBAC1C,CAEO,aAAAQ,CAAc1C,EAAyBH,SACtC,MAAAE,EAAKxH,KAAKoK,SAASxC,MACzB,IAAA,MAAWR,KAAcE,EAAa,CAC9B,MAAAI,EACJ,OAAA7G,OAAKyG,YAAYM,IAAIR,IAArBvG,EAAoCb,KAAKqK,mBAAmBjD,GACzDM,EAAAL,OAAOQ,IAAIL,EAAIC,GACfzH,KAAAsH,YAAYO,IAAIT,EAAYM,EACnC,CAOO,OANF1H,KAAA2H,UAAUE,IAAIL,EAAI8C,EAAA,CACrB9C,KACAC,SACIA,EAAMM,wBAAwBC,WAEpChI,KAAKuK,wBACE/C,CACT,CAEO,YAAAgD,CAAahD,EAAaF,GAC/B,MAAMmD,EAAczK,KAAK2H,UAAUC,IAAIJ,GACvC,GAAKiD,EAAL,CAGA,IAAA,MAAWrD,KAAcE,EAAa,CACpC,MAAMI,EAAO1H,KAAKsH,YAAYM,IAAIR,GAC9BM,IACGA,EAAAL,OAAO6C,OAAOO,EAAYjD,IAC1BxH,KAAAsH,YAAYO,IAAIT,EAAYM,GAErC,CACK1H,KAAA2H,UAAUuC,OAAO1C,GACtBxH,KAAKuK,uBATL,CAUF,CAEO,YAAAG,CAAalD,EAAaoB,GAC/B,MAAMlB,EAAO1H,KAAK2H,UAAUC,IAAIJ,GAC3BE,IAGLA,EAAKkB,KAAOA,EACP5I,KAAA2H,UAAUE,IAAIL,EAAIE,GAClB1H,KAAA2F,YAAYI,KAAI,KACnB/F,KAAK+I,YAAYvB,GACjBxH,KAAKiI,gBAAgBT,EAAE,IAE3B,CAEO,WAAAmD,CAAYnD,GACjB,MAAME,EAAO1H,KAAK2H,UAAUC,IAAIJ,GAC3BE,IAGLA,EAAKkB,UAAO,EACP5I,KAAA2H,UAAUE,IAAIL,EAAIE,GACzB,CAEO,SAAAf,CACLiE,EACAC,GAEK7K,KAAAuJ,QAAQuB,KAAKF,EAAOC,EAC3B,CAEO,SAAAf,CACLc,EACAf,GAEA,OAAO7J,KAAKuJ,QAAQwB,GAAGH,EAAOf,EAChC,CAEO,WAAAG,CACLY,EACApD,GAEA,OAAOxH,KAAKuJ,QAAQyB,IAAIJ,EAAOpD,EACjC,CAEO,aAAAyD,CAAcxD,GACfzH,KAAKkL,cACPlL,KAAKmL,kBAAoBnL,KAAKkL,aAE5BzD,GACFzH,KAAK2G,UAAUc,EAAO,CACpBzE,KAAM,aACN8F,SAAU,CAAE7B,EAAG,EAAGC,EAAG,KAGzBlH,KAAKkL,YAAczD,EACnBzH,KAAKuK,uBACP,CAEO,qBAAAa,GACLpL,KAAKmL,kBAAoB,KACzBnL,KAAKuK,uBACP,CAEO,YAAAc,CAAa5D,GACX,OAAAzH,KAAK2H,UAAUC,IAAIH,EAC5B,CAEQ,kBAAA4C,CAAmBjD,GAOlB,OANFpH,KAAAsH,YAAYO,IAAIT,EAAY,CAC/BkB,QAASlB,EAAWqB,UACpBF,QAASnB,EAAWoB,WACpBnB,WAAYP,MAEHM,EAAA+B,iBAAiB,SAAUnJ,KAAK2J,oBACpC3J,KAAKsH,YAAYM,IAAIR,EAC9B,CAEQ,QAAA8B,CAAS/G,GACX,GAAgB,iBAATA,EAAmB,CACtB,MAAA7B,EAAOgL,SAASC,cAAcpJ,GACpC,IAAK7B,EACG,MAAA,IAAIkL,MAAM,kDAEX,OAAAlL,CACT,CACO6B,OAAAA,CACT,CA0EQ,WAAA4G,CAAYvB,GAClB,MAAME,EAAO1H,KAAK2H,UAAUC,IAAIJ,GAChC,IAAKE,EACH,OAEF,MAAM+D,MAAEA,EAAAC,OAAOA,EAAQ9C,KAAAA,GAASlB,EAC5BkB,GACFA,EAAK+C,MAAM9D,IAAI4D,EAAOC,EAAQ,EAElC,CAEQ,eAAAzD,CAAgBT,GACtB,MAAME,EAAO1H,KAAK2H,UAAUC,IAAIJ,GAChC,IAAKE,EACH,OAEF,MAAM+D,MAAEA,EAAOC,OAAAA,EAAAE,KAAQA,EAAMC,IAAAA,EAAAjD,KAAKA,GAASlB,EAC3C,IAAKkB,EACH,OAEF,MAAMkD,EAAYF,EAAOnF,OAAOsF,WAAa,EAAIN,EAAQ,EACnDO,GAAaH,EAAMpF,OAAOwF,YAAc,EAAIP,EAAS,EAC3D9C,EAAKE,SAASjB,IAAIiE,EAAWE,EAAW,EAC1C,CAEQ,oBAAA7E,CAAqB7G,GAC3B,OAAIA,IAASmG,OACJ,CAAEQ,EAAG3G,EAAKiI,QAASrB,EAAG5G,EAAKgI,SAEhChI,aAAgB4L,YACX,CAAEjF,EAAG3G,EAAKkI,WAAYtB,EAAG5G,EAAKmI,WAEhC,CAAExB,EAAG,EAAGC,EAAG,EACpB,CAEQ,QAAAF,CAASmF,GACXnM,KAAKmC,MACFgK,EAAGnM,KAAKmC,KAEjB,CAEQ,YAAAoF,CAAajH,GACf,QAACN,KAAKmC,OAGNnC,KAAKmC,OAASsE,QAGdzG,KAAKmC,gBAAgB+J,aAChBlM,KAAKmC,KAAKiK,SAAS9L,GAG9B,CAEA,cAAYsG,GACH,MAAA,CACLsE,YAAalL,KAAKkL,YAClBC,kBAAmBnL,KAAKmL,kBACxB9D,OAAQgF,MAAMC,KAAKtM,KAAK2H,UAAU4E,UAEtC,CAEQ,eAAAzE,CAAgBJ,EAAc8E,GACpC,IAAA,MAAWC,KAAOD,EAAQ,CACxB,MAAME,EAAID,OACQ,IAAdD,EAAOE,KAEJhF,EAAAgF,GAAKF,EAAOE,GAErB,CACO,OAAAhF,CACT,ECpVK,MAAMiF,GAAqBC,EAAAA,cAChC,IAAIrG,GAAsB,SAGfsG,GAA6B,EAAGC,WAAU3K,KAAAA,MAC/C,MAAA4K,EAAaC,WAAQ,IAAM,IAAIzG,GAAsBpE,IAAO,CAACA,IASnE,OAPA8K,EAAAA,WAAU,KACRF,EAAW/D,aACJ,KACL+D,EAAWzD,SAAQ,IAEpB,CAACyD,MAEIG,IAAAP,GAAA,CAAmB/M,MAAOmN,EAAaD,YAAS,ECf7CK,GAAiB,KAC5B,MAAOC,EAAaC,GAAkBC,YAAS,GACzCP,EAAaQ,aAAWZ,IAWvB,OATPM,EAAAA,WAAU,KACR,MAAMzF,EAAKuF,EAAWnD,mBAAkB,EAAGsB,kBAC1BmC,IAAEnC,EAAW,IAE9B,MAAO,KACL6B,EAAWhD,sBAAsBvC,EAAE,CAAA,GAEpC,CAACuF,IAEGK,CAAA,ECbII,GAA0BZ,EAAAA,cAA+B,IAEzDa,GAAkC,EAC7CrG,aACA0F,eAEM,MAAAY,EAAUC,MAAIH,IACd5N,EAAQoN,WAAQ,IAAM,IAAIU,EAAStG,IAAa,CAACsG,EAAStG,IAE9D,SAAA8F,IAACM,GAAwB,CAAA5N,QAAekN,YAAS,ECVxCc,GAAgB,IACxBjJ,IAEIkJ,EAAAA,aACJC,IACC,IAAA,MAAWC,KAAOpJ,EACG,mBAARoJ,EACTA,EAAID,GACKC,IACTA,EAAI9M,QAAU6M,EAElB,GAEF,CAACnJ,ICbQqJ,GAAeC,GAExBC,EAAAhB,IAAC,MAAAiB,EAAA7D,EAAA,CACC8D,QAAQ,YACRC,KAAK,OACLC,MAAM,8BACFL,GAJL,CAKCnB,SAAAoB,EAAAhB,IAAC,OAAA,CACCqB,SAAS,UACTC,SAAS,UACTC,EAAE,6VCVGC,GAAgBT,GAEzBC,EAAAhB,IAAC,MAAAiB,EAAA7D,EAAA,CACC8D,QAAQ,YACRC,KAAK,OACLC,MAAM,8BACFL,GAJL,CAKCnB,SAAAoB,EAAAhB,IAAC,OAAA,CACCqB,SAAS,UACTC,SAAS,UACTC,EAAE,oUCIGE,GAAcC,EAAAA,YAAW,UACpCC,MACEA,EAAAC,OACAA,EAAAhC,SACAA,EAAAiC,UACAA,EAAAC,WACAA,EACA,aAAcC,GAEhBlB,GAEM,MAAAmB,EAAeC,EAAAA,QACf/H,EAAahG,SAAuB,MACpCgO,EAAUC,EAAc,eAAgBN,GAExCO,EAAW1B,GAAcxG,EAAY2G,GAErCwB,EAAiB1B,EAAAA,aACpBhE,IACKzC,EAAWnG,SACb4I,EAASzC,EAAWnG,QAEtB,GAEF,IAGIuO,EAAuB3B,EAAAA,aAAY,KACnC,IAACzG,EAAWnG,QACd,MAAO,CAAEwK,MAAO,EAAGgE,YAAa,EAAGjH,WAAY,GAEjD,MAAMkH,YAAEA,EAAAD,YAAaA,EAAajH,WAAAA,GAAepB,EAAWnG,QAC5D,MAAO,CAAEwK,MAAOiE,EAAaD,cAAajH,aAAW,GACpD,IAEGmH,EAAe9B,EAAAA,aAAY,KAC/B,MAAMpC,MAAEA,EAAAjD,WAAOA,GAAegH,IAC9BD,GAAuBK,IACjBpH,EAAa,IACfoH,EAAKC,SAAS,CAAEjE,MAAOH,EAAOqE,SAAU,WAC3B,MAAAd,GAAAA,IACf,GACD,GACA,CAACA,EAAYQ,EAAsBD,IAEhCQ,EAAWlC,EAAAA,aAAY,KAC3B,MAAMpC,MAAEA,EAAAgE,YAAOA,EAAajH,WAAAA,GAAegH,IAC3CD,GAAuBK,IACjBpH,EAAaiH,IACfG,EAAKC,SAAS,CAAEjE,KAAMH,EAAOqE,SAAU,WAC9B,MAAAhB,GAAAA,IACX,GACD,GACA,CAACS,EAAgBC,EAAsBV,IAGxC,SAAAkB,KAAC,UAAQ,CAAAjB,UAAWK,EAClBtC,SAAA,GAAAI,IAAC,MAAIJ,SAAM+B,MACXmB,KAAC,MAAI,CAAAjB,UAAU,wBACbjC,SAAA,CAAAoB,EAAAhB,IAAC,SAAA,CACC+C,QAASN,EACTZ,UAAU,kCACV,gBAAeG,EACf,aAAW,gBACXpC,SAAAI,EAAAA,IAACc,GAAY,CAAA,eAAW,MAE1BE,EAAAhB,IAAC,MAAA,CACCa,IAAKuB,EACLY,GAAIhB,EACJH,UAAU,sBACV,aAAYE,EACZ,uBAAqB,WACpBnC,aAEHoB,EAAAhB,IAAC,SAAA,CACC+C,QAASF,EACThB,UAAU,8BACV,gBAAeG,EACf,aAAW,YACXpC,SAAAI,EAAAA,IAACwB,GAAa,CAAA,eAAW,WAKnC,IC/FayB,GAAoBlC,IACzB,MAAAlB,EAAaY,MAAIhB,IACjByD,EAAgBhP,SAAuB,MAa3C,OAXF6L,EAAAA,WAAU,KACJ,IAACmD,EAAcnP,QACjB,OAEF,MAAMmG,EAAagJ,EAAcnP,QACjC,MAAO,KACL8L,EAAW9C,kBAAkB7C,EAAU,CAAA,GAExC,CAAC2F,IAGFmB,EAAAhB,IAACO,GAAgC,CAAArG,WAAYgJ,EAC3CtD,SAAAI,EAAAA,IAACyB,KAAY,CAAAZ,IAAKqC,GAAmBnC,KACvC,EChBSoC,GAAcC,IACzB,MAAMC,EAAUpD,KACVJ,EAAaQ,aAAWZ,IAExBsD,EAAUpC,EAAAA,aAAY,KAC1Bd,EAAW9B,cAAc,KAAI,GAC5B,CAAC8B,IAEEqC,EAAUC,EAAc,cAAe,CAAEkB,YAG5CrD,OAAAA,EAAAA,IAAA,SAAA,CAAO+C,UAAkBlB,UAAWK,EAAStC,SAE9C,QAAA,ECdS0D,GAAYF,IACvB,MAAMC,EAAUpD,KACViC,EAAUC,EAAc,WAAY,CAAEkB,YACrC,SAAArD,IAAC,MAAI,CAAA6B,UAAWK,GAAS,ECDrBqB,GAAUH,IACf,MAAA5E,EAASgF,EAAUC,GAEnBC,EAAM5D,EAAAA,SACV,IAAM,EAAIvK,KAAKoO,KAAKnF,EAAS,EANhB,MAMiC,IAAMjJ,KAAKqO,KACzD,CAACpF,iBAGKqF,EAAkB,CAAAH,MAAUI,aAAW,EAAC,aAVjC,KAUuD,ECC3DC,GAAsB,CACjCC,EACAC,EClBa,mLDmBbC,EEnBa,m9CFqBbC,OGnBsBC,EHoBpBhH,EAAA,CACEiH,MAAO,IAAIC,EAAM,SACjB7F,MAAO,IAAI8F,EAAQ,EAAG,GACtBC,YAAa,IAAID,EAAQ,EAAG,GAC5BE,WAAY,KACZC,IAAK,KACLC,KAAM,EACNC,OAAQ,EACRC,UAAW,EACXC,aAAa,EACbC,QAAS,GACNf,GG/ByBgB,EHiC9Bf,EGjC4CgB,EHkC5Cf,GGhCKgB,EAAS,cAAcC,EAC5B,WAAA1S,CAAY2S,GACJC,MAAAjI,EAAA,CACJ4H,aAAAA,EACAC,eAAAA,GACGG,IAEL,IAAA,MAAW7F,KAAO6E,EAChBtR,KAAKsR,SAAS7E,GAAO,IAAI+F,EAAclB,EAAS7E,IACzCzK,OAAAyQ,eAAezS,KAAMyM,EAAK,CAC/B,GAAA7E,GACS,OAAA5H,KAAKsR,SAAS7E,GAAK7M,KAC3B,EACD,GAAAiI,CAAIjI,GACGI,KAAAsR,SAAS7E,GAAK7M,MAAQA,CAC5B,IAGLI,KAAKsR,SAAWoB,EAAoBC,MAAM3S,KAAKsR,UACrC,MAAAsB,GAAQA,EAAO5S,KAC1B,IACOyM,IAAMoG,EAAgBC,eAAgBV,EAvBlD,IAAwBd,EAAUY,EAAcC,EAAgBS,EAC1DR,CHkCJ,EI5BWW,GAA4B,IAAItB,EAAQ,GAAK,IAE7CuB,GCGsB,KAC9BrO,KAEG,MAAAsO,EAAWhC,MAAuBtM,GA6DjC,OA5DYiK,cAAW,SAC5B/N,EAcAqS,GAbE,IAAAC,EAAAtS,GAAAuS,IAAAA,EAAA7B,MACAA,EAAA8B,KACAA,EAAAC,SACAA,EAAW,EAAAzB,KACXA,EAAO,EAAAE,UACPA,EAAY,EAAAE,QACZA,EAAU,EAAAH,OACVA,EAAS,EAAAyB,WACTA,EAAAvB,YACAA,EAAArG,MACAA,EAAQ,CAAC,EAAG,IAXdwH,EAYKlF,EAAAuF,EAZLL,EAYK,CAXH,MACA,QACA,OACA,WACA,OACA,YACA,UACA,SACA,aACA,cACA,UAKKM,EAAA,CAAEC,cAAeT,IAClB,MAACxH,EAAOC,GAAUC,EAClBgI,EAAUC,EAAWR,GACrB/S,EAAOwT,GAAkBC,GAAAA,EAAMzT,OAC/BuI,EAAOxH,SAAmC,MAC1CkO,EAAW1B,GAAchF,EAAMsK,GAC/BxB,EAAc1E,EAAAA,SAClB,IAAM,CAAC2G,EAAQlM,MAAMgE,MAAOkI,EAAQlM,MAAMiE,SAC1C,CAACiI,IAEGhC,EAAa3E,EAAAA,SAAQ,IAAMvK,KAAKC,IAAIrC,EAAKoL,MAAOpL,EAAKqL,SAAS,CAACrL,IAcnE,OAZF0T,EAAAA,iBAAgB,KACV,GAACnL,EAAK3H,SAGN2H,EAAK3H,QAAQ+S,SAAS1B,WAAY,CAC9B,MAAE7G,MAAOwI,EAAQvI,OAAQwI,GAC7BtL,EAAK3H,QAAQ+S,SAAS1B,WACxB1J,EAAK3H,QAAQgS,SAAStH,MAAM9D,IAAI4D,EAAQwI,EAAQvI,EAASwI,EAC3D,IACC,CAACzI,EAAOC,IAGTwC,EAAA8B,KAAC,OAAK7B,EAAA7D,EAAA,CAAAyD,IAAKuB,GAAcrB,GAAnB,CAA0BtC,MAAO,CAACF,EAAOC,EAAQ,GACrDoB,SAAA,CAAAI,MAAC,iBAAcvI,KAAM,CAAC,EAAG,EAAG2O,EAAUA,KACtCpF,EAAAhB,IAAC,gBAAA,CACCqE,QACAK,IAAK+B,EACL9B,OACAE,YACAE,UACAtG,QACA+F,cACAC,aACAG,SACAyB,aACAvB,cACAqB,YAEJ,GAGG,EDnEkBc,CACzB,CACEC,MAAO,EACPC,SAAU,EACVC,YAAa,EACbC,oBAAqB,EACrBC,kBAAmBzB,GAA0BJ,SEjBlC,+mBCAA,4pDCKR,MAAM8B,GAAN,WAAA9U,GACmBI,EAAAC,KAAA,OAAA,MAEjBD,EAAAC,KAAA,kBAAkB4I,IACvB5I,KAAK4I,KAAOA,CAAA,GAAA,CAGd,UAAW8L,GACF,OAAA1U,KAAK2U,UAAiB/L,IAC3B,MAAM3B,EAAEA,EAAAC,EAAGA,GAAM0B,EAAKE,SACtB,MAAO,CAAE,aAAc7B,EAAG,aAAcC,EAAE,GAE9C,CAEO,QAAAyN,CAAuCxI,GACxC,GAACnM,KAAK4I,KAGH,OAAAuD,EAAGnM,KAAK4I,KACjB,CAEO,YAAAgM,CAAsCzI,GACpC,OAAAnM,KAAK2U,UAAiB/L,GACpBuD,EAAGvD,EAAKqK,WAEnB,SClBK,cAAiCwB,GAAjC,WAAA9U,GAAA4S,SAAAjN,WAWEvF,EAAAC,KAAA,aAAY,EAAGgD,OAAM8F,eAC1B,OAAQ9F,GACN,IAAK,gBAEH,YADAhD,KAAK6U,eAAe/L,GAGtB,IAAK,eAEH,YADA9I,KAAK8U,cAAchM,GAGrB,IAAK,gBAEH,YADA9I,KAAK+U,iBAGP,IAAK,aAEH,YADA/U,KAAKgV,WAGP,IAAK,eAEH,YADAhV,KAAKiV,aAGP,QACE,OACJ,GAAA,CA/BF,gBAAWC,GACT,GAAIlV,KAAK4I,KAAM,CACb,MAAM3B,EAAEA,EAAAC,EAAGA,GAAMlH,KAAK4I,KAAKE,SAC3B,MAAO,CAAE,aAAc7B,EAAG,aAAcC,EAC1C,CACF,CA6BQ,cAAA2N,EAAe5N,EAAEA,EAAGC,EAAAA,IACrBlH,KAAA4U,cAAyB3B,IACvBjT,KAAAmV,mBAAmB,CAAC,CAAClC,EAAS3B,SAASgD,YAAa,KACzDrB,EAAS3B,SAASkD,kBAAkB5U,MAAQ,IAAI6R,EAAQxK,EAAGC,EAAC,GAEhE,CAEQ,aAAA4N,CAAchM,GACpB,MAAM7B,EAAEA,EAAGC,EAAAA,GAAMlH,KAAKoV,uBAAuBtM,GACxC9I,KAAA4U,cAAyB3B,IACvBjT,KAAAqV,kBACHpC,EAAS3B,SAASkD,kBAAkB5U,MACpC,IAAI6R,EAAQ3I,EAAS7B,EAAG6B,EAAS5B,GACjC,KAEGlH,KAAAmV,mBAAmB,CAAC,CAAClC,EAAS3B,SAASiD,oBAAqBtN,IAAG,IAEjEjH,KAAA2U,UAAiB/L,IACpB5I,KAAKsV,WAAW1M,EAAU,GAAJ3B,GAAiB,GAARC,EAAQ,GAE3C,CAEQ,cAAA6N,GACD/U,KAAA4U,cAAyB3B,IAC5BjT,KAAKmV,mBAAmB,CACtB,CAAClC,EAAS3B,SAASgD,YAAa,GAChC,CAACrB,EAAS3B,SAASiD,oBAAqB,KAErCvU,KAAAqV,kBACHpC,EAAS3B,SAASkD,kBAAkB5U,MACpCmT,GACA,IAAA,IAGC/S,KAAA2U,UAAiB/L,IACf5I,KAAAsV,WAAW1M,EAAM,EAAG,EAAC,GAE9B,CAEQ,sBAAAwM,CAAuBtM,GACtB,MAAA,CACL7B,EAAGjH,KAAKuV,kBAAkBzM,EAAS7B,GACnCC,EAAGlH,KAAKuV,kBAAkBzM,EAAS5B,GAEvC,CAEQ,iBAAAqO,CAAkBC,GACxB,OAAOA,GAAM,GAAM,GAAMA,IAAOA,EAAK,GACvC,CAEQ,kBAAAL,CAAmBM,GACzB,IAAA,MAAYC,EAAU9V,KAAU6V,EAC9BE,EAAKC,GAAGF,EAAU,CAChBG,SAAU,GACVjW,SAGN,CAEQ,iBAAAyV,CAAkBS,EAAkBlW,EAAgBiW,EAAW,IAChEE,EAAAH,GAAGE,EAAS3H,EAAA7D,EAAA,CAAA,EACZ1K,GADY,CAEfiW,aAEJ,CAEQ,UAAAP,CAAW1M,EAAqB3B,EAAWC,GAC5C6O,EAAAH,GAAGhN,EAAKoN,SAAU,CACrBH,SAAU,GACV3O,EAAGD,EACHA,EAAGC,GAEP,CAEQ,QAAA8N,GACDhV,KAAA4U,cAAyB3B,IACvB8C,EAAAH,GAAG3C,EAAS3B,SAAS+C,SAAU,CAClCwB,SAAU,GACVI,MAAO,GACPrW,MAAO,GACR,GAEL,CAEQ,UAAAqV,GACDjV,KAAA4U,cAAyB3B,IACvB8C,EAAAH,GAAG3C,EAAS3B,SAAS+C,SAAU,CAClCwB,SAAU,GACVjW,MAAO,GACR,GAEL,GCtIK,MAAMsW,GAAiB,EAAG1O,KAAIC,QAAOgE,QAAOC,aAC3C,MAAAqB,EAAaY,MAAIhB,IACjBqH,EAAW9S,EAAc,IAAIiV,IAsBjC,OApBFlJ,EAAAA,WAAU,KACJ,IAAC+G,EAASpL,KACZ,OAESmE,EAAArC,aAAalD,EAAIwM,EAASpL,MACrC,MAAMwN,EAAarJ,EAAWjD,UAAUtC,EAAIwM,EAASqC,WACrD,MAAO,KACLtJ,EAAWpC,YAAYnD,GACZuF,EAAA/C,YAAYxC,EAAI4O,EAAU,CAAA,GAEtC,CAACrJ,EAAYiH,EAAUxM,IAEjB8O,GAAA,CAAChG,EAAGiG,KACFvC,EAAAY,cAAyB3B,IAChCA,EAAS3B,SAAS8C,MAAMxU,MACrBqT,EAAS3B,SAAS8C,MAAMxU,MAAmB2W,CAAA,GAC/C,IAIDrI,EAAAhB,IAAC8F,GAAA,CACC,aAAY,EACZrH,MAAO,CAACF,EAAOC,GACfqC,IAAKiG,EAASwC,eACdpD,IAAK,GAAG3L,EAAMgP,0BAAG,EC9BVC,GAAsBpG,IAC3B,MAAAvD,EAAaY,MAAIhB,KAChBmH,EAAO6C,GAAYrJ,EAAAA,SAAmB,IAY3C,OAVFL,EAAAA,WAAU,KACR,MAAMzF,EAAKuF,EAAWnD,mBAAkB,EAAGvC,aACzCsP,EAAStP,EAAM,IAEjB,MAAO,KACL0F,EAAWhD,sBAAsBvC,EAAE,CAAA,GAEpC,CAACuF,UAGD6J,EAAAA,SACE,CAAA9J,SAAAgH,EAAMlC,KAAI,EAAGnG,QAAOC,SAAQlE,KAAIC,WAC/ByG,EAAAhB,IAACgJ,GAAA,CACC1O,KAEAC,QACAgE,QACAC,UAHKlE,MAMX,ECvBG,MAAM2O,WAA2B1B,GAI/B,QAAAoC,CAASC,EAAY,GACrB9W,KAAA2U,UAAiB/L,IACpB,MAAM3B,EAAEA,EAAAC,EAAGA,GAAM0B,EAAK+C,MAClB,IAAAoL,EACAC,EACAvQ,OAAOsF,WAAatF,OAAOwF,aAC7B8K,EAAQtQ,OAAOsF,WACfiL,EAASD,EAAQ7P,EAAKD,IAEtB+P,EAAQvQ,OAAOwF,YACf8K,EAASC,EAAQ/P,EAAKC,GAExByO,EACGsB,WACArB,GAAGhN,EAAK+C,MAAO,CACdzE,EAAG8P,EACH/P,EAAG8P,EACHlB,SAAU,EACVqB,KAAM,iBAEPtB,GACChN,EAAKE,SACL,CACE7B,EAAG,EACHC,EAAG,EACH2O,SAAU,EACVqB,KAAM,gBAER,GAEDtB,GACChN,EAAKoN,SACL,CACE9O,EAAGlH,KAAKmX,SAASL,GAAW,GAC5BjB,SAAU,IAEZ,IAEDD,GACChN,EAAKoN,SACL,CACE9O,EAAG,EACH2O,SAAU,IAEZ,GAAA,GAGR,CAEO,UAAAuB,EAAW3L,MAChBA,EAAAC,OACAA,EAAAoL,UACAA,EAAY,EAAAO,UACZA,EAAY,EAAAC,qBACZA,IAEKtX,KAAA2U,UAAiB/L,IACpB+M,EACGsB,SAAS,CAERM,WAAYD,IAEb1B,GAAGhN,EAAK+C,MAAO,CACd1E,EAAGwE,EACHvE,EAAGwE,EACHmK,SAAU,EACVqB,KAAM,iBAEPtB,GACChN,EAAKE,SACL,CACE7B,EAAG6P,EACH5P,EAAGmQ,EACHG,EAAG,EACH3B,SAAU,EACVqB,KAAM,gBAER,GAEDtB,GACChN,EAAKoN,SACL,CACE9O,EAAGlH,KAAKmX,SAASL,GAAW,GAC5BjB,SAAU,IAEZ,IAEDD,GACChN,EAAKoN,SACL,CACE9O,EAAG,EACH2O,SAAU,IAEZ,GAAA,GAGR,CAEQ,QAAAsB,CAASL,EAAmBW,GAC3B,OAAAC,EACJ,GAAKZ,GAAcrQ,OAAOsF,YAAc,GAAK0L,GAAe,EAAA,KAEjE,ECzGK,MAAME,GAA0B9W,IACrC,YAAAsS,EAAAtS,GAAA2G,GAAAA,EAAAC,MACAA,EAAAgE,MACAA,EAAAC,OACAA,EAAAkM,WACAA,EAAAC,aACAA,GANqC1E,EAOlC2E,EAAAtE,EAPkCL,EAOlC,CANH,KACA,QACA,QACA,SACA,aACA,iBAGM,MAAApG,EAAaY,MAAIhB,IACjBqH,EAAW9S,EAAc,IAAIiV,IAC7B1L,EAAcrJ,EAAAA,OAAO2L,EAAW1B,aAAa7D,IAwBjD,OAtBFyF,EAAAA,WAAU,eACF,MAAAhG,EAAEA,IAAGC,GAAM,OAAA6Q,EAAA,OAAA5E,EAAA,OAAAtS,EAAA4J,EAAYxJ,cAAZ,EAAAJ,EAAqB+H,WAArB,EAAAuK,EAA2BrK,UAA3BiP,EAAuC,CAAE9Q,EAAG,EAAGC,EAAG,GAC/D0Q,EACF5D,EAAS6C,SAAS5P,GACT4Q,GACT7D,EAASoD,WAAW,CAClB3L,QACAC,SACAoL,UAAW7P,EACXoQ,UAAWnQ,EACXoQ,qBAAsB,KACpBvK,EAAW3B,wBACX2B,EAAWpG,UAAUa,EAAI,CACvBxE,KAAM,eACN8F,SAAU,CAAE7B,EAAG,EAAGC,EAAG,IACtB,GAGP,GACC,CAACM,EAAIoQ,EAAYC,EAAc7D,EAAUvI,EAAOC,EAAQqB,IAGzDmB,EAAAhB,IAAC8F,GAAA7E,OACK2J,GADL,CAEC,aAAY,EACZnM,MAAO,CAACF,EAAOC,GACfqC,IAAKiG,EAASwC,eACdpD,IAAK,GAAG3L,EAAMgP,yBACd,aAAY,OAAAtD,EAAA,OAAAtS,EAAA4J,EAAYxJ,gBAAZJ,EAAqB+H,WAArBuK,EAAAA,EAA2BrK,SAAS7B,EAChD,aAAY,OAAA+Q,EAAA,OAAYD,EAAAtN,EAAAxJ,cAAS,EAAA8W,EAAAnP,eAAME,SAAS5B,IAAA,EC9CzC+Q,GAAkBhK,GACxBA,EAAM2J,YAAe3J,EAAM4J,aAIzB3J,EAAAhB,IAACyK,GAAwBrN,EAAA,CAAA,EAAG2D,IAH1B,KCAEiK,GAA2B5H,IAChC,MAAAvD,EAAaY,MAAIhB,KAChBmH,EAAO6C,GAAYrJ,WAAsB,CAC9CjG,OAAQ,GACR6D,YAAa,KACbC,kBAAmB,OAWnB,OARF8B,EAAAA,WAAU,KACF,MAAAzF,EAAKuF,EAAWnD,kBAAkB+M,GACxC,MAAO,KACL5J,EAAWhD,sBAAsBvC,EAAE,CAAA,GAEpC,CAACuF,MAGFG,IAAC0J,EACEA,SAAA,CAAA9J,SAAAgH,EAAMzM,OAAOuK,KAAI,EAAGnG,QAAOC,SAAQlE,KAAIC,WACtCyG,EAAAhB,IAAC+K,GAAA,CACCzQ,KAEAC,QACAgE,QACAC,SACAkM,WAAYpQ,IAAOsM,EAAM5I,YACzB2M,aAAcrQ,IAAOsM,EAAM3I,mBALtB3D,MAQX,ECrBS2Q,GAAc,EAAGrL,gBAE1BkD,KAACnD,GAA2B,CAAA1K,KAAK,mBAC9B2K,SAAA,CAAAA,EACAI,EAAAA,IAAA,MAAA,CAAI6B,UAAU,eAAe,eAAW,EACvCjC,SAAAoB,EAAA8B,KAACoI,EAAA,CACCC,MAAI,EACJC,QAAM,EACNC,MAAO,CAAEC,cAAe,QACxBC,GAAI,CAAEC,WAAW,EAAMC,OAAO,GAC9B7L,SAAA,CAAAoB,EAAAhB,IAAC0L,EAAa,WACbC,EAAAA,SACC,CAAA/L,SAAA,CAAAoB,EAAAhB,IAACuD,GAAO,UACPiG,GAAmB,cAI1BxJ,IAAC,MAAI,CAAA6B,UAAU,2BACbjC,SAAAoB,EAAAhB,IAACkL,EAAA,CACCC,MAAI,EACJC,QAAM,EACNC,MAAO,CAAEC,cAAe,QACxBC,GAAI,CAAEC,WAAW,EAAMC,OAAO,GAC9B7L,gBAAC+L,WACC,CAAA/L,SAAA,CAAAoB,EAAAhB,IAACuD,GAAO,UACPyH,GAAwB,iBAI9B7H,GAAW,UACXG,GAAS,OCrCHsI,GAASlK,EAAAA,YAAW,SAC/BmJ,EACAhK,GADE,IAAAiK,EAAAD,GAAAlJ,MAAAA,EAAAkK,UAAOA,EAAWhK,UAAAA,EAAAkB,QAAWA,GAA/B+H,EAA2CF,EAAAtE,EAA3CwE,EAA2C,CAAzC,QAAO,YAAW,YAAW,YAG/B,MAAMgB,EAAYhM,EAAAA,SAChB,IAAOkB,EAAAhB,IAAA,MAAA,CAAIa,MAAU0I,IAAKsC,EAAWE,IAAKpK,KAC1C,CAACkK,EAAWlK,EAAOd,IAGnB,OAAAG,EAAAhB,IAAC,MAAAiB,EAAA7D,EAAA,CACC4O,KAAK,QACLnK,UAAWoK,EAAW,iBAAkBpK,IACpC+I,GAHL,CAIEhL,SAAUmD,EAAA/C,EAAAA,IAAC,SAAO,CAAA+C,UAAmBnD,aAAsBkM,IAGlE,ICFaI,GAAenL,IACpB,MAAAlB,EAAaY,MAAIhB,IACjBrM,EAAOc,SAAyB,MAChCiY,EAAoB1L,MAAIH,KACvB8L,EAASC,GAAcjM,WAAyB,MAEvDL,EAAAA,WAAU,KACJ,IAAC3M,EAAKW,QACR,OAEF,MAAMqG,EAAgC,GAC3B,IAAA,MAAArG,QAAEA,KAAaoY,EACpBpY,GACFqG,EAAYlH,KAAKa,GAGrB,MAAMuG,EAAKuF,EAAW5C,cAAc7J,EAAKW,QAASqG,GAElD,OADAiS,EAAW/R,GACJ,KACMuF,EAAAvC,aAAahD,EAAIF,EAAW,CAAA,GAExC,CAACyF,EAAYsM,IAEV,MAAAG,EAAqB3L,eAAazF,IAClC,IAAC9H,EAAKW,QACR,OAEE,IAAAwY,EACAC,EACJ,GAAI,YAAatR,EAAG,CAClB,IAAKA,EAAEuR,QAAQ,GACb,SAECF,UAASC,WAAYtR,EAAEuR,QAAQ,GAAC,OAEhCF,UAASC,WAAYtR,GAEpB,MAAAwD,KAAEA,MAAMC,EAAKJ,MAAAA,EAAAC,OAAOA,GAAWpL,EAAKW,QAAQ8G,wBAC3C,MAAA,CACLd,EAAGxE,KAAKmX,KAAKH,EAAU7N,GAAQH,GAC/BvE,EAAG,EAAIzE,KAAKmX,KAAKF,EAAU7N,GAAOH,GAAM,GAEzC,IAEGmO,EAAiBhM,EAAAA,aACpB7K,GAAuBoF,IAChB,MAAAU,EAAW0Q,EAAmBpR,GAChCU,GAAYwQ,GACdvM,EAAWpG,UAAU2S,EAAS,CAC5BtW,OACA8F,YAEJ,GAEF,CAAC0Q,EAAoBzM,EAAYuM,IAG7BzE,EAAiB7H,EAAAA,SACrB,IAAM6M,EAAe,kBACrB,CAACA,IAEG/E,EAAgB9H,EAAAA,SACpB,IAAM6M,EAAe,iBACrB,CAACA,IAEG9E,EAAiB/H,EAAAA,SACrB,IAAM6M,EAAe,kBACrB,CAACA,IAGG5J,EAAUpC,EAAAA,aAAY,KACtByL,GACFvM,EAAW9B,cAAcqO,EAC3B,GACC,CAACA,EAASvM,IAGX,OAAAmB,EAAAhB,IAAC4L,GAAA3K,EAAA7D,EAAA,CACCyD,IAAKzN,GACD2N,GAFL,CAGCgC,UACA6J,aAAcjF,EACdkF,aAAclF,EACdmF,YAAalF,EACbmF,YAAanF,EACboF,aAAcnF,EACdoF,WAAYpF,IAAA,EClGLqF,GAAgB9J,IACrB,MAAA5E,EAASgF,EAAUC,GAEvB,OAAAzC,EAAA8B,KAAC,MAAA,CACCE,GAAG,kBACHnB,UAAU,gBACVwJ,MAAO,CAAE8B,UAAW3O,EAAQA,UAC5BoB,SAAA,QAACqL,GACC,CAAArL,SAAA,CAACI,EAAAA,IAAAiD,GAAA,CAAiBtB,MAAM,iBAAiB,aAAW,iBACjD/B,WAAQwN,OAAO1I,KAAI,CAAC2I,EAAOlU,MAClB6G,IAAAkM,GAAA,CAAoBL,UAAWwB,GAAdlU,OAG7B6G,EAAAA,IAACiD,GAAiB,CAAAtB,MAAM,gBAAgB,aAAW,gBAChD/B,SAAAzL,EAAQmZ,MAAM5I,KAAI,CAAC6I,EAAMpU,MAChB6G,IAAAkM,GAAA,CAAoBL,UAAW0B,GAAdpU,OAG7B6H,EAAAhB,IAACiD,GAAA,CACCtB,MAAM,mBACN,aAAW,mBACV/B,SAAQzL,EAAAiZ,OAAO1I,KAAI,CAAC2I,EAAOlU,MAClB6G,IAAAkM,GAAA,CAAoBL,UAAWwB,GAAdlU,OAG7B6G,EAAAA,IAACiD,GAAiB,CAAAtB,MAAM,kBAAkB,aAAW,kBAClD/B,SAAAzL,EAAQmZ,MAAM5I,KAAI,CAAC6I,EAAMpU,MAChB6G,IAAAkM,GAAA,CAAoBL,UAAW0B,GAAdpU,YAI/B6G,IAAC,MAAI,CAAA6B,UAAU,cAAU","x_google_ignoreList":[0,1,77,78,94]}