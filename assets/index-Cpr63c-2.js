var e=Object.defineProperty,t=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,r=(t,s,a)=>s in t?e(t,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[s]=a,o=(e,o)=>{for(var l in o||(o={}))s.call(o,l)&&r(e,l,o[l]);if(t)for(var l of t(o))a.call(o,l)&&r(e,l,o[l]);return e},l=(e,t,s)=>(r(e,"symbol"!=typeof t?t+"":t,s),s);import{r as i,j as n,C as c}from"./threeFiber-C7PdTxs4.js";import{S as d}from"./useMenuButtonDelay-u9Uf-HX4.js";import{h,X as m,g as u,b as p}from"./three-_vvEHZTK.js";import{u as w}from"./index-h_i4lC7b.js";import{g as k}from"./gsap-b4RP9EQ6.js";import{u as S}from"./useLabsLoader-tvnYWh2F.js";import{T as g,K as j}from"./Textures-iK-qAZTJ.js";import{a as x,u as b,E as y,d as M,f}from"./threeDrei-jPcrdQkF.js";import"./threeStdLib-Js3c5gj8.js";const v=class{static get bitmapTextures(){return[...Object.values(this.DECKS),...Object.values(this.WHEELS)]}};l(v,"METALS",{Black:"#333",Gray:"#6F6E6A",Navy:"#34495E",Cream:"#DEB887",White:"#eee",Red:"#E84118",Blue:"#068BD3",Green:"#A6E22E",Yellow:"#F1C40F",Purple:"#8E44AD",Magenta:"#BA3763",Pink:"#F1396E"}),l(v,"METAL_OPTIONS",Object.keys(v.METALS)),l(v,"DECKS",{"Oni Mask":"/assets/OniMask-IAPBTNrs.webp","Pink Swirl":"/assets/PinkSwirl-P5butbQC.webp","Red And Black":"/assets/red-and-black-IPiK0CU1.webp","Against The Tide":"/assets/against-the-tide-78sYwsoh.webp","Thank You":"/assets/thank-you-deck-DITZvcVZ.webp","Yellow And Black":"/assets/yellow-and-black-QfL2eQK_.webp","Red And White":"/assets/red-and-white-CRNjYeHA.webp","Black And Yellow":"/assets/black-and-yellow-Dk4eqnEg.webp","Green And Navy":"/assets/green-and-navy-KbXDwXIX.webp","Gray And Black":"/assets/gray-and-black-KFM3keZf.webp","Grid Streaks":"/assets/grid-streaks-NrF-XPmH.webp"}),l(v,"DECK_OPTIONS",Object.keys(v.DECKS)),l(v,"WHEELS",{Black:"/assets/wheel-black-qLXQZ-16.webp",Blue:"/assets/wheel-blue-k8cuEyZ1.webp",Cream:"/assets/wheel-cream-MGIPodjC.webp",Green:"/assets/wheel-green-1B4Wx_ly.webp",Navy:"/assets/wheel-navy-S1HX1Ufh.webp",Pink:"/assets/wheel-pink-ymBUV6sQ.webp",Purple:"/assets/wheel-purple-SzM0CubU.webp",Red:"/assets/wheel-red-m6gSMOZH.webp",Yellow:"/assets/wheel-yellow-T2Q4j7vG.webp"}),l(v,"WHEEL_OPTIONS",Object.keys(v.WHEELS));let T=v;const E=[0,.3,0],P=[2.5,.75,0],O=i.createContext({wheel:T.WHEEL_OPTIONS[0],updateWheels:()=>{},deck:T.DECK_OPTIONS[0],updateDeck:()=>{},truck:T.METAL_OPTIONS[0],updateTrucks:()=>{},bolt:T.METAL_OPTIONS[0],updateBolts:()=>{},lookAtDeck:()=>{},camera:i.createRef()}),I=({children:e})=>{const[t,s]=i.useState(T.WHEEL_OPTIONS[0]),[a,r]=i.useState(T.METAL_OPTIONS[0]),[o,l]=i.useState(T.DECK_OPTIONS[0]),[c,d]=i.useState(T.METAL_OPTIONS[0]),{camera:m,lookAtBolts:u,lookAtTruck:p,lookAtWheel:w,lookAtDeck:k}=(()=>{const e=i.useRef(null),t=i.useCallback(((t,s)=>{e.current&&(e.current.setTarget(t.x,t.y,t.z,!0),e.current.setPosition(s.x,s.y,s.z,!0))}),[e]),s=i.useCallback((()=>{t(new h(0,.29,.5),new h(.4,.3,1))}),[t]),a=i.useCallback((()=>{t(new h(.2,.54,.65),new h(.4,1,.6))}),[t]),r=i.useCallback((()=>{t(new h(.15,.3,.62),new h(-.75,.35,.8))}),[t]),o=i.useCallback((()=>{t(new h(...E),new h(...P))}),[t]);return i.useMemo((()=>({camera:e,lookAtBolts:r,lookAtDeck:o,lookAtTruck:s,lookAtWheel:a})),[r,o,s,a])})(),S=i.useCallback(((e,t)=>s=>{e(s),t()}),[]),g=i.useMemo((()=>S(s,w)),[S,w]),j=i.useMemo((()=>S(d,p)),[S,p]),x=i.useMemo((()=>S(l,k)),[S,k]),b=i.useMemo((()=>S(r,u)),[S,u]),y=i.useMemo((()=>({camera:m,wheel:t,bolt:a,deck:o,truck:c,lookAtDeck:k,updateWheels:g,updateTrucks:j,updateDeck:x,updateBolts:b})),[t,a,o,c,m,k,g,j,x,b]);return n.jsx(O.Provider,{value:y,children:e})},C=()=>i.useContext(O),A=({name:e,selected:t,children:s,onClick:a,colorField:r,imageField:o,imageStyles:l})=>{const c=w("option",{selected:t}),d=i.useCallback((()=>{a(e)}),[a,e]);return n.jsx("li",{children:n.jsxs("button",{className:c,onClick:d,children:[o?n.jsx("img",{src:o,alt:"",style:l}):n.jsx("div",{style:{backgroundColor:null!=r?r:void 0}}),n.jsx("span",{children:s})]})})},N=({title:e,selectedName:t,children:s})=>n.jsxs("div",{className:"options",children:[n.jsxs("div",{children:[n.jsx("h2",{children:e}),n.jsxs("p",{children:[n.jsx("span",{children:"| "}),null!=t?t:""]})]}),n.jsx("ul",{children:s})]}),D=e=>{const{deck:t,bolt:s,wheel:a,truck:r,updateBolts:o,updateDeck:l,updateTrucks:c,updateWheels:d}=C(),h=i.useMemo((()=>({width:"500%",height:"500%",translate:"20% -0%",objectFit:"cover"})),[]),m=i.useMemo((()=>({width:"125%",height:"125%",translate:"6% 8%",objectFit:"cover"})),[]);return n.jsxs("div",{className:"controls",children:[n.jsx(N,{title:"Deck",selectedName:t,children:T.DECK_OPTIONS.map((e=>n.jsx(A,{name:e,imageField:T.DECKS[e],onClick:l,imageStyles:h,selected:e===t,children:e},e)))}),n.jsx(N,{title:"Wheels",selectedName:a,children:T.WHEEL_OPTIONS.map((e=>n.jsx(A,{name:e,imageField:T.WHEELS[e],onClick:d,imageStyles:m,selected:e===a,children:e},e)))}),n.jsx(N,{title:"Trucks",selectedName:r,children:T.METAL_OPTIONS.map((e=>n.jsx(A,{name:e,colorField:T.METALS[e],onClick:c,selected:e===r,children:e},e)))}),n.jsx(N,{title:"Bolts",selectedName:s,children:T.METAL_OPTIONS.map((e=>n.jsx(A,{name:e,colorField:T.METALS[e],onClick:o,selected:e===s,children:e},e)))})]})},B="/assets/warehouse-512-2HjUVqN4.hdr",W="/assets/concrete-normal-cZDGbQ2H.avif",L="#3b3a3a",F=e=>{const t=x(W,(e=>{g.wrap(e).repeat(e,30).rerender(e),e.anisotropy=8})),s=i.useMemo((()=>new m({roughness:.75,color:L,normalMap:t})),[t]);return n.jsx("mesh",{castShadow:!0,receiveShadow:!0,position:[0,-.005,0],rotation:[-Math.PI/2,0,0],material:s,children:n.jsx("circleGeometry",{args:[20,32]})})};x.preload(W);const G="/assets/Skateboard-I1tSJVsz.glb",H="/assets/griptape-diffuse-PcFuFE1u.webp",_="/assets/griptape-roughness-9ocPRl8P.webp";x.preload([H,_]);const K="/assets/metal-normal-61eyqixG.avif";x.preload(K);const R={side:{rotation:[0,0,Math.PI/2],position:[.25,.295,0]},upright:{rotation:[0,0,0],position:[0,0,0]}},X=({boltColor:e,truckColor:t,deckTexture:s,wheelTexture:a,pos:r="upright"})=>{const o=(()=>{const e=x(H),t=x(_);return i.useMemo((()=>{const s=new m({map:e,bumpMap:t,roughnessMap:t,bumpScale:3.5,roughness:.8,color:"#555"});return e&&g.wrap(e).repeat(e,9).rerender(e),t&&(g.wrap(t).repeat(t,9).rerender(t),t.anisotropy=8),s}),[e,t])})(),l=((e="#555")=>i.useMemo((()=>new m({color:e,metalness:.5,roughness:.3})),[e]))(e),n=((e="#555")=>{const t=x(K,(e=>{g.wrap(e).repeat(e,8).rerender(e),e.anisotropy=8}));return i.useMemo((()=>new m({color:e,metalness:.8,roughness:.25,normalMap:t,normalScale:new u(.3,.3)})),[e,t])})(t),c=(d=s,i.useMemo((()=>new m({roughness:.1,map:d})),[d]));var d;const h=(e=>i.useMemo((()=>new m({roughness:.35,map:e})),[e]))(a);return{position:i.useMemo((()=>R[r]),[r]),wheelMaterial:h,deckMaterial:c,truckMaterial:n,boltMaterial:l,gripTapeMaterial:o}},Y=()=>{const e=i.useRef([]),t=i.useCallback(((e,t)=>s=>{s&&(t.current[e]=s)}),[]),s=i.useMemo((()=>Array.from({length:4},((s,a)=>t(a,e)))),[t]);return[e,s]},Q=i.forwardRef((function(e,t){const{nodes:s}=b(G),[a,r]=Y(),{position:o,boltMaterial:l,deckMaterial:c,truckMaterial:d,wheelMaterial:h,gripTapeMaterial:m}=X(e);return i.useImperativeHandle(t,(()=>({wheels:a})),[a]),n.jsx("group",{dispose:null,rotation:o.rotation,position:o.position,children:n.jsxs("group",{name:"Scene",children:[n.jsx("mesh",{name:"GripTape",castShadow:!0,receiveShadow:!0,material:m,geometry:s.GripTape.geometry,position:[0,.286,-.002]}),n.jsx("mesh",{name:"Wheel1",castShadow:!0,receiveShadow:!0,ref:r[0],geometry:s.Wheel1.geometry,material:h,position:[.238,.086,.635]}),n.jsx("mesh",{name:"Wheel2",castShadow:!0,receiveShadow:!0,ref:r[1],geometry:s.Wheel2.geometry,material:h,position:[-.237,.086,.635]}),n.jsx("mesh",{name:"Deck",castShadow:!0,receiveShadow:!0,geometry:s.Deck.geometry,material:c,position:[0,.271,-.002]}),n.jsx("mesh",{name:"Wheel4",castShadow:!0,receiveShadow:!0,ref:r[3],geometry:s.Wheel4.geometry,material:h,position:[-.238,.086,-.635],rotation:[Math.PI,0,Math.PI]}),n.jsx("mesh",{name:"Bolts",castShadow:!0,receiveShadow:!0,geometry:s.Bolts.geometry,material:l,position:[0,.198,0],rotation:[Math.PI,0,Math.PI]}),n.jsx("mesh",{name:"Wheel3",castShadow:!0,receiveShadow:!0,ref:r[2],geometry:s.Wheel3.geometry,material:h,position:[.237,.086,-.635],rotation:[Math.PI,0,Math.PI]}),n.jsx("mesh",{name:"Baseplates",castShadow:!0,receiveShadow:!0,geometry:s.Baseplates.geometry,material:d,position:[0,.211,0]}),n.jsx("mesh",{name:"Truck1",castShadow:!0,receiveShadow:!0,geometry:s.Truck1.geometry,material:d,position:[0,.101,-.617]}),n.jsx("mesh",{name:"Truck2",castShadow:!0,receiveShadow:!0,geometry:s.Truck2.geometry,material:d,position:[0,.101,.617],rotation:[Math.PI,0,Math.PI]})]})})}));j.isIOS&&b.preload(G);const U="/assets/Skateboard-optimized-peBXX0LU.glb",Z=i.forwardRef((function(e,t){const{nodes:s}=b(U,void 0,void 0,j.extendGLTF),[a,r]=Y(),{position:o,boltMaterial:l,deckMaterial:c,truckMaterial:d,wheelMaterial:h,gripTapeMaterial:m}=X(e);return i.useImperativeHandle(t,(()=>({wheels:a})),[a]),n.jsxs("group",{dispose:null,rotation:o.rotation,position:o.position,children:[n.jsx("mesh",{castShadow:!0,receiveShadow:!0,material:m,geometry:s.GripTape.geometry,position:[0,.306,-.002],scale:1.149}),n.jsx("mesh",{castShadow:!0,receiveShadow:!0,ref:r[0],material:h,geometry:s.Wheel1.geometry,position:[.242,.086,.635],scale:.077}),n.jsx("mesh",{castShadow:!0,receiveShadow:!0,ref:r[1],material:h,geometry:s.Wheel2.geometry,position:[-.241,.086,.635],scale:.077}),n.jsx("mesh",{castShadow:!0,receiveShadow:!0,material:c,geometry:s.Deck.geometry,position:[0,.293,-.002],scale:1.163}),n.jsx("mesh",{castShadow:!0,receiveShadow:!0,ref:r[2],material:h,geometry:s.Wheel4.geometry,position:[-.242,.086,-.635],rotation:[-Math.PI,0,-Math.PI],scale:.077}),n.jsx("mesh",{castShadow:!0,receiveShadow:!0,material:l,geometry:s.Bolts.geometry,position:[0,.164,0],rotation:[-Math.PI,0,-Math.PI],scale:.703}),n.jsx("mesh",{castShadow:!0,receiveShadow:!0,ref:r[3],material:h,geometry:s.Wheel3.geometry,position:[.241,.086,-.635],rotation:[-Math.PI,0,-Math.PI],scale:.077}),n.jsx("mesh",{castShadow:!0,receiveShadow:!0,material:d,geometry:s.Baseplates.geometry,position:[0,.194,0],scale:.718}),n.jsx("mesh",{castShadow:!0,receiveShadow:!0,material:d,geometry:s.Truck1.geometry,position:[0,.125,-.595],scale:.285}),n.jsx("mesh",{castShadow:!0,receiveShadow:!0,material:d,geometry:s.Truck2.geometry,position:[0,.125,.595],rotation:[-Math.PI,0,-Math.PI],scale:.285})]})}));j.isIOS||b.preload(U,void 0,void 0,j.extendGLTF);const z=i.forwardRef((function(e,t){return j.isIOS?n.jsx(Q,o({ref:t},e)):n.jsx(Z,o({ref:t},e))})),q=(e,t)=>{const s=(e=>{const t=x(e,(e=>{(Array.isArray(e)?t:[t]).forEach((e=>{e.flipY=!1,e.colorSpace=p,e.needsUpdate=!0}))}));return t})(i.useMemo((()=>Object.values(e)),[e])),a=i.useMemo((()=>{const t={};let s=-1;for(const a in e)t[a]=++s;return t}),[e]),r=i.useMemo((()=>{var e;return null!=(e=a[null!=t?t:"-1"])?e:0}),[a,t]);return i.useMemo((()=>s[r]),[s,r])},V="#6f6e6a";function J(e){S();const t=i.useRef(null),s=i.useRef(null),{camera:a,wheel:r,deck:o,bolt:l,truck:c,lookAtDeck:d}=C(),h=q(T.DECKS,o),m=q(T.WHEELS,r),u=null!=c?c:V,p=null!=l?l:V,w=i.useCallback((()=>{a.current&&t.current&&!a.current.colliderMeshes.length&&(a.current.colliderMeshes=[t.current])}),[a]);return i.useEffect((()=>{var e,t,a;if(null==(a=null==(t=null==(e=null==s?void 0:s.current)?void 0:e.wheels)?void 0:t.current)?void 0:a.length)for(const r of s.current.wheels.current)r&&k.to(r.rotation,{x:"+=30",duration:2.5,ease:"circ.out"})}),[r]),i.useEffect((()=>{a.current&&d()}),[d,a]),n.jsxs(i.Fragment,{children:[n.jsxs(i.Suspense,{fallback:null,children:[n.jsx(y,{files:B,environmentIntensity:.6}),n.jsx("directionalLight",{castShadow:!0,lookAt:[0,0,0],position:[1,1,1],intensity:1.6}),n.jsx("fog",{attach:"fog",args:[L,3,10]}),n.jsx("color",{attach:"background",args:[L]}),n.jsx(F,{}),n.jsxs("mesh",{rotation:[-Math.PI/2,0,0],ref:t,children:[n.jsx("planeGeometry",{args:[6,6]}),n.jsx("meshBasicMaterial",{visible:!1})]}),n.jsx(z,{pos:"side",ref:s,boltColor:p,truckColor:u,deckTexture:h,wheelTexture:m}),n.jsx(M,{makeDefault:!0,ref:a,maxDistance:4,minDistance:.2,onStart:w})]}),n.jsx(f,{all:!0})]})}function $(e){return n.jsx("div",{className:"skateboard-scene",children:n.jsxs(I,{children:[n.jsx("div",{className:"preview",children:n.jsx("div",{className:"canvas-container",children:n.jsx(c,{shadows:!0,camera:{fov:50,position:P},children:n.jsx(J,{})})})}),n.jsxs("div",{className:"options-menu",children:[n.jsx(d,{text:"Build Your Board"}),n.jsx(D,{})]})]})})}x.preload(T.bitmapTextures);export{$ as default};
//# sourceMappingURL=index-Cpr63c-2.js.map
