{"version":3,"file":"AppState.2e476ff2.js","sources":["../../../../../../node_modules/svelte/src/runtime/internal/each.js","../../../../../../src/lib/state/FrameState.ts","../../../../../../node_modules/@figliolia/event-emitter/dist/AutoIncrementingID.js","../../../../../../node_modules/@figliolia/event-emitter/dist/Indexer.js","../../../../../../node_modules/@figliolia/event-emitter/dist/EventEmitter.js","../../../../../../node_modules/@figliolia/event-emitter/dist/types.js","../../../../../../node_modules/@figliolia/event-emitter/dist/index.js","../../../../../../node_modules/@figliolia/task-queue/dist/Bucket.js","../../../../../../node_modules/@figliolia/task-queue/dist/PriorityQueue.js","../../../../../../node_modules/@figliolia/task-queue/dist/TaskQueue.js","../../../../../../node_modules/@figliolia/task-queue/dist/types.js","../../../../../../node_modules/@figliolia/task-queue/dist/index.js","../../../../../../src/lib/state/AppState.ts"],"sourcesContent":["import { transition_in, transition_out } from './transitions.js';\nimport { run_all } from './utils.js';\n\n// general each functions:\n\nexport function ensure_array_like(array_like_or_iterator) {\n\treturn array_like_or_iterator?.length !== undefined\n\t\t? array_like_or_iterator\n\t\t: Array.from(array_like_or_iterator);\n}\n\n// keyed each functions:\n\n/** @returns {void} */\nexport function destroy_block(block, lookup) {\n\tblock.d(1);\n\tlookup.delete(block.key);\n}\n\n/** @returns {void} */\nexport function outro_and_destroy_block(block, lookup) {\n\ttransition_out(block, 1, 1, () => {\n\t\tlookup.delete(block.key);\n\t});\n}\n\n/** @returns {void} */\nexport function fix_and_destroy_block(block, lookup) {\n\tblock.f();\n\tdestroy_block(block, lookup);\n}\n\n/** @returns {void} */\nexport function fix_and_outro_and_destroy_block(block, lookup) {\n\tblock.f();\n\toutro_and_destroy_block(block, lookup);\n}\n\n/** @returns {any[]} */\nexport function update_keyed_each(\n\told_blocks,\n\tdirty,\n\tget_key,\n\tdynamic,\n\tctx,\n\tlist,\n\tlookup,\n\tnode,\n\tdestroy,\n\tcreate_each_block,\n\tnext,\n\tget_context\n) {\n\tlet o = old_blocks.length;\n\tlet n = list.length;\n\tlet i = o;\n\tconst old_indexes = {};\n\twhile (i--) old_indexes[old_blocks[i].key] = i;\n\tconst new_blocks = [];\n\tconst new_lookup = new Map();\n\tconst deltas = new Map();\n\tconst updates = [];\n\ti = n;\n\twhile (i--) {\n\t\tconst child_ctx = get_context(ctx, list, i);\n\t\tconst key = get_key(child_ctx);\n\t\tlet block = lookup.get(key);\n\t\tif (!block) {\n\t\t\tblock = create_each_block(key, child_ctx);\n\t\t\tblock.c();\n\t\t} else if (dynamic) {\n\t\t\t// defer updates until all the DOM shuffling is done\n\t\t\tupdates.push(() => block.p(child_ctx, dirty));\n\t\t}\n\t\tnew_lookup.set(key, (new_blocks[i] = block));\n\t\tif (key in old_indexes) deltas.set(key, Math.abs(i - old_indexes[key]));\n\t}\n\tconst will_move = new Set();\n\tconst did_move = new Set();\n\t/** @returns {void} */\n\tfunction insert(block) {\n\t\ttransition_in(block, 1);\n\t\tblock.m(node, next);\n\t\tlookup.set(block.key, block);\n\t\tnext = block.first;\n\t\tn--;\n\t}\n\twhile (o && n) {\n\t\tconst new_block = new_blocks[n - 1];\n\t\tconst old_block = old_blocks[o - 1];\n\t\tconst new_key = new_block.key;\n\t\tconst old_key = old_block.key;\n\t\tif (new_block === old_block) {\n\t\t\t// do nothing\n\t\t\tnext = new_block.first;\n\t\t\to--;\n\t\t\tn--;\n\t\t} else if (!new_lookup.has(old_key)) {\n\t\t\t// remove old block\n\t\t\tdestroy(old_block, lookup);\n\t\t\to--;\n\t\t} else if (!lookup.has(new_key) || will_move.has(new_key)) {\n\t\t\tinsert(new_block);\n\t\t} else if (did_move.has(old_key)) {\n\t\t\to--;\n\t\t} else if (deltas.get(new_key) > deltas.get(old_key)) {\n\t\t\tdid_move.add(new_key);\n\t\t\tinsert(new_block);\n\t\t} else {\n\t\t\twill_move.add(old_key);\n\t\t\to--;\n\t\t}\n\t}\n\twhile (o--) {\n\t\tconst old_block = old_blocks[o];\n\t\tif (!new_lookup.has(old_block.key)) destroy(old_block, lookup);\n\t}\n\twhile (n) insert(new_blocks[n - 1]);\n\trun_all(updates);\n\treturn new_blocks;\n}\n\n/** @returns {void} */\nexport function validate_each_keys(ctx, list, get_context, get_key) {\n\tconst keys = new Map();\n\tfor (let i = 0; i < list.length; i++) {\n\t\tconst key = get_key(get_context(ctx, list, i));\n\t\tif (keys.has(key)) {\n\t\t\tlet value = '';\n\t\t\ttry {\n\t\t\t\tvalue = `with value '${String(key)}' `;\n\t\t\t} catch (e) {\n\t\t\t\t// can't stringify\n\t\t\t}\n\t\t\tthrow new Error(\n\t\t\t\t`Cannot have duplicate keys in a keyed each: Keys at index ${keys.get(\n\t\t\t\t\tkey\n\t\t\t\t)} and ${i} ${value}are duplicates`\n\t\t\t);\n\t\t}\n\t\tkeys.set(key, i);\n\t}\n}\n","export class FrameController {\n  static setShrinkDuration(width: number) {\n    if (width < 957) {\n      return 500;\n    }\n    return 700;\n  }\n\n  static setFlipDuration() {\n    return 1000;\n  }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AutoIncrementingID = void 0;\n/**\n * Auto Incrementing ID\n *\n * SQL-style ID generation!\n *\n * ```typescript\n * const IDs = new AutoIncrementingID();\n *\n * const uniqueID = IDs.get();\n * ```\n */\nclass AutoIncrementingID {\n    incrementor = -1;\n    /**\n     * Get\n     *\n     * Returns an auto-incrementing ID\n     */\n    get() {\n        return `${++this.incrementor}`;\n    }\n    /**\n     * Reset\n     *\n     * Resets the `AutoIncrementingID`'s incrementor back to 0\n     */\n    reset() {\n        this.incrementor - 1;\n    }\n}\nexports.AutoIncrementingID = AutoIncrementingID;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Indexer = void 0;\nconst AutoIncrementingID_1 = require(\"./AutoIncrementingID\");\n/**\n * Indexer\n *\n * Storage for the `EventEmitter`'s listeners. The `Indexer`\n * is an extension of the map prototype that provides ordered\n * indexing of callbacks with unique identifier for each index\n */\nclass Indexer extends Map {\n    IDs = new AutoIncrementingID_1.AutoIncrementingID();\n    /**\n     * Register\n     *\n     * Indexes a callback on the map and returns its unique\n     * identifier\n     */\n    register(callback) {\n        const ID = this.IDs.get();\n        this.set(ID, callback);\n        return ID;\n    }\n    /**\n     * Execute\n     *\n     * Iterates each lister on the map and executes it with\n     * the provided parameters\n     */\n    execute(...params) {\n        for (const [_, listener] of this) {\n            void listener(...params);\n        }\n    }\n}\nexports.Indexer = Indexer;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.EventEmitter = void 0;\nconst Indexer_1 = require(\"./Indexer\");\n/**\n * Event Emitter\n *\n * A low-code solution for type-safe event emitting outside of\n * the global scope\n *\n * ```typescript\n * const emitter = new EventEmitter<{\n *   \"event-1\": number[],\n *   \"event-2\": Map<string, () => {}>\n * }>();\n *\n * // Subscribe to permitted events\n * const ID1 = emitter.on(\"event-1\", list => {});\n * const ID2 = emitter.on(\"event-2\", map => {});\n *\n * // Emit permitted events\n * emitter.emit(\"event-1\", [1, 2, 3]);\n * emitter.emit(\"event-2\", new Map());\n *\n * // Clean up listeners to events\n *\n * emitter.off(\"event-1\", ID1);\n * emitter.off(\"event-2\", ID2);\n * ```\n */\nclass EventEmitter extends Map {\n    /**\n     * On\n     *\n     * Registers an event handler on the `EventEmitter`. Your handler will\n     * be invoked each time `EventEmitter.emit()` is called with an event\n     * matching your handler.\n     *\n     * ```typescript\n     * const emitter = new EventEmitter();\n     *\n     * const listenerID = emitter.on(\"event-1\", event => {\n     *   console.log(\"event-1\", event);\n     * });\n     *\n     * // Cleaning up\n     * emitter.off(\"event-1\", listenerID);\n     * ```\n     */\n    on(event, listener) {\n        const index = this.get(event) || new Indexer_1.Indexer();\n        const ID = index.register(listener);\n        this.set(event, index);\n        return ID;\n    }\n    off(event, ID) {\n        const index = this.get(event);\n        if (index) {\n            return index.delete(ID);\n        }\n    }\n    /**\n     * Off\n     *\n     * Removes an event handler from the `EventEmitter` given an\n     * event and lister ID\n     */\n    emit(event, param) {\n        const index = this.get(event);\n        if (index) {\n            index.execute(param);\n        }\n    }\n}\nexports.EventEmitter = EventEmitter;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AutoIncrementingID = exports.EventEmitter = void 0;\nvar EventEmitter_1 = require(\"./EventEmitter\");\nObject.defineProperty(exports, \"EventEmitter\", { enumerable: true, get: function () { return EventEmitter_1.EventEmitter; } });\nvar AutoIncrementingID_1 = require(\"./AutoIncrementingID\");\nObject.defineProperty(exports, \"AutoIncrementingID\", { enumerable: true, get: function () { return AutoIncrementingID_1.AutoIncrementingID; } });\n__exportStar(require(\"./types\"), exports);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Bucket = void 0;\nconst event_emitter_1 = require(\"@figliolia/event-emitter\");\n/**\n * Bucket\n *\n * A bucket is a wrapper around the native Map that\n * assigns an auto-incrementing ID to each value\n * added to the bucket. It provided a Queue-like\n * interface with the ability to access and remove\n * items in 0(1) time\n */\nclass Bucket {\n    constructor() {\n        this.bucket = new Map();\n        this.IDs = new event_emitter_1.AutoIncrementingID();\n    }\n    /**\n     * Enqueue\n     *\n     * Adds an item to the bucket and returns it's\n     * unique ID\n     */\n    enqueue(item) {\n        const ID = this.IDs.get();\n        this.bucket.set(ID, item);\n        return ID;\n    }\n    /**\n     * Dequeue\n     *\n     * Removes the first item from the Bucket and\n     * returns it\n     */\n    dequeue() {\n        for (const [ID, item] of this.bucket) {\n            this.bucket.delete(ID);\n            return item;\n        }\n    }\n    /**\n     * Peak\n     *\n     * Returns the first item from the Bucket or undefined\n     * if the bucket is empty\n     */\n    peak() {\n        for (const entry of this.bucket) {\n            return entry;\n        }\n    }\n    /**\n     * Delete\n     *\n     * Removes an item from the bucket by ID\n     */\n    delete(ID) {\n        return this.bucket.delete(ID);\n    }\n    /**\n     * Clear\n     *\n     * Removes all items from the bucket\n     */\n    clear() {\n        return this.bucket.clear();\n    }\n    /**\n     * Is Empty\n     *\n     * Returns true if the bucket contains no items\n     */\n    get isEmpty() {\n        return this.bucket.size === 0;\n    }\n    /**\n     * Length\n     *\n     * Returns the total number of items in the bucket\n     */\n    get length() {\n        return this.bucket.size;\n    }\n}\nexports.Bucket = Bucket;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.PriorityQueue = void 0;\nconst Bucket_1 = require(\"./Bucket\");\n/**\n * Priority Queue\n *\n * A bucket queue supporting a dynamic number of buckets\n * ```typescript\n * const queue = new PriorityQueue(3);\n * // queue = [[],[],[]]\n * queue.enqueue(() => {}, 1);\n * // queue = [[() => {}],[],[]]\n * queue.enqueue(() => {}, 2);\n * // queue = [[() => {}],[],[() => {}]]\n * queue.dequeue();\n * // queue = [[],[],[() => {}]]\n * queue.dequeue();\n * // queue = [[],[],[]]\n * ```\n */\nclass PriorityQueue {\n    constructor(buckets) {\n        this.buckets = [];\n        this.max = buckets - 1;\n        for (let i = 0; i < buckets; i++) {\n            this.buckets.push(new Bucket_1.Bucket());\n        }\n    }\n    /**\n     * Enqueue\n     *\n     * Adds an item to the queue at the specified priority.\n     * If no priority is provided, the item will be indexed\n     * into the *highest* priority bucket\n     */\n    enqueue(item, priority = 0) {\n        this.guard(priority);\n        return this.buckets[priority].enqueue(item);\n    }\n    /**\n     * Dequeue\n     *\n     * Removes the first item in the priority queue and\n     * returns it. Items are dequeued from higher priorities\n     * before lower priorities\n     */\n    dequeue() {\n        return this.findFirst((bucket) => {\n            return bucket.dequeue();\n        });\n    }\n    /**\n     * Get Bucket\n     *\n     * Returns the Nth bucket in the Queue\n     */\n    getBucket(priority = 0) {\n        this.guard(priority);\n        return this.buckets[priority];\n    }\n    /**\n     * Peak\n     *\n     * Returns the highest priority item in the Queue\n     */\n    peak() {\n        return this.findFirst((bucket) => {\n            return bucket.peak();\n        });\n    }\n    /**\n     * IsEmpty\n     *\n     * Returns true if the Queue has no items in any of\n     * its buckets\n     */\n    get isEmpty() {\n        return this.findFirst(() => {\n            return false;\n        }) === undefined\n            ? true\n            : false;\n    }\n    /**\n     * Length\n     *\n     * Returns the total number of items in the Queue\n     */\n    get length() {\n        let length = 0;\n        this.all((bucket) => {\n            length += bucket.length;\n        });\n        return length;\n    }\n    /**\n     * Delete By ID\n     *\n     * Removes an item from the Queue using its ID and\n     * priority\n     */\n    delete(ID, priority) {\n        this.guard(priority);\n        return this.getBucket(priority).delete(ID);\n    }\n    /**\n     * Clear\n     *\n     * Resets the priority queue and removes all items\n     */\n    clear() {\n        this.all((bucket) => {\n            bucket.clear();\n        });\n    }\n    /**\n     * Guard\n     *\n     * Throws a range error if the priority specified is out of range\n     */\n    guard(priority) {\n        if (priority > this.max) {\n            throw new Error(`Out of Range Error: Attempted to access a bucket index that does not exist`);\n        }\n    }\n    /**\n     * Find First\n     *\n     * Executes the provided callback on the first non-empty\n     * bucket\n     */\n    findFirst(cb) {\n        for (const bucket of this.buckets) {\n            if (!bucket.isEmpty) {\n                return cb(bucket);\n            }\n        }\n    }\n    /**\n     * All\n     *\n     * Executes the provided callback on each of the buckets\n     * present in the Queue\n     */\n    all(cb) {\n        for (const bucket of this.buckets) {\n            cb(bucket);\n        }\n    }\n}\nexports.PriorityQueue = PriorityQueue;\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __asyncValues = (this && this.__asyncValues) || function (o) {\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n    var m = o[Symbol.asyncIterator], i;\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TaskQueue = void 0;\nconst Bucket_1 = require(\"./Bucket\");\nconst PriorityQueue_1 = require(\"./PriorityQueue\");\n/**\n * Task Queue\n *\n * A Task Manager for handing varying priority tasks and scheduling.\n * `TaskQueue` instances provide two means for task scheduling.\n *\n * The first is a priority queue that indexes tasks based on a\n * priority specified by you:\n * ```\n * const TQ = new TaskQueue({\n *  priorities: 4,\n *  autoRun: false,\n *  taskSeparation: 5,\n * });\n *\n * const task1 = () => {};\n * const task2 = () => {};\n * const task3 = () => {};\n * const task4 = () => {};\n *\n * TQ.registerTask(task1, 4);\n * TQ.registerTask(task2, 3);\n * TQ.registerTask(task3, 2);\n * TQ.registerTask(task4, 1);\n *\n * const cancelFN = TQ.executeAll();\n * // The execution order => task4, task3, task2, task1\n * // 5ms will elapse between each task\n * ```\n *\n * `TaskQueue.registerTask()` returns a cancel function for easily\n * removing a task from the Queue\n *\n * The second means is the management and clean up of deferred tasks.\n * Deferring tasks through `setTimeout` is notorious for causing\n * memory leaks and unwanted side effects. This `TaskQueue` provides\n * management for scheduled tasks:\n * ```typescript\n * const TQ = new TaskQueue();\n *\n * const cancel = TQ.deferTask(() => {}, 1000); // Execute the task after 1000ms\n *\n * // cancel(); // cancel the task optionally\n * ```\n * `TaskQueue.deferTask()` also returns a cancel function for easily\n * removing a task from the Queue\n */\nclass TaskQueue {\n    constructor(config = TaskQueue.defaultConfig) {\n        this.autoRun = false;\n        this.taskSeparation = 0;\n        this.subscriptions = new Bucket_1.Bucket();\n        this.internals = new Bucket_1.Bucket();\n        this.deferredTasks = new Bucket_1.Bucket();\n        const { priorities = 1, autoRun = false, taskSeparation = 0 } = config;\n        this.autoRun = autoRun;\n        this.taskSeparation = taskSeparation;\n        this.tasks = new PriorityQueue_1.PriorityQueue(priorities);\n    }\n    /**\n     * Register Task\n     *\n     * Registers a non-deferred task on the TaskQueue at\n     * a specified priority level. Returns a cancel\n     * function that removes the task from the queue\n     */\n    registerTask(task, priority = 1) {\n        const ID = this.tasks.enqueue(task, priority - 1);\n        if (this.autoRun && !this.internals.peak()) {\n            this.executeAll();\n        }\n        return () => {\n            this.tasks.delete(ID, priority - 1);\n        };\n    }\n    /**\n     * Defer Task\n     *\n     * Schedules the specified task after a delay. Returns\n     * a cancel function that removes the task from the\n     * queue\n     */\n    deferTask(task, delay) {\n        const timer = setTimeout(() => {\n            void task();\n            this.deferredTasks.delete(ID);\n        }, delay);\n        const ID = this.deferredTasks.enqueue(timer);\n        return () => {\n            clearTimeout(timer);\n            this.deferredTasks.delete(ID);\n        };\n    }\n    /**\n     * Execute All\n     *\n     * Executes all tasks registered using `TaskQueue.registerTask()`.\n     * The task execution order will be based on the priority each task\n     * was registered with. Returns a cancel function\n     */\n    executeAll(onComplete, taskSeparation = this.taskSeparation) {\n        if (onComplete) {\n            this.subscriptions.enqueue(onComplete);\n        }\n        if (this.internals.peak()) {\n            return this.getCancelFN();\n        }\n        const cancelFN = this.cancellableExecution(this.tasks, taskSeparation);\n        const jobID = this.internals.enqueue(cancelFN);\n        const removeJob = () => {\n            this.internals.delete(jobID);\n        };\n        this.subscriptions.enqueue(removeJob);\n        return () => {\n            cancelFN();\n            removeJob();\n        };\n    }\n    /**\n     * Execute Tasks With Priority\n     *\n     * Executes all tasks registered using `TaskQueue.registerTask(task, N)`\n     * with the provided priority. Returns a cancel function\n     */\n    executeTasksWithPriority(priority = 1, taskSeparation = 0, onComplete) {\n        if (onComplete) {\n            this.subscriptions.enqueue(onComplete);\n        }\n        if (this.internals.peak()) {\n            return this.getCancelFN();\n        }\n        return this.cancellableExecution(this.tasks.getBucket(priority - 1), taskSeparation);\n    }\n    /**\n     * Clear Pending Tasks\n     *\n     * Clears all pending tasks\n     */\n    clearPendingTasks() {\n        this.tasks.clear();\n        this.clearDeferredTasks();\n    }\n    /**\n     * Clear Deferred Tasks\n     *\n     * Clears all pending tasks registered using `TaskQueue.deferTask()`\n     */\n    clearDeferredTasks() {\n        while (this.deferredTasks.length) {\n            const item = this.deferredTasks.dequeue();\n            if (item !== undefined) {\n                clearTimeout(item);\n            }\n        }\n    }\n    /**\n     * Get Cancel Function\n     *\n     * Returns the cancel function for currently executing tasks\n     * (if it exists). Returns undefined if no tasks are being\n     * executed;\n     */\n    getCancelFN() {\n        const activeTask = this.internals.peak();\n        if (activeTask) {\n            return activeTask[1];\n        }\n    }\n    /**\n     * Cancellable Execution\n     *\n     * Given Queue and a task separation time, schedules the\n     * execution of each task present. Returns a cancel\n     * function that pauses the execution of tasks\n     */\n    cancellableExecution(queue, taskSeparation = this.taskSeparation) {\n        let cancelToken = false;\n        const iterable = this.generator(queue, taskSeparation);\n        const iterate = () => __awaiter(this, void 0, void 0, function* () {\n            var _a, e_1, _b, _c;\n            try {\n                for (var _d = true, iterable_1 = __asyncValues(iterable), iterable_1_1; iterable_1_1 = yield iterable_1.next(), _a = iterable_1_1.done, !_a;) {\n                    _c = iterable_1_1.value;\n                    _d = false;\n                    try {\n                        const proceed = _c;\n                        if (cancelToken || !proceed) {\n                            break;\n                        }\n                        const task = queue.dequeue();\n                        task && void task();\n                    }\n                    finally {\n                        _d = true;\n                    }\n                }\n            }\n            catch (e_1_1) { e_1 = { error: e_1_1 }; }\n            finally {\n                try {\n                    if (!_d && !_a && (_b = iterable_1.return)) yield _b.call(iterable_1);\n                }\n                finally { if (e_1) throw e_1.error; }\n            }\n            if (this.subscriptions.length) {\n                return this.cancellableExecution(this.subscriptions, 0);\n            }\n        });\n        void iterate();\n        return () => {\n            cancelToken = true;\n        };\n    }\n    /**\n     * Generator\n     *\n     * Returns an async iterable yielding a promise that resolves\n     * after a specified duration. The duration specified is\n     * used for dispersing prioritized along the call stack\n     */\n    *generator(queue, taskSeparation = 0) {\n        while (!queue.isEmpty) {\n            yield new Promise((resolve) => {\n                this.deferTask(() => {\n                    resolve(true);\n                }, taskSeparation);\n            });\n        }\n    }\n}\nexports.TaskQueue = TaskQueue;\nTaskQueue.defaultConfig = {\n    priorities: 1,\n    autoRun: false,\n    taskSeparation: 0,\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Bucket = exports.PriorityQueue = exports.TaskQueue = void 0;\nvar TaskQueue_1 = require(\"./TaskQueue\");\nObject.defineProperty(exports, \"TaskQueue\", { enumerable: true, get: function () { return TaskQueue_1.TaskQueue; } });\nvar PriorityQueue_1 = require(\"./PriorityQueue\");\nObject.defineProperty(exports, \"PriorityQueue\", { enumerable: true, get: function () { return PriorityQueue_1.PriorityQueue; } });\nvar Bucket_1 = require(\"./Bucket\");\nObject.defineProperty(exports, \"Bucket\", { enumerable: true, get: function () { return Bucket_1.Bucket; } });\n__exportStar(require(\"./types\"), exports);\n","import { writable, get, derived } from \"svelte/store\";\nimport { FrameController } from \"./FrameState\";\nimport { TaskQueue } from \"@figliolia/task-queue\";\n\nexport const page = writable(\"Home\");\nexport const width = writable(\"100%\");\nexport const height = writable(\"100vh\");\nexport const rawWidth = writable(1000);\nexport const loading = writable(true);\nexport const menuOpen = writable(false);\nexport const entryDelay = writable(3000);\nexport const flipController = writable(\"flip-controller shrink reverse-rotation flip-active\");\nexport const shrinkDuration = derived(rawWidth, width => {\n  return FrameController.setShrinkDuration(width);\n});\nexport const flipDuration = derived(rawWidth, () => {\n  return FrameController.setFlipDuration();\n});\n\nexport class AppState {\n  public static TaskQueue = new TaskQueue();\n\n  public static enter() {\n    flipController.update(() => \"flip-controller shrink reverse-rotation\");\n    loading.update(() => false);\n    this.TaskQueue.deferTask(() => {\n      flipController.update(() => \"flip-controller shrink\");\n      flipController.update(() => \"flip-controller\");\n      this.TaskQueue.deferTask(() => {\n        this.TaskQueue.executeAll();\n      }, get(flipDuration));\n    }, 1000);\n  }\n\n  public static toggleMenu() {\n    menuOpen.update(state => !state);\n  }\n\n  public static setDimensions() {\n    rawWidth.update(() => window.innerWidth);\n    const nextHeight = `${window.innerHeight}px`;\n    if (nextHeight !== get(height)) {\n      height.update(() => nextHeight);\n    }\n    const nextWidth = `${window.innerWidth}px`;\n    if (nextWidth !== get(width)) {\n      width.update(() => nextWidth);\n    }\n  }\n\n  public static navigate(loader: () => Promise<void>) {\n    let timeout = 0;\n    if (get(menuOpen)) {\n      AppState.toggleMenu();\n      timeout = 800;\n    }\n    this.TaskQueue.deferTask(() => {\n      flipController.update(() => \"flip-controller shrink\");\n      this.TaskQueue.deferTask(() => {\n        flipController.update(() => \"flip-controller shrink reverse-rotation flip-active\");\n        this.TaskQueue.deferTask(() => {\n          loading.update(() => true);\n          void loader().then(() => {\n            this.TaskQueue.deferTask(() => {\n              loading.update(() => false);\n              flipController.update(() => \"flip-controller shrink reverse-rotation\");\n              this.TaskQueue.deferTask(() => {\n                flipController.update(() => \"flip-controller\");\n                this.TaskQueue.deferTask(() => {\n                  this.TaskQueue.executeAll();\n                }, get(shrinkDuration));\n              }, get(flipDuration));\n            }, get(flipDuration));\n          });\n        }, get(flipDuration));\n      }, get(shrinkDuration));\n    }, timeout);\n  }\n}\n"],"names":["ensure_array_like","array_like_or_iterator","FrameController","width","AutoIncrementingID_1","AutoIncrementingID","__publicField","Indexer_1","require$$0","Indexer","callback","ID","params","_","listener","EventEmitter_1","EventEmitter","event","index","param","types","__createBinding","this","o","m","k","k2","desc","__exportStar","exports","p","require$$1","require$$2","Bucket_1","event_emitter_1","Bucket","item","entry","PriorityQueue_1","PriorityQueue","buckets","i","priority","bucket","length","cb","__awaiter","thisArg","_arguments","P","generator","adopt","value","resolve","reject","fulfilled","step","e","rejected","result","__asyncValues","verb","n","v","settle","d","TaskQueue_1","TaskQueue","config","priorities","autoRun","taskSeparation","task","delay","timer","onComplete","cancelFN","jobID","removeJob","activeTask","queue","cancelToken","iterable","_a","e_1","_b","_c","_d","iterable_1","iterable_1_1","e_1_1","require$$3","page","writable","height","rawWidth","loading","menuOpen","entryDelay","flipController","shrinkDuration","derived","flipDuration","_AppState","get","state","nextHeight","nextWidth","loader","timeout","AppState"],"mappings":"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","x_google_ignoreList":[0,2,3,4,5,6,7,8,9,10,11]}