var x=Object.defineProperty;var W=(s,t,e)=>t in s?x(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e;var a=(s,t,e)=>(W(s,typeof t!="symbol"?t+"":t,e),e);import{d as Q,w as n}from"./index.0624fa79.js";import{g as i}from"./scheduler.c607dd8c.js";function A(s){return(s==null?void 0:s.length)!==void 0?s:Array.from(s)}class I{static setShrinkDuration(t){return t<957?500:700}static setFlipDuration(){return 1e3}}const l=class l extends Map{constructor(){super(...arguments);a(this,"timers",new Set)}registerTask(e){const o=this.ID();this.set(o,e)}flushTasks(){for(const[e,o]of this)o(),this.delete(e)}defer(e,o){const c=setTimeout(()=>{const m=()=>{clearTimeout(c),this.timers.delete(c)},k=e();k instanceof Promise?k.then(()=>m()):m()},o);this.timers.add(c)}popTimers(){for(const e of this.timers)clearTimeout(e),this.timers.delete(e)}ID(){return(++l.AutoIncrementingID).toString()}};a(l,"AutoIncrementingID",-1);let f=l;const C=n("Home"),g=n("100%"),T=n("100vh"),p=n(1e3),h=n(!0),D=n(!1),S=n(3e3),r=n("flip-controller shrink reverse-rotation flip-active"),v=Q(p,s=>I.setShrinkDuration(s)),u=Q(p,()=>I.setFlipDuration()),d=class d{static enter(){r.update(()=>"flip-controller shrink reverse-rotation"),h.update(()=>!1),this.TaskQueue.defer(()=>{r.update(()=>"flip-controller shrink"),r.update(()=>"flip-controller"),this.TaskQueue.defer(()=>{this.TaskQueue.flushTasks()},i(u))},1e3)}static toggleMenu(){D.update(t=>!t)}static setDimensions(){p.update(()=>window.innerWidth);const t=`${window.innerHeight}px`;t!==i(T)&&T.update(()=>t);const e=`${window.innerWidth}px`;e!==i(g)&&g.update(()=>e)}static navigate(t){let e=0;i(D)&&(d.toggleMenu(),e=800),this.TaskQueue.defer(()=>{r.update(()=>"flip-controller shrink"),this.TaskQueue.defer(()=>{r.update(()=>"flip-controller shrink reverse-rotation flip-active"),this.TaskQueue.defer(()=>{h.update(()=>!0),t().then(()=>{this.TaskQueue.defer(()=>{h.update(()=>!1),r.update(()=>"flip-controller shrink reverse-rotation"),this.TaskQueue.defer(()=>{r.update(()=>"flip-controller"),this.TaskQueue.defer(()=>{this.TaskQueue.flushTasks()},i(v))},i(u))},i(u))})},i(u))},i(v))},e)}};a(d,"TaskQueue",new f);let w=d;export{w as A,S as a,A as e,r as f,T as h,h as l,D as m,C as p,p as r,g as w};
