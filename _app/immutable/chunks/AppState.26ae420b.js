var x=Object.defineProperty;var W=(s,t,e)=>t in s?x(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e;var u=(s,t,e)=>(W(s,typeof t!="symbol"?t+"":t,e),e);import{d as Q,w as r}from"./index.0624fa79.js";import{g as i}from"./scheduler.c607dd8c.js";function A(s){return(s==null?void 0:s.length)!==void 0?s:Array.from(s)}class I{static setShrinkDuration(t){return t<957?500:700}static setFlipDuration(){return 1e3}}const l=class l extends Map{constructor(){super(...arguments);u(this,"timers",new Set)}registerTask(e){const o=this.ID();this.set(o,e)}flushTasks(){for(const[e,o]of this)o(),this.delete(e)}defer(e,o){const c=setTimeout(()=>{const m=()=>{clearTimeout(c),this.timers.delete(c)},k=e();k instanceof Promise?k.then(()=>m()):m()},o);this.timers.add(c)}popTimers(){for(const e of this.timers)clearTimeout(e),this.timers.delete(e)}ID(){return(++l.AutoIncrementingID).toString()}};u(l,"AutoIncrementingID",-1);let f=l;const C=r("Home"),T=r("100%"),g=r("100vh"),p=r(1e3),h=r(!0),D=r(!1),S=r(3e3),n=r("flip-controller shrink reverse-rotation flip-active"),v=Q(p,s=>I.setShrinkDuration(s)),a=Q(p,()=>I.setFlipDuration()),d=class d{static enter(){n.update(()=>"flip-controller shrink reverse-rotation"),h.update(()=>!1),this.TaskQueue.defer(()=>{n.update(()=>"flip-controller shrink"),n.update(()=>"flip-controller"),this.TaskQueue.defer(()=>{this.TaskQueue.flushTasks()},i(a))},1e3)}static toggleMenu(){D.update(t=>!t)}static setDimensions(){p.update(()=>window.innerWidth);const t=`${window.innerHeight}px`;t!==i(g)&&g.update(()=>t);const e=`${window.innerWidth}px`;e!==i(T)&&T.update(()=>e)}static navigate(t){let e=0;i(D)&&(d.toggleMenu(),e=800),this.TaskQueue.defer(()=>{n.update(()=>"flip-controller shrink"),this.TaskQueue.defer(()=>{n.update(()=>"flip-controller shrink reverse-rotation flip-active"),this.TaskQueue.defer(()=>{h.update(()=>!0)},i(a)),this.TaskQueue.defer(()=>{t().then(()=>{this.TaskQueue.defer(()=>{h.update(()=>!1),n.update(()=>"flip-controller shrink reverse-rotation"),this.TaskQueue.defer(()=>{n.update(()=>"flip-controller shrink"),n.update(()=>"flip-controller"),this.TaskQueue.defer(()=>{this.TaskQueue.flushTasks()},i(v))},i(a))},i(a))})},i(a))},i(v))},e)}};u(d,"TaskQueue",new f);let w=d;export{w as A,S as a,A as e,n as f,g as h,h as l,D as m,C as p,p as r,T as w};
